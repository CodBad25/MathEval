{"version":3,"file":"EquationSolve-4XzH1Rxq.js","sources":["../../src/exercicesInteractifs/EquationSolve.svelte"],"sourcesContent":["<script>\n  import katex from 'katex'\n  import { ChangeTypes } from 'mathsteps'\n  import { afterUpdate } from 'svelte'\n  import HeaderExerciceVueProf from '../components/shared/exercice/shared/headerExerciceVueProf/HeaderExerciceVueProf.svelte'\n  import Exercice from '../exercices/Exercice'\n  import { loadMathLive } from '../modules/loaders'\n  import { resoudre } from '../modules/outilsMathjs'\n\n  export let indiceExercice\n  export let indiceLastExercice\n\n  export const titre = \"Test du solveur d'équations\"\n  // Cette ressource n'a pas d'uuid ou de ref\n  // Son accès est défini dans uuidsRessources.json\n\n  const headerExerciceProps = {\n    title: '',\n    isInteractif: false,\n    settingsReady: false,\n    interactifReady: false,\n    randomReady: false,\n    correctionReady: false,\n  }\n\n  const exercice = new Exercice()\n  exercice.id = 'EquationSolve'\n  exercice.numeroExercice = indiceExercice\n  exercice.interactif = true\n\n  // Objet d’options bindé aux champs\n  let options = {\n    comment: false,\n    color: '#ff0000',\n    comments: {},\n    reduceSteps: false,\n    formatSolution: 'decimal',\n    substeps: false,\n    changeType: [],\n    produitsencroix: false,\n    verifications: false,\n    variables: {},\n  }\n\n  // Quelques exemples prédéfinis\n  const exemples = [\n    { label: 'Choisis un exemple...', value: '' },\n    { label: '2x + 5 = 15', value: '2x+5=15' },\n    { label: '3x - 7 = 11', value: '3x-7=11' },\n    { label: 'x/2 + 4 = 10', value: 'x/2+4=10' },\n    { label: '5(x - 1) = 20', value: '5(x-1)=20' },\n    { label: '5x - 8 = 10x + 7', value: '5x - 8 = 10x + 7' },\n    { label: '5x - 8 >= 8x + 7', value: '5x - 8 >= 8x + 7' },\n    { label: '5x - 8 = 10x + 4', value: '5x - 8 = 10x + 4' },\n    { label: '5x - 8 >= 10x + 4', value: '5x - 8 >= 10x + 4' },\n    { label: '5(x - 8) >= 10x + 7', value: '5(x - 8) >= 10x + 7' },\n    { label: '5(x - 8) >= 8x + 7', value: '5(x - 8) >= 8x + 7' },\n    { label: '5/x = 7/3', value: '5/x = 7/3' },\n    { label: '5/x + 4 = 7/3', value: '5/x + 4 = 7/3' },\n  ]\n\n  let types = Object.values(ChangeTypes).sort((a, b) => a.localeCompare(b))\n\n  function selectTypes(event) {\n    const selected = Array.from(event.target.selectedOptions).map(\n      (opt) => opt.value,\n    )\n    options.changeType = selected // ⬅️ ça remplace la variable\n  }\n\n  let saisie = ''\n  let resultat1 = ''\n  let resultat2 = ''\n\n  function choisirExemple(event) {\n    const value = event.target.value\n    if (value) {\n      saisie = value // ⬅️ ça remplace la variable\n    }\n  }\n\n  function valider() {\n    const resu = resoudre(saisie, options)\n    resultat1 = katex.renderToString(resu.equation)\n    resultat2 = katex.renderToString(\n      `\\\\begin{aligned}\\n${resu.printSteps.join('\\\\\\\\\\n')}\\n\\\\end{aligned}`,\n    )\n    // resultat2 = katex.renderToString(resu.texteCorr);\n  }\n\n  afterUpdate(() => {\n    loadMathLive()\n  })\n</script>\n\n<HeaderExerciceVueProf\n  {indiceExercice}\n  {indiceLastExercice}\n  id=\"EquationSolve\"\n  {...headerExerciceProps}\n/>\n\n<br />\n<form\n  on:submit|preventDefault=\"{valider}\"\n  style=\"display:flex; gap:0.5rem; align-items:center;\"\n>\n  <input\n    type=\"text\"\n    bind:value=\"{saisie}\"\n    placeholder=\"Tape quelque chose…\"\n    aria-label=\"Champ de saisie\"\n  />\n  <button type=\"submit\" disabled=\"{!saisie.trim()}\"> Valider </button>\n</form>\n<!-- Liste déroulante d’exemples -->\n<label>\n  Exemple :\n  <select on:change=\"{choisirExemple}\">\n    {#each exemples as ex}\n      <option value=\"{ex.value}\">{ex.label}</option>\n    {/each}\n  </select>\n</label>\n<!-- Options -->\n<h3>Options de résolution</h3>\n<div\n  style=\"display:grid; grid-template-columns: 1fr 1fr; gap:0.5rem; max-width:600px;\"\n>\n  <label>\n    <input type=\"checkbox\" bind:checked=\"{options.comment}\" />\n    comment\n  </label>\n\n  <label>\n    Couleur : <input type=\"color\" bind:value=\"{options.color}\" />\n  </label>\n\n  <label>\n    <input type=\"checkbox\" bind:checked=\"{options.reduceSteps}\" />\n    reduceSteps\n  </label>\n\n  <label>\n    formatSolution :\n    <select bind:value=\"{options.formatSolution}\">\n      <option value=\"decimal\">decimal</option>\n      <option value=\"fraction\">fraction</option>\n      <option value=\"2\">2 (base n°)</option>\n      <option value=\"5\">5 (base n°)</option>\n    </select>\n  </label>\n\n  <label>\n    <input type=\"checkbox\" bind:checked=\"{options.substeps}\" />\n    substeps\n  </label>\n\n  <label>\n    changeType (séparés par ,) :\n    <input\n      type=\"text\"\n      on:input=\"{(e) =>\n        (options.changeType = e.currentTarget.value\n          .split(',')\n          .map((x) => x.trim())\n          .filter(Boolean))}\"\n    />\n  </label>\n\n  <label>\n    changeType (sélection multiple) :\n    <select multiple size=\"4\" on:change=\"{selectTypes}\">\n      {#each types as type}\n        <option value=\"{type}\">{type}</option>\n      {/each}\n    </select>\n  </label>\n  <label>\n    <input type=\"checkbox\" bind:checked=\"{options.produitsencroix}\" />\n    produitsencroix\n  </label>\n\n  <label>\n    <input type=\"checkbox\" bind:checked=\"{options.verifications}\" />\n    verifications\n  </label>\n</div>\n\n<!-- Affichage du résultat -->\n<section style=\"margin-top:1rem;\">\n  <h3 style=\"margin:0 0 .25rem 0;\">Equation :</h3>\n  <div style=\"padding:.5rem; border:1px solid #ddd; border-radius:.5rem;\">\n    {@html resultat1}\n  </div>\n\n  <!-- Si tu veux interpréter la saisie comme du HTML, utilise {@html} -->\n  <!-- ⚠️ Attention : n'utilise pas {@html} avec du contenu non fiable (XSS). -->\n  <h3 style=\"margin:.75rem 0 .25rem 0;\">Résolution :</h3>\n  <div style=\"padding:.5rem; border:1px solid #ddd; border-radius:.5rem;\">\n    {@html resultat2}\n  </div>\n</section>\n"],"names":["t_value","ctx","option","insert","target","anchor","i","button","button_disabled_value","add_render_callback","select1","br","form","append","input0","label0","select0","h30","div0","label1","input1","label2","input2","set_input_value","label3","input3","label4","option0","option1","option2","option3","select_option","label5","input4","label6","input5","label7","select2","label8","input6","label9","input7","section","h31","div1","h32","div2","current","dirty","indiceExercice","$$props","indiceLastExercice","titre","headerExerciceProps","exercice","Exercice","options","exemples","types","ChangeTypes","a","b","selectTypes","event","selected","opt","saisie","resultat1","resultat2","choisirExemple","value","$$invalidate","valider","resu","resoudre","katex","afterUpdate","loadMathLive","select_value","e"],"mappings":"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"}
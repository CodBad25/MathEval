{"version":3,"file":"outilsStat-DThi-tEG.js","sources":["../../src/modules/outilsStat.ts"],"sourcesContent":["import { choice } from '../lib/outils/arrayOutils'\nimport { nomDuMois } from '../lib/outils/dateEtHoraires'\nimport { texFractionFromString } from '../lib/outils/deprecatedFractions'\nimport { ecritureParentheseSiNegatif } from '../lib/outils/ecritures'\nimport { lampeMessage } from '../lib/format/message'\nimport { arrondi } from '../lib/outils/nombres'\nimport { prenom } from '../lib/outils/Personne'\nimport { texteGras } from '../lib/format/style'\nimport { texNombre } from '../lib/outils/texNombre'\nimport { miseEnEvidence } from '../lib/outils/embellissements'\nimport FractionEtendue from './FractionEtendue'\n\nfunction underbraceMediane(nbVal: number) {\n  let sortie\n  if (nbVal % 2 === 0) {\n    // nb pair de valeurs\n    sortie = `$\\\\underbrace{1^e\\\\hspace{0.25cm}2^e ... ${nbVal / 2 - 1}^e}_{${nbVal / 2 - 1}\\\\; valeurs} \\\\hspace{0.25cm} ${nbVal / 2}^e \\\\hspace{0.25cm} ${nbVal / 2 + 1}^e \\\\hspace{0.25cm} \\\\underbrace{${nbVal / 2 + 2}^e ... ${nbVal}^e}_{${nbVal / 2 - 1}\\\\; valeurs}$`\n  } else {\n    // nb impair de valeurs\n    sortie = `$\\\\underbrace{1^e\\\\hspace{0.25cm}2^e ... ${(nbVal - 1) / 2}^e}_{${(nbVal - 1) / 2}\\\\; valeurs} \\\\hspace{0.25cm} ${(nbVal - 1) / 2 + 1}^e \\\\hspace{0.25cm} \\\\underbrace{${(nbVal - 1) / 2 + 2}^e ... ${nbVal}^e}_{${(nbVal - 1) / 2}\\\\; valeurs}$`\n  }\n  return sortie\n}\n\nfunction desTabEffCumul(\n  tirages: number[][],\n  effCumulBool: boolean,\n  categories: string[] = [],\n  lignes = [\n    'Catégories',\n    'Scores',\n    \"Nombre d'apparitions\",\n    \"Nombre d'apparitions cumulées\",\n  ],\n) {\n  let sortie\n  if (!effCumulBool) {\n    sortie = ''\n    if (tirages.length > 12) {\n      sortie += '$\\\\def\\\\arraystretch{1.5}\\\\begin{array}{|c' // construction du tableau des effectifs 1/2\n      for (let j = 0; j <= Math.round(tirages.length / 2); j++) {\n        sortie += '|c'\n      }\n      sortie += '}'\n      if (categories.length > 0) {\n        sortie += '\\\\hline ' + `\\\\text{${lignes[0]}} `\n        for (let j = 0; j < Math.round(tirages.length / 2); j++) {\n          sortie += '&\\\\text{' + categories[j] + '}'\n        }\n        sortie += '\\\\\\\\'\n      }\n      sortie += '\\\\hline  ' + `\\\\text{${lignes[1]}} `\n      for (let j = 0; j < Math.round(tirages.length / 2); j++) {\n        sortie += '&' + tirages[j][0]\n      }\n      sortie += '\\\\\\\\\\\\hline ' + `\\\\text{${lignes[2]}} `\n      for (let j = 0; j < Math.round(tirages.length / 2); j++) {\n        sortie += '&' + tirages[j][1]\n      }\n      sortie += '\\\\\\\\\\\\hline\\\\end{array}$<br><br>'\n\n      sortie += '$\\\\def\\\\arraystretch{1.5}\\\\begin{array}{|c' // construction du tableau des effectifs 2/2\n      for (let j = Math.round(tirages.length / 2); j <= tirages.length; j++) {\n        sortie += '|c'\n      }\n      sortie += '}'\n      if (categories.length > 0) {\n        sortie += '\\\\hline ' + `\\\\text{${lignes[0]}} `\n        for (let j = Math.round(tirages.length / 2); j < tirages.length; j++) {\n          sortie += '&\\\\text{' + categories[j] + '}'\n        }\n        sortie += '\\\\\\\\'\n      }\n      sortie += '\\\\hline ' + `\\\\text{${lignes[1]}} `\n      for (let j = Math.round(tirages.length / 2); j < tirages.length; j++) {\n        sortie += '&' + tirages[j][0]\n      }\n      sortie += '\\\\\\\\\\\\hline ' + `\\\\text{${lignes[2]}} `\n      for (let j = Math.round(tirages.length / 2); j < tirages.length; j++) {\n        sortie += '&' + tirages[j][1]\n      }\n      sortie += '\\\\\\\\\\\\hline\\\\end{array}$'\n    } else {\n      sortie += '$\\\\def\\\\arraystretch{1.5}\\\\begin{array}{|c' // construction du tableau des effectifs en un seul morceau\n      for (let j = 0; j <= tirages.length; j++) {\n        sortie += '|c'\n      }\n      sortie += '}'\n      if (categories.length > 0) {\n        sortie += '\\\\hline  ' + `\\\\text{${lignes[0]}} `\n        for (let j = 0; j < tirages.length; j++) {\n          sortie += '&\\\\text{' + categories[j] + '}'\n        }\n        sortie += '\\\\\\\\'\n      }\n      sortie += '\\\\hline  ' + `\\\\text{${lignes[1]}} `\n      for (let j = 0; j < tirages.length; j++) {\n        sortie += '&' + tirages[j][0]\n      }\n      sortie += '\\\\\\\\\\\\hline ' + `\\\\text{${lignes[2]}} `\n      for (let j = 0; j < tirages.length; j++) {\n        sortie += '&' + tirages[j][1]\n      }\n      sortie += '\\\\\\\\\\\\hline\\\\end{array}$'\n    }\n  } else {\n    sortie = ''\n    if (tirages.length > 12) {\n      sortie += '$\\\\def\\\\arraystretch{1.5}\\\\begin{array}{|c' // construction du tableau des effectifs 1/2\n      for (let j = 0; j <= Math.round(tirages.length / 2); j++) {\n        sortie += '|c'\n      }\n      sortie += '}'\n      if (categories.length > 0) {\n        sortie += '\\\\hline ' + `\\\\text{${lignes[0]}} `\n        for (let j = 0; j < Math.round(tirages.length / 2); j++) {\n          sortie += '&\\\\text{' + categories[j] + '}'\n        }\n        sortie += '\\\\\\\\'\n      }\n      sortie += '\\\\hline  ' + `\\\\text{${lignes[1]}} `\n      for (let j = 0; j < Math.round(tirages.length / 2); j++) {\n        sortie += '&' + tirages[j][0]\n      }\n      sortie += '\\\\\\\\\\\\hline  ' + `\\\\text{${lignes[2]}} `\n      for (let j = 0; j < Math.round(tirages.length / 2); j++) {\n        sortie += '&' + tirages[j][1]\n      }\n      sortie += '\\\\\\\\\\\\hline ' + `\\\\text{${lignes[3]}} `\n      for (let j = 0; j < Math.round(tirages.length / 2); j++) {\n        let cumul = 0\n        for (let k = 0; k <= j; k++) {\n          cumul += tirages[k][1]\n        }\n        sortie += '&' + cumul // tirages[j][1];\n      }\n      sortie += '\\\\\\\\\\\\hline\\\\end{array}$<br><br>'\n\n      sortie += '$\\\\def\\\\arraystretch{1.5}\\\\begin{array}{|c' // construction du tableau des effectifs 2/2\n      for (let j = Math.round(tirages.length / 2); j <= tirages.length; j++) {\n        sortie += '|c'\n      }\n      sortie += '}'\n      if (categories.length > 0) {\n        sortie += '\\\\hline ' + `\\\\text{${lignes[0]}} `\n        for (let j = Math.round(tirages.length / 2); j < tirages.length; j++) {\n          sortie += '&\\\\text{' + categories[j] + '}'\n        }\n        sortie += '\\\\\\\\'\n      }\n      sortie += '\\\\hline  ' + `\\\\text{${lignes[1]}} `\n      for (let j = Math.round(tirages.length / 2); j < tirages.length; j++) {\n        sortie += '&' + tirages[j][0]\n      }\n      sortie += '\\\\\\\\\\\\hline ' + `\\\\text{${lignes[2]}} `\n      for (let j = Math.round(tirages.length / 2); j < tirages.length; j++) {\n        sortie += '&' + tirages[j][1]\n      }\n      sortie += '\\\\\\\\\\\\hline ' + `\\\\text{${lignes[3]}} `\n      for (let j = Math.round(tirages.length / 2); j < tirages.length; j++) {\n        let cumul = 0\n        for (let k = 0; k <= j; k++) {\n          cumul += tirages[k][1]\n        }\n        sortie += '&' + cumul // tirages[j][1];\n      }\n      sortie += '\\\\\\\\\\\\hline\\\\end{array}$'\n    } else {\n      sortie += '$\\\\def\\\\arraystretch{1.5}\\\\begin{array}{|c' // construction du tableau des effectifs en un seul morceau\n      for (let j = 0; j <= tirages.length; j++) {\n        sortie += '|c'\n      }\n      sortie += '}'\n      if (categories.length > 0) {\n        sortie += '\\\\hline ' + `\\\\text{${lignes[0]}} `\n        for (let j = 0; j < tirages.length; j++) {\n          sortie += '&\\\\text{' + categories[j] + '}'\n        }\n        sortie += '\\\\\\\\'\n      }\n      sortie += '\\\\hline  ' + `\\\\text{${lignes[1]}} `\n      for (let j = 0; j < tirages.length; j++) {\n        sortie += '&' + tirages[j][0]\n      }\n      sortie += '\\\\\\\\\\\\hline ' + `\\\\text{${lignes[2]}} `\n      for (let j = 0; j < tirages.length; j++) {\n        sortie += '&' + tirages[j][1]\n      }\n      sortie += '\\\\\\\\\\\\hline ' + `\\\\text{${lignes[3]}} `\n      for (let j = 0; j < tirages.length; j++) {\n        let cumul = 0\n        for (let k = 0; k <= j; k++) {\n          cumul += tirages[k][1]\n        }\n        sortie += '&' + cumul // tirages[j][1];\n      }\n      sortie += '\\\\\\\\\\\\hline\\\\end{array}$'\n    }\n  }\n\n  return sortie\n}\n\nfunction computeMoyenne(notes: number[]): [string, number] {\n  let somme = 0\n  for (let j = 0; j < notes.length; j++) {\n    somme += notes[j]\n  }\n\n  return [texFractionFromString(somme, notes.length), somme]\n}\n\nfunction computeMediane(notes: number[]): [number | [number, number], number] {\n  const notesRangees = notes.sort((a, b) => a - b)\n  let mediane\n  if (notes.length % 2 === 0) {\n    // attention les indices commencent à 0 !\n    mediane = [\n      notesRangees[notes.length / 2 - 1],\n      notesRangees[notes.length / 2],\n    ] as [number, number]\n  } else {\n    mediane = notesRangees[(notes.length - 1) / 2] as number\n  }\n  let medianeCorr // pour la correction statique\n  Array.isArray(mediane)\n    ? (medianeCorr = (mediane[0] + mediane[1]) / 2)\n    : (medianeCorr = mediane)\n  return [mediane, medianeCorr]\n}\n\nfunction computeEtendue(notes: number[]): [number, number] {\n  let min = notes[0]\n  let max = notes[0]\n  for (let j = 1; j < notes.length; j++) {\n    // On cherche la note minimum et la note maximum\n    min = Math.min(notes[j], min)\n    max = Math.max(notes[j], max)\n  }\n  return [min, max]\n}\n\nfunction computeMoyenneTirages2D(\n  tirages: number[][],\n): [string, number, number] {\n  let somme = 0\n  let effectif = 0\n  for (let k = 0; k < tirages.length; k++) {\n    somme += tirages[k][0] * tirages[k][1]\n    effectif += tirages[k][1]\n  }\n  return [texFractionFromString(somme, effectif), somme, effectif]\n}\n\nfunction computeMedianeTirages2D(\n  nombreTirages: number,\n  tirages: number[][],\n): [[number, number] | [number], number] {\n  const scoresMedians: number[] = []\n  let medianeCorr // pour la correction statique\n  if (nombreTirages % 2 === 0) {\n    // on récupère le score des deux lancers médians\n    // compteur\n    let cpt = 0\n    // Pour cumuler les effectifs, tirages est un tableau 2D qui contient les couples [score,effectif]\n    let effCumulCroiss = tirages[0][1]\n    // On récupère le premier score médian\n    while (effCumulCroiss < nombreTirages / 2) {\n      cpt += 1\n      effCumulCroiss += tirages[cpt][1]\n    }\n\n    scoresMedians.push(tirages[cpt][0])\n    // On récupère le second score médian\n    cpt = 0\n    effCumulCroiss = tirages[0][1]\n    while (effCumulCroiss < nombreTirages / 2 + 1) {\n      cpt += 1\n      effCumulCroiss += tirages[cpt][1]\n    }\n\n    scoresMedians.push(tirages[cpt][0])\n    scoresMedians[0] === scoresMedians[1]\n      ? (medianeCorr = scoresMedians[0])\n      : (medianeCorr = (scoresMedians[0] + scoresMedians[1]) / 2)\n  } else {\n    // Le nombre de lancers est impair ici\n    // on récupère le score des deux lancers médians\n    // compteur\n    let cpt = 0\n    // Pour cumuler les effectifs, tirages est un tableau 2D qui contient les couples [score,effectif]\n    let effCumulCroiss = tirages[0][1]\n    // On récupère le premier score médian\n    while (effCumulCroiss <= nombreTirages / 2) {\n      cpt += 1\n      effCumulCroiss += tirages[cpt][1]\n    }\n\n    scoresMedians.push(tirages[cpt][0])\n    medianeCorr = scoresMedians[0]\n  }\n  const scoreMed = scoresMedians.slice(0, 2) as [number, number]\n  return [scoreMed, medianeCorr]\n}\n\nfunction texteCorrMoyenneNotes(\n  notesSeries: number[] | number[][],\n  somme: number,\n  nombreNotes: number,\n  notes = 'notes',\n) {\n  const data = [\n    ['notes', 'la moyenne des notes', ''],\n    ['lancers', 'la moyenne des lancers', ''],\n    [\n      'températures',\n      'la moyenne des températures',\n      ' $\\\\mathbf{^\\\\circ\\\\text{C}}$',\n    ],\n    ['salaires', 'le salaire moyen', ' €'],\n    ['pointures', 'la pointure moyenne', ''],\n  ]\n\n  const noteStr = data.find((el) => el[0] === notes) || ['', '', '']\n\n  let texteCorr = ''\n  if (\n    notesSeries !== undefined &&\n    notesSeries instanceof Array &&\n    notesSeries.length > 0 &&\n    notesSeries[0] instanceof Array &&\n    notesSeries[0].length > 0\n  ) {\n    // tableau à deux entrées\n    const noteSeries = notesSeries as number[][]\n    texteCorr += '$\\\\text{Moyenne} = '\n    texteCorr += `\\\\dfrac{${notesSeries[0][0]} \\\\times ${notesSeries[0][1]}`\n    let eff = `${notesSeries[0][1]}`\n    for (let j = 1; j < notesSeries.length; j++) {\n      if (notesSeries.length < 10) {\n        texteCorr += `+ ${noteSeries[j][0]} \\\\times ${noteSeries[j][1]}`\n        eff += `+ ${noteSeries[j][1]}`\n      } else {\n        if (j < 3)\n          texteCorr += `+ ${noteSeries[j][0]} \\\\times ${noteSeries[j][1]}`\n        if (j < 3) eff += `+ ${noteSeries[j][1]}`\n        if (j === 3) texteCorr += '+ \\\\ldots '\n        if (j === 3) eff += '+ \\\\ldots '\n        if (j + 3 >= noteSeries.length)\n          texteCorr += `+ ${noteSeries[j][0]} \\\\times ${noteSeries[j][1]}`\n        if (j + 3 >= noteSeries.length) eff += `+ ${noteSeries[j][1]}`\n      }\n    }\n    texteCorr += `}{${eff}}=\\\\dfrac{${texNombre(somme, 0)}}{${texNombre(nombreNotes, 0)}}$. <br>`\n  } else {\n    // tableau à une entrée\n    texteCorr += '$\\\\text{Moyenne} = '\n    texteCorr += `\\\\dfrac{${notesSeries[0]} `\n    for (let j = 1; j < notesSeries.length; j++) {\n      if (notesSeries.length < 10) {\n        texteCorr += `+ ${notesSeries[j]}`\n      } else {\n        if (j < 3) texteCorr += `+ ${notesSeries[j]}`\n        if (j === 3) texteCorr += '+ \\\\ldots '\n        if (j + 3 >= notesSeries.length) texteCorr += `+ ${notesSeries[j]}`\n      }\n    }\n    texteCorr += `}{${notesSeries.length}}=\\\\dfrac{${texNombre(somme, 0)}}{${texNombre(nombreNotes, 0)}}$. <br>`\n  }\n  texteCorr += `La somme des ${notes} est : $${texNombre(somme, 0)}$.<br> Il y a $${texNombre(nombreNotes, 0)}$ ${notes}.<br>`\n  texteCorr += `Donc ${noteStr[1]} est $${new FractionEtendue(somme, nombreNotes).texFSD}`\n  if (arrondi(somme / nombreNotes, 1) === somme / nombreNotes) {\n    // moyenne exacte\n    texteCorr += `=${miseEnEvidence(texNombre(somme / nombreNotes, 1))}$${noteStr[2]}.<br>`\n  } else {\n    // moyenne arrondie\n    texteCorr += `\\\\approx${miseEnEvidence(texNombre(somme / nombreNotes, 1))}$${noteStr[2]}.<br>`\n  }\n  return texteCorr\n}\n\nfunction texteCorrEtendueNotes(min: number, max: number, note = 'note') {\n  const data = [\n    ['note', 'La note la plus basse', 'La note la plus haute', ''],\n    [\n      'lancer',\n      'Le résultat du lancer le plus faible',\n      'Le résultat du lancer le plus élevé',\n      '',\n    ],\n    [\n      'température',\n      'La température la plus basse',\n      'La température la plus haute',\n      ' $\\\\mathbf{^\\\\circ\\\\text{C}}$',\n    ],\n    ['salaire', 'Le salaire le plus bas', 'Le salaire le plus haut', ' €'],\n    ['pointure', 'La pointure la plus basse', 'La pointure la plus haute', ''],\n  ]\n  const notes = data.find((el) => el[0] === note) || ['', '', '', '']\n  let texteCorr = `${notes[1]} est $${min}$${notes[3]}.<br>${notes[2]} est $${max}$${notes[3]}.<br>`\n  texteCorr += `Donc l'étendue des ${note}s est  $${texNombre(max, 1)}-${ecritureParentheseSiNegatif(min)}=${miseEnEvidence(texNombre(max - min, 1))}$ ${notes[3]}.`\n  return texteCorr + '<br>'\n}\n\nfunction texteCorrMedianeTemperatures(\n  temperatures: number[],\n  medianeCorr: number,\n  scoresMedians: [number, number] | number,\n) {\n  if (typeof scoresMedians === 'number')\n    scoresMedians = [scoresMedians, scoresMedians]\n  return texteCorrMedianeNotes(\n    temperatures,\n    medianeCorr,\n    scoresMedians,\n    'température',\n  )\n}\n\nfunction texteCorrMedianeNotes(\n  notes: number[],\n  medianeCorr: number,\n  scoresMedians: [number, number] | number,\n  note = 'note',\n) {\n  if (typeof scoresMedians === 'number') {\n    scoresMedians = [scoresMedians, scoresMedians]\n  }\n  const data = [\n    ['note', '', '', ''],\n    ['température', ' $\\\\mathbf{^\\\\circ\\\\text{C}}$', '', ''],\n  ]\n  const noteStr = data.find((el) => el[0] === note) || ['', '', '', '']\n  let texteCorr = `Au total, il y a $${notes.length}$ ${noteStr[0]}s. `\n  if (notes.length % 2 === 0) {\n    texteCorr += `Le nombre de ${noteStr[0]}s est pair.<br>`\n  } else {\n    texteCorr += `Le nombre de ${noteStr[0]}s est impair.<br>`\n  }\n\n  texteCorr += `Les ${noteStr[0]}s sont rangées dans l'ordre croissant : <br> $${notes[0]}$`\n  for (let j = 1; j < notes.length - 1; j++) {\n    if (notes.length < 10) {\n      texteCorr += `; $${notes[j]}$ `\n    } else {\n      if (j < 2) texteCorr += `; $${notes[j]}$ `\n      if (j === 2) texteCorr += '; $\\\\dots$ '\n      if (notes.length % 2 === 0 && j === notes.length / 2 - 2)\n        texteCorr += `; $${notes[j]}$ `\n      if (notes.length % 2 === 0 && j === notes.length / 2 - 1)\n        texteCorr += `; $${notes[j]}$ `\n      if (notes.length % 2 === 0 && j === notes.length / 2)\n        texteCorr += `; $${notes[j]}$ `\n      if (notes.length % 2 === 0 && j === notes.length / 2 + 1)\n        texteCorr += `; $${notes[j]}$ `\n      if (notes.length % 2 === 0 && j === notes.length / 2 + 2)\n        texteCorr += '; $\\\\dots$ '\n      if (notes.length % 2 === 1 && j === (notes.length - 1) / 2 - 1)\n        texteCorr += `; $${notes[j]}$ `\n      if (notes.length % 2 === 1 && j === (notes.length - 1) / 2)\n        texteCorr += `; $${notes[j]}$ `\n      if (notes.length % 2 === 1 && j === (notes.length - 1) / 2 + 1)\n        texteCorr += `; $${notes[j]}$ `\n      if (notes.length % 2 === 1 && j === (notes.length - 1) / 2 + 1)\n        texteCorr += '; $\\\\dots$ '\n      if (j + 2 > notes.length - 1) texteCorr += `; $${notes[j]}$ `\n    }\n  }\n  texteCorr += `et $${notes[notes.length - 1]}$.<br>`\n\n  if (notes.length % 2 === 0) {\n    texteCorr += `Les valeurs centrales sont la $${notes.length / 2}^{e}$ valeur et la $${notes.length / 2 + 1}^{e}$ valeur.<br>\n    En effet, ${underbraceMediane(notes.length)}<br>\n    Une médiane peut être la demi-somme des deux valeurs centrales. <br>\n    La $${notes.length / 2}^{e}$ valeur est $${scoresMedians[0]}$ et la $${notes.length / 2 + 1}^{e}$ valeur est $${scoresMedians[1]}$.<br>`\n  } else {\n    texteCorr += `La valeur centrale est donc la $${(notes.length + 1) / 2}^{e}$ valeur.<br>\n    En effet, ${underbraceMediane(notes.length)}<br>\n    La médiane est donc la $${(notes.length + 1) / 2}^{e}$ ${noteStr[0]}.<br>`\n  }\n\n  texteCorr += `D'où la médiane des ${noteStr[0]}s est ${scoresMedians[0] === scoresMedians[1] ? '' : `$\\\\mathbf{(${scoresMedians[0]} + ${scoresMedians[1]}) \\\\div 2=}$`} $${miseEnEvidence(texNombre(medianeCorr))}$${noteStr[1]}.<br>`\n  if (notes.length % 2 === 0) {\n    texteCorr += lampeMessage({\n      titre: 'Interprétation',\n      texte: `Il y a bien $${notes.length / 2}$ ${noteStr[0]}s inférieures ou égales à  $${texNombre(medianeCorr, 1)}$ et $${notes.length / 2}$ ${noteStr[0]}s supérieures ou égales à  $${texNombre(medianeCorr, 1)}$.`,\n      couleur: 'nombres',\n    })\n  } else {\n    texteCorr += lampeMessage({\n      titre: 'Interprétation',\n      texte: `Il y a bien $${(notes.length - 1) / 2}$ ${noteStr[0]}s inférieures ou égales à  $${texNombre(medianeCorr, 1)}$ et $${(notes.length - 1) / 2}$ ${noteStr[0]}s supérieures ou égales à  $${texNombre(medianeCorr, 1)}$.`,\n      couleur: 'nombres',\n    })\n  }\n  return texteCorr\n}\n\nfunction texteCorrMedianeTirages2DSalaires(\n  nombreTirages: number,\n  medianeCorr: number,\n  scoresMedians: [number] | [number, number],\n  salaires: number[][],\n  categories: string[],\n  salaire = 'salaire',\n) {\n  const data = [\n    [\n      'note',\n      'F',\n      'la médiane des notes',\n      '',\n      `Le nombre de notes est $${nombreTirages}$.`,\n      ['', 'Note', 'Coefficient (Effectif)', 'Effectif cumulé'],\n    ],\n    [\n      'salaire',\n      'M',\n      'le salaire médian',\n      ' €',\n      `Dans l'entreprise, le nombre de salariés est $${nombreTirages}$.`,\n      ['Catégorie', 'Salaire en €', 'Effectif', 'Effectif cumulé'],\n    ],\n    [\n      'pointure',\n      'M',\n      'la pointure médiane',\n      '',\n      `Le nombre de pointures relevées est $${nombreTirages}$.`,\n      ['', 'Pointure', 'Effectif', 'Effectif cumulé'],\n    ],\n  ]\n  const salairesStr = data.find((el) => el[0] === salaire) ?? [\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n  ]\n\n  let texteCorr = salairesStr[4] + '<br>'\n  if (nombreTirages % 2 === 0) {\n    texteCorr += `Ce nombre est pair, les ${salairesStr[0]}s sont rangé${salairesStr[0] === 'M' ? '' : 'e'}s dans l'ordre croissant.<br>\n              Les deux valeurs centrales sont la $${nombreTirages / 2}^{e}$ valeur et la $${nombreTirages / 2 + 1}^{e}$ valeur.<br>\n              En effet, ${underbraceMediane(nombreTirages)} <br>\n              Une médiane peut être la demi-somme des deux valeurs centrales. <br>\n              On peut ajouter une ligne avec les effectifs cumulés pour trouver ces deux valeurs.<br><br>\n              ${desTabEffCumul(salaires, true, categories, salairesStr[5] as string[])}<br><br>\n              La $${nombreTirages / 2}^{e}$ valeur est $${scoresMedians[0]}$ et la $${nombreTirages / 2 + 1}^{e}$ valeur est $${scoresMedians[1]}$.<br>`\n    texteCorr += `D'où ${salairesStr[2]} est ${scoresMedians[0] === scoresMedians[1] ? '' : `$(${scoresMedians[0]} + ${scoresMedians[1]}) \\\\div 2=$`} $${miseEnEvidence(texNombre(medianeCorr))}$${salairesStr[3]}.<br>`\n    texteCorr += lampeMessage({\n      titre: 'Interprétation',\n      texte: `Il y a bien $${nombreTirages / 2}$ ${salairesStr[0]}s dont la valeur est inférieure ou égale à  $${texNombre(medianeCorr, 1)}$${salairesStr[3]} et $${nombreTirages / 2}$ ${salairesStr[0]}s dont la valeur est supérieure ou égale à  $${texNombre(medianeCorr, 1)}$${salairesStr[3]}.`,\n      couleur: 'nombres',\n    })\n  } else {\n    // Le nombre de tirages est impair\n    texteCorr += `Ce nombre est impair, les ${salairesStr[0]}s sont rangé${salairesStr[0] === 'M' ? '' : 'e'}s dans l'ordre croissant.<br>\n                  La valeur centrale est la $${(nombreTirages - 1) / 2 + 1}^{e}$ valeur.<br>\n                  En effet, ${underbraceMediane(nombreTirages)} <br>\n                  La médiane est donc la $${(nombreTirages - 1) / 2 + 1}^{e}$ valeur.<br>\n                  On peut ajouter une ligne avec les effectifs cumulés pour trouver cette valeur.<br><br>\n                  ${desTabEffCumul(salaires, true, categories, salairesStr[5] as string[])}<br><br>`\n    texteCorr += `D'où ${salairesStr[2]} est $${miseEnEvidence(texNombre(medianeCorr))}$ ${salairesStr[3]}.<br>`\n    texteCorr += lampeMessage({\n      titre: 'Interprétation',\n      texte: `Il y a bien $${(nombreTirages - 1) / 2}$ ${salairesStr[0]}s dont la valeur est inférieure ou égale à  $${texNombre(medianeCorr, 1)}$${salairesStr[3]} et $${(nombreTirages - 1) / 2}$ ${salairesStr[0]}s dont la valeur est supérieure ou égale à  $${texNombre(medianeCorr, 1)}$${salairesStr[3]}.`,\n      couleur: 'nombres',\n    })\n  }\n  return texteCorr\n}\n\nfunction texteCorrMedianeTirages2D(\n  nombreTirages: number,\n  medianeCorr: number,\n  scoresMedians: [number, number] | [number],\n  tirages: number[][],\n) {\n  let texteCorr = `Au total, $${nombreTirages}$ lancers ont été réalisés.<br>`\n  if (nombreTirages % 2 === 0) {\n    texteCorr += `Le nombre de lancers est pair, les scores sont rangés dans l'ordre croissant.<br>\n              Les deux valeurs centrales sont la $${nombreTirages / 2}^{e}$ et la $${nombreTirages / 2 + 1}^{e}$ valeur.<br>\n              En effet, ${underbraceMediane(nombreTirages)} <br>\n              Une médiane peut être la demi-somme des deux valeurs centrales. <br>\n              On peut ajouter une ligne avec les effectifs cumulés pour trouver ces deux valeurs.<br><br>\n              ${desTabEffCumul(tirages, true)}<br><br>\n              La $${nombreTirages / 2}^{e}$ valeur est $${scoresMedians[0]}$ et la $${nombreTirages / 2 + 1}^{e}$ valeur est $${scoresMedians[1]}$.<br>`\n    texteCorr += `D'où le score médian est ${scoresMedians[0] === scoresMedians[1] ? '' : `$(${scoresMedians[0]} + ${scoresMedians[1]}) \\\\div 2=$`} $${miseEnEvidence(texNombre(medianeCorr))}$.<br>`\n    texteCorr += lampeMessage({\n      titre: 'Interprétation',\n      texte: `Il y a bien $${nombreTirages / 2}$ lancers dont le score est inférieur ou égal à  $${texNombre(medianeCorr, 1)}$ et $${nombreTirages / 2}$ lancers dont le score est supérieur ou égal à  $${texNombre(medianeCorr, 1)}$.`,\n      couleur: 'nombres',\n    })\n  } else {\n    // Le nombre de lancers est impair ici\n    texteCorr += `Le nombre de lancers est impair, les scores sont rangés dans l'ordre croissant.<br>\n                  La valeur centrale est la $${(nombreTirages - 1) / 2 + 1}^{e}$ valeur.<br>\n                  En effet, ${underbraceMediane(nombreTirages)} <br>\n                  La médiane est donc le $${(nombreTirages - 1) / 2 + 1}^{e}$ lancer.<br>\n                  On peut ajouter une ligne avec les effectifs cumulés pour trouver cette valeur.<br><br>\n                  ${desTabEffCumul(tirages, true)}<br><br>`\n    texteCorr += `D'où le score médian est $${miseEnEvidence(texNombre(medianeCorr))}$.<br>`\n    texteCorr += lampeMessage({\n      titre: 'Interprétation',\n      texte: `Il y a bien $${(nombreTirages - 1) / 2}$ lancers dont le score est inférieur ou égal à  $${texNombre(medianeCorr, 1)}$ et $${(nombreTirages - 1) / 2}$ lancers dont le score est supérieur ou égal à  $${texNombre(medianeCorr, 1)}$.`,\n      couleur: 'nombres',\n    })\n  }\n  return texteCorr\n}\n\nfunction texteNotes(notes: number[]) {\n  let texte = `${prenom()} a obtenu ces notes ce trimestre-ci en mathématiques :<br>`\n  texte += `$${notes[0]}$`\n  for (let j = 1; j < notes.length - 1; j++) {\n    texte += `; $${notes[j]}$ `\n  } // On liste les notes (série brute)\n  texte += `et $${notes[notes.length - 1]}$.`\n  return texte\n}\n\nfunction texteTemperatures(\n  annee: number,\n  mois: number,\n  temperatures: number[],\n) {\n  let texte = `En ${nomDuMois(mois)} ${annee}, à ${choice(['Moscou', 'Berlin', 'Paris', 'Bruxelles', 'Rome', 'Belgrade'])}, on a relevé les températures suivantes : <br>`\n  texte += '<br>$\\\\def\\\\arraystretch{1.5}\\\\begin{array}{|c' // On construit le tableau des températures\n  texte += '|c'\n  for (let j = 0; j < Math.round(temperatures.length / 2); j++) {\n    texte += '|c'\n  }\n  texte += '}\\\\hline  \\\\text{Jour}'\n  for (let j = 0; j < Math.round(temperatures.length / 2); j++) {\n    texte += '&' + texNombre(j + 1, 1)\n  }\n  texte += '\\\\\\\\\\\\hline \\\\text{Température en}  ^\\\\circ\\\\text{C}'\n  for (let j = 0; j < Math.round(temperatures.length / 2); j++) {\n    texte += '&' + temperatures[j]\n  }\n  texte += '\\\\\\\\\\\\hline\\\\end{array}$<br><br>'\n  texte += '$\\\\def\\\\arraystretch{1.5}\\\\begin{array}{|c' // On construit le tableau des températures\n  texte += '|c'\n  for (\n    let j = Math.round(temperatures.length / 2);\n    j < temperatures.length;\n    j++\n  ) {\n    texte += '|c'\n  }\n  texte += '}\\\\hline  \\\\text{Jour}'\n  for (\n    let j = Math.round(temperatures.length / 2);\n    j < temperatures.length;\n    j++\n  ) {\n    texte += '&' + texNombre(j + 1, 1)\n  }\n  texte += '\\\\\\\\\\\\hline \\\\text{Température en}  ^\\\\circ\\\\text{C}'\n  for (\n    let j = Math.round(temperatures.length / 2);\n    j < temperatures.length;\n    j++\n  ) {\n    texte += '&' + temperatures[j]\n  }\n  texte += '\\\\\\\\\\\\hline\\\\end{array}$'\n  texte += '<br>'\n  return texte\n}\n\nfunction texteSalaires(\n  salaires: number[][],\n  categoriesCol: string[],\n  salaire = 'salaires',\n) {\n  const data = [\n    [\n      'salaires',\n      \"La grille des salaires des employés d'une PME est donnée par le tableau ci-dessous\",\n      ['Catégories', 'Salaires en €', 'Effectif'],\n    ],\n    [\n      'notes',\n      `Voici les notes obtenues par ${prenom()} en mathématiques cette année`,\n      ['', 'Note', 'Effectif'],\n    ],\n    [\n      'pointures',\n      `Pour passer une commande de chaussures de foot, ${prenom()} a noté les pointures des membres de son club dans un tableau`,\n      ['', 'Pointure', 'Effectif'],\n    ],\n  ]\n  const salairesStr = data.find((el) => el[0] === salaire) || ['', '', '', '']\n  let texte = salairesStr[1] + ' :<br> '\n  texte +=\n    '<br>' +\n    desTabEffCumul(salaires, false, categoriesCol, salairesStr[2] as string[]) +\n    '<br>'\n  return texte\n}\n\nfunction texteTirages2D(\n  nombreDes: number,\n  nombreTirages: number,\n  nombreFaces: 4 | 6 | 8 | 10,\n  tirages: number[][],\n  aveclampeMessage = true,\n) {\n  let texte = ''\n  if (nombreDes > 1) {\n    texte = `On a réalisé $${nombreTirages}$ lancers de $${nombreDes}$ dés à $${nombreFaces}$ faces.<br>\n            On a relevé la somme des $${nombreDes}$ dés.<br>`\n  } else {\n    texte = `On a réalisé $${nombreTirages}$ lancers d'un dé à $${nombreFaces}$ faces.<br>`\n  }\n  texte += aveclampeMessage\n    ? lampeMessage({\n        titre: 'Vocabulaire',\n        texte: `Le solide qui correspond à ce type de dé s'appelle ${texteGras(solidName(nombreFaces))}.`,\n        couleur: 'nombres',\n      })\n    : ''\n  texte += 'Les résultats sont inscrits dans le tableau ci-dessous :<br><br>'\n  texte += desTabEffCumul(tirages, false) + '<br>'\n  return texte\n}\n\nfunction solidName(nbCot: 4 | 6 | 8 | 10) {\n  switch (nbCot) {\n    case 4:\n      return 'tétraèdre'\n    case 6:\n      return 'hexaèdre'\n    case 8:\n      return 'octaèdre'\n    case 10:\n    default:\n      return 'décaèdre'\n  }\n}\n\nexport const OutilsStats = {\n  desTabEffCumul,\n  // consigne\n  texteNotes,\n  texteTirages2D,\n  texteSalaires,\n  texteTemperatures,\n  // correction\n  texteCorrMoyenneNotes,\n  texteCorrMedianeTirages2D,\n  texteCorrMedianeTirages2DSalaires,\n  texteCorrMedianeTemperatures,\n  texteCorrMedianeNotes,\n  texteCorrEtendueNotes,\n  // calcul\n  computeEtendue,\n  computeMoyenne,\n  computeMediane,\n  computeMoyenneTirages2D,\n  computeMedianeTirages2D,\n}\n"],"names":["underbraceMediane","nbVal","sortie","desTabEffCumul","tirages","effCumulBool","categories","lignes","j","cumul","k","computeMoyenne","notes","somme","texFractionFromString","computeMediane","notesRangees","a","b","mediane","medianeCorr","computeEtendue","min","max","computeMoyenneTirages2D","effectif","computeMedianeTirages2D","nombreTirages","scoresMedians","cpt","effCumulCroiss","texteCorrMoyenneNotes","notesSeries","nombreNotes","noteStr","el","texteCorr","noteSeries","eff","texNombre","FractionEtendue","arrondi","miseEnEvidence","texteCorrEtendueNotes","note","ecritureParentheseSiNegatif","texteCorrMedianeTemperatures","temperatures","texteCorrMedianeNotes","lampeMessage","texteCorrMedianeTirages2DSalaires","salaires","salaire","salairesStr","texteCorrMedianeTirages2D","texteNotes","texte","prenom","texteTemperatures","annee","mois","nomDuMois","choice","texteSalaires","categoriesCol","texteTirages2D","nombreDes","nombreFaces","aveclampeMessage","texteGras","solidName","nbCot","OutilsStats"],"mappings":"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"}
{"version":3,"file":"TSG1-01-B5Z0RJ6l.js","sources":["../../src/exercices/TSpe/TSG1-01.ts"],"sourcesContent":["import Exercice from '../Exercice'\nimport { listeQuestionsToContenu, randint } from '../../modules/outils'\nimport { combinaisonListes } from '../../lib/outils/arrayOutils'\nimport { texNombre } from '../../lib/outils/texNombre'\nimport {\n  miseEnEvidence,\n  texteEnCouleurEtGras,\n} from '../../lib/outils/embellissements'\nimport { handleAnswers } from '../../lib/interactif/gestionInteractif'\nimport { ajouteChampTexteMathLive } from '../../lib/interactif/questionMathLive'\nimport { KeyboardType } from '../../lib/interactif/claviers/keyboard'\n\nfunction factorielle(num: number): number {\n  if (num === 0 || num === 1) return 1\n  return num * factorielle(num - 1)\n}\nexport const titre = 'Dénombrer des tirages de boules dans une urne'\nexport const interactifReady = true\nexport const interactifType = 'mathLive'\n\nexport const dateDePublication = '18/04/2025' // La date de publication initiale au format 'jj/mm/aaaa' pour affichage temporaire d'un tag\n\nexport const uuid = '5e90f'\nexport const refs = {\n  'fr-fr': ['TSG1-01'],\n  'fr-ch': [],\n}\n/**\n *\n * @author Stéphane Guyon\n */\nexport default class nomExercice extends Exercice {\n  constructor() {\n    super()\n    this.besoinFormulaireNumerique = [\n      'Types de question ',\n      5,\n      '1 :Nombre de k-uplets\\n2 : Arrangements\\n3 : Combinaisons\\n4 : Nombre de sous-parties\\n5 : Permutations\\n6 : Mélange',\n    ]\n    this.consigne = ''\n    this.nbQuestions = 1 // Nombre de questions par défaut\n    this.sup = 1\n  }\n\n  nouvelleVersion() {\n    let typesDeQuestionsDisponibles: string[] = [\n      'type1',\n      'type2',\n      'type3',\n      'type4',\n      'type5',\n    ] // Mélange des cas précédents\n    if (this.sup === 1) {\n      typesDeQuestionsDisponibles = ['type1'] //\n    } else if (this.sup === 2) {\n      typesDeQuestionsDisponibles = ['type2'] //\n    } else if (this.sup === 3) {\n      typesDeQuestionsDisponibles = ['type3'] //\n    } else if (this.sup === 4) {\n      typesDeQuestionsDisponibles = ['type4'] //\n    } else if (this.sup === 5) {\n      typesDeQuestionsDisponibles = ['type5'] //\n    }\n    if (this.sup >= 6) {\n      typesDeQuestionsDisponibles = [\n        'type1',\n        'type2',\n        'type3',\n        'type4',\n        'type5',\n      ] // Mélange des cas précédents\n    }\n    const listeTypeQuestions = combinaisonListes(\n      typesDeQuestionsDisponibles,\n      this.nbQuestions,\n    )\n    let reponse = ''\n    let n = randint(3, 15)\n    const k = randint(2, n - 1)\n    const arrangement = factorielle(n) / factorielle(n - k)\n    const combinaison = factorielle(n) / (factorielle(k) * factorielle(n - k))\n    let factorielleN = 0\n    let kuplet = ''\n    if (k === 2) {\n      kuplet = 'couples'\n    }\n    if (k === 3) {\n      kuplet = 'triplets'\n    }\n    if (k === 4) {\n      kuplet = 'quadruplets'\n    }\n    if (k === 5) {\n      kuplet = 'quintuplets'\n    }\n    if (k >= 6) {\n      kuplet = `${k}-uplets`\n    }\n\n    for (let i = 0, cpt = 0; i < this.nbQuestions && cpt < 50; ) {\n      let texte = ''\n      let texteCorr = ''\n      const variables: string[] = []\n      switch (listeTypeQuestions[i]) {\n        case 'type1':\n          texte = `On considère une urne contenant ${n} boules numérotées de $1$ à ${n}.<br> On tire successivement ${k} boules au hasard dans l'urne, en replaçant après chaque tirage la boule dans l'urne.<br>`\n          texte += 'Déterminer le nombre de tirages possibles.<br>'\n          texteCorr += `On effectue ${k} tirages successifs avec remise, ce qui revient à déterminer le nombre de ${kuplet} de l'ensemble `\n          if (n === 3) {\n            texteCorr += '$E=\\\\left\\\\{1;2;3\\\\right\\\\}$.<br>'\n          }\n          if (n === 4) {\n            texteCorr += '$E=\\\\left\\\\{1;2;3;4\\\\right\\\\}$.<br>'\n          }\n          if (n > 4) {\n            texteCorr += `$E=\\\\left\\\\{1;2;\\\\ldots;${n}\\\\right\\\\}$.<br> `\n          }\n          texteCorr +=\n            \"Le nombre de $k$-uplet d'un ensemble fini $E$ est $\\\\mathrm{Card}(E)^k$.<br>\"\n          texteCorr += `Comme $\\\\mathrm{Card}(E)=${n}$, le nombre de ${kuplet} est $\\\\mathrm{Card}(E)^${k}=${n}^{${k}}=${texNombre(n ** k)}$.<br>`\n          texteCorr += `Il y a donc $${miseEnEvidence(texNombre(n ** k))}$ tirages possibles.<br>`\n          reponse = `${n ** k}`\n          break\n        case 'type2':\n          texte = `On considère une urne contenant ${n} boules numérotées de $1$ à ${n}.<br> On tire successivement ${k} boules au hasard dans l'urne, sans les remettre une fois tirée.<br>`\n          texte += 'Déterminer le nombre de tirages possibles.<br>'\n          texteCorr += `On effectue ${k} tirages successifs sans remise, ce qui revient à déterminer le nombre de ${kuplet} ${texteEnCouleurEtGras(\"d'éléments distincts de l'ensemble\")} `\n          if (n === 3) {\n            texteCorr += '$E=\\\\left\\\\{1;2;3\\\\right\\\\}$.<br>'\n          }\n          if (n === 4) {\n            texteCorr += '$E=\\\\left\\\\{1;2;3;4\\\\right\\\\}$.<br>'\n          }\n          if (n > 4) {\n            texteCorr += `$E=\\\\left\\\\{1;2;\\\\ldots;${n}\\\\right\\\\}$.<br> `\n          }\n          texteCorr +=\n            \"Le nombre de $k$-uplet d'éléments distincts d'un ensemble fini $E$ est appelé un arrangement, qu'on peut noter ainsi : $A_n^k$.<br>\"\n          texteCorr +=\n            'On sait alors que : $A_n^k=n\\\\times (n-1)\\\\ldots (n-k+1)$ ou encore : $A_n^k=\\\\dfrac{n~!}{(n-k)~!}$.<br>'\n          texteCorr += `Dans notre situation, $A_{${n}}^{${k}}=\\\\dfrac{${n}~!}{${n - k}~!}=${arrangement}$.<br>`\n          texteCorr += `Il y a donc $${miseEnEvidence(texNombre(arrangement))}$ tirages possibles.<br>`\n          reponse = `${arrangement}`\n          break\n          texteCorr += `Il y a donc $${miseEnEvidence(n ** k)}$ tirages possibles.<br>`\n        case 'type3':\n          texte = `On considère une urne contenant ${n} boules numérotées de $1$ à ${n}.<br> On tire simultanément ${k} boules au hasard dans l'urne.<br>`\n          texte += 'Déterminer le nombre de tirages possibles.<br>'\n          texteCorr = `On effectue ${k} tirages simultanés, ce qui revient à déterminer le nombre de sous parties à ${k} éléments de l'ensemble $E=\\\\left\\\\{1;2;\\\\ldots;${n}\\\\right\\\\}$.<br>`\n          texteCorr +=\n            'On sait que le nombre de combinaisons, de k éléments parmi n, vaut : $\\\\dbinom{n}{k} =\\\\dfrac{n~!}{k~!(n-k)~!}$.<br>'\n          texteCorr += `Dans notre situation, on calcule le nombre de combinaisons de ${k} éléments parmi ${n} :<br> $\\\\dbinom{${n}}{${k}}=\\\\dfrac{${n}~!}{${k}~!\\\\times ${n - k}~!}=${combinaison}$.<br>`\n          texteCorr += `Il y a donc $${miseEnEvidence(texNombre(combinaison))}$ tirages possibles.<br>`\n          reponse = `${combinaison}`\n          break\n        case 'type4':\n          texte = `On considère ${n} boules numérotées de $1$ à ${n}.<br> En considérant l'ensemble $E$ constitué de ces boules, combien de sous parties de $E$ peut-on créer ?<br>`\n          texteCorr =\n            \"On sait que le nombre de sous parties d'un ensemble fini à $n$ éléménts est $2^n$.<br>\"\n          texteCorr += `Dans notre situation, $\\\\mathrm{Card}(E)=${n}$.<br>`\n          texteCorr += `On calcule alors $2^{${n}}=${texNombre(2 ** n)}$ . <br>`\n          texteCorr += `On peut donc créer $${miseEnEvidence(texNombre(2 ** n))}$ sous-parties de $E$.<br>`\n          reponse = `${2 ** n}`\n          break\n        case 'type5':\n          if (n >= 10) {\n            n = randint(3, 9)\n          }\n          factorielleN = factorielle(n)\n          texte = `On ${n} boules numérotées de $1$ à ${n}.<br> Déterminer le nombre de permutations possibles.<br>`\n          texteCorr =\n            \"On sait que le nombre de permutations d'un ensemble fini à $n$ éléménts est $n~!$<br>\"\n          texteCorr += `Dans notre situation, $\\\\mathrm{Card}(E)=${n}$.<br>`\n          texteCorr += `On calcule alors $${n}~!=${texNombre(factorielleN)}$ . <br>`\n          texteCorr += `On peut donc créer $${miseEnEvidence(texNombre(factorielleN))}$ permutations de $E$.<br>`\n          reponse = `${factorielleN}`\n          break\n      }\n\n      handleAnswers(this, i, { reponse: { value: reponse } })\n      texte += ajouteChampTexteMathLive(this, i, KeyboardType.clavierDeBase, {\n        texteAvant: 'Ma réponse : ',\n      })\n      variables.push(listeTypeQuestions[i])\n      if (this.questionJamaisPosee(i, texte)) {\n        this.listeQuestions[i] = texte\n        this.listeCorrections[i] = texteCorr\n        i++\n      }\n      cpt++\n    }\n    listeQuestionsToContenu(this)\n  }\n}\n"],"names":["factorielle","num","titre","interactifReady","interactifType","dateDePublication","uuid","refs","nomExercice","Exercice","typesDeQuestionsDisponibles","listeTypeQuestions","combinaisonListes","reponse","n","randint","k","arrangement","combinaison","factorielleN","kuplet","cpt","texte","texteCorr","variables","texNombre","miseEnEvidence","texteEnCouleurEtGras","handleAnswers","ajouteChampTexteMathLive","KeyboardType","listeQuestionsToContenu"],"mappings":"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"}
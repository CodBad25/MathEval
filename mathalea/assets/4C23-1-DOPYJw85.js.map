{"version":3,"file":"4C23-1-DOPYJw85.js","sources":["../../src/exercices/4e/4C23-1.ts"],"sourcesContent":["import { choice, combinaisonListes } from '../../lib/outils/arrayOutils'\nimport { miseEnEvidence } from '../../lib/outils/embellissements'\nimport {\n  texFractionFromString,\n  obtenirListeFractionsIrreductibles,\n  obtenirListeFractionsIrreductiblesFaciles,\n  produitDeDeuxFractions,\n  simplificationDeFractionAvecEtapes,\n} from '../../lib/outils/deprecatedFractions'\nimport { ecritureParentheseSiNegatif } from '../../lib/outils/ecritures'\nimport { lettreDepuisChiffre } from '../../lib/outils/outilString'\nimport { pgcd, ppcm } from '../../lib/outils/primalite'\nimport Exercice from '../Exercice'\nimport { context } from '../../modules/context'\nimport { listeQuestionsToContenu, randint } from '../../modules/outils'\nimport { fraction } from '../../modules/fractions'\nimport { ajouteChampTexteMathLive } from '../../lib/interactif/questionMathLive'\nimport { handleAnswers } from '../../lib/interactif/gestionInteractif'\nimport type FractionEtendue from '../../modules/FractionEtendue'\n\nexport const titre = 'Fractions et priorités opératoires'\nexport const amcReady = true\nexport const amcType = 'AMCNum'\nexport const interactifReady = true\nexport const interactifType = 'mathLive'\n/** Styles d'expressions :\n 1 : Fractions faciles, tout enchaînement d'opérations possibles\n 2 : Fractions standards, tout enchaînement d'opérations possibles\n 3 : Des expressions pièges démarrant sur une opération prioritaire ou pas\n 4 : Uniquement des expressions pièges démarrant sur une opération non prioritaire`\n * @author Jean-Claude Lhote\n */\nexport const uuid = '18ddd'\n\nexport const refs = {\n  'fr-fr': ['4C23-1', 'BP2AutoH18'],\n  'fr-ch': ['10NO6-3'],\n}\nexport default class ExerciceAdditionnerFractionProduit extends Exercice {\n  constructor() {\n    super()\n    this.besoinFormulaireNumerique = [\n      \"Style d'expressions\",\n      4,\n      `   1 : Fractions faciles, tout enchaînement d'opérations possibles\n  2 : Fractions standards, tout enchaînement d'opérations possibles\n  3 : Des expressions pièges démarrant sur une opération prioritaire ou pas\n  4 : Uniquement des expressions pièges démarrant sur une opération non prioritaire`,\n    ]\n    this.besoinFormulaire2CaseACocher = ['Utiliser les nombres relatifs', false]\n    this.besoinFormulaire3CaseACocher = ['Utiliser les divisions', true]\n    this.besoinFormulaire4CaseACocher = [\n      'Présentation des calculs en colonnes',\n      true,\n    ]\n    this.sup = 3\n    this.sup2 = false\n    this.sup3 = true\n    this.sup4 = true\n\n    this.consigne = 'Calculer et donner un résultat simplifié au maximum.'\n    this.nbCols = 2\n\n    this.spacingCorr = 2\n    this.nbQuestions = 6\n    this.nbColsCorr = this.sup4 ? 2 : 1\n    this.correctionDetailleeDisponible = true\n    this.correctionDetaillee = false\n  }\n\n  nouvelleVersion() {\n    let typesDeQuestionsDisponibles\n    const listeFractions = obtenirListeFractionsIrreductibles() as [\n      number,\n      number,\n    ][]\n    const listeFractionsFaciles =\n      obtenirListeFractionsIrreductiblesFaciles() as [number, number][]\n    let piegeObligatoire = false\n\n    // Définition des styles d'exercices\n    switch (this.sup) {\n      case 1: // Fractions faciles, tout enchaînement d'opérations possibles\n        typesDeQuestionsDisponibles = [1, 2]\n        break\n\n      case 2: // Fractions standards, tout enchaînement d'opérations possibles\n        typesDeQuestionsDisponibles = [1, 2]\n        break\n\n      case 3: // Uniquement expressions pièges démarrant sur une opération prioritaire *ou pas*\n        typesDeQuestionsDisponibles = [1, 2]\n        piegeObligatoire = true\n        break\n\n      case 4: // Uniquement des expressions pièges démarrant sur une opération non prioritaire`\n        typesDeQuestionsDisponibles = [1]\n        piegeObligatoire = true\n        break\n\n      default: // En cas de pépin…\n        typesDeQuestionsDisponibles = [1]\n        break\n    }\n    const listeTypeDeQuestions = combinaisonListes(\n      typesDeQuestionsDisponibles,\n      this.nbQuestions,\n    )\n\n    for (let i = 0, cpt = 0; i < this.nbQuestions && cpt < 50; ) {\n      let texte = ''\n      let texteCorr = ''\n      const typesDeQuestions = listeTypeDeQuestions[i]\n      let ab: [number, number]\n      let cd: [number, number]\n      let ef: [number, number]\n\n      if (this.sup === 1) {\n        ab = choice(listeFractionsFaciles)\n        cd = choice(listeFractionsFaciles)\n        ef = choice(listeFractionsFaciles)\n      } else {\n        ab = choice(listeFractions)\n        cd = choice(listeFractions)\n        ef = choice(listeFractions)\n      }\n\n      let [a, b] = ab\n      let [c, d] = cd\n      let [e, f] = ef\n\n      if (this.sup2) {\n        ;[a, b, c, d, e, f] = [a, b, c, d, e, f].map(\n          (e) => e * randint(-1, 1, [0]),\n        )\n      }\n      let produit: [string, string, [number, number, number, number]]\n      const operation1 = randint(0, 1) // Pioche la soustraction (0) ou l'addition (1)\n      const operation2 = this.sup3 ? randint(0, 1) : 1 // Si l'option est cochée, Pioche la division (0) ou la multiplication (1)\n      const texteOperation1 = operation1 ? '+' : '-'\n      const texteOperation2 = operation2 ? ' \\\\times ' : ' \\\\div '\n      texte = ''\n      let p: number\n      let k1: number\n      let k2: number\n      let reponse: FractionEtendue\n      switch (typesDeQuestions) {\n        case 1: // De la forme : « a⁄b ± c⁄d ×÷ e⁄f »\n          if (piegeObligatoire) {\n            d = b\n          }\n\n          texte += `$${texFractionFromString(a, b)} ${texteOperation1} ${texFractionFromString(c, d)} ${texteOperation2} ${texFractionFromString(e, f)}$`\n\n          texteCorr = `$${texFractionFromString(a, b)} ${texteOperation1} ${texFractionFromString(c, d)} ${texteOperation2} ${texFractionFromString(e, f)}$`\n          if (!operation2) {\n            // Si il y a division, multiplier par l'inverse du diviseur\n            ;[e, f] = [f, e]\n            texteCorr += `$=${texFractionFromString(a, b)} ${texteOperation1} ${texFractionFromString(c, d)} \\\\times ${texFractionFromString(e, f)}$`\n          }\n          produit = produitDeDeuxFractions(c, d, e, f)\n          if (this.correctionDetaillee) {\n            texteCorr += `$=${texFractionFromString(a, b)} ${texteOperation1} ${texFractionFromString(c + '\\\\times' + ecritureParentheseSiNegatif(e), d + '\\\\times' + ecritureParentheseSiNegatif(f))}$`\n            texteCorr += `$=${texFractionFromString(a, b)} ${texteOperation1} ${texFractionFromString(c * e, d * f)}$`\n          } else {\n            texteCorr += `$=${texFractionFromString(a, b)} ${texteOperation1} ${produit[1]}$`\n            texteCorr += `$=${texFractionFromString(a, b)} ${texteOperation1} ${produit[0]}$`\n          }\n\n          // faut-il simplifier c×e⁄d×f ?\n          if (!this.correctionDetaillee) {\n            ;[c, d, e, f] = produit[2]\n          }\n          p = pgcd(c * e, d * f)\n          if (p !== 1 && ppcm(b, d * f) > ppcm(b, (d * f) / p)) {\n            texteCorr += `$=${texFractionFromString(a, b)} ${texteOperation1} ${texFractionFromString(\n              (e * c) / p +\n                '\\\\times\\\\cancel{' +\n                ecritureParentheseSiNegatif(p) +\n                '}',\n              (f * d) / p +\n                '\\\\times\\\\cancel{' +\n                ecritureParentheseSiNegatif(p) +\n                '}',\n            )}$`\n            c = (e * c) / p\n            d = (f * d) / p\n          } else {\n            c = e * c\n            d = f * d\n          }\n          p = ppcm(b, d) // p = dénominateur commun\n          k1 = p / b\n          k2 = p / d\n          if (k1 !== 1) {\n            texteCorr += `$=${texFractionFromString(a + miseEnEvidence('\\\\times' + ecritureParentheseSiNegatif(k1)), b + miseEnEvidence('\\\\times' + ecritureParentheseSiNegatif(k1)))}$`\n          } else {\n            if (k2 !== 1) {\n              texteCorr += `$=${texFractionFromString(a, b)}$`\n            }\n          }\n          if (k2 !== 1) {\n            texteCorr += `$ ${texteOperation1} ${texFractionFromString(c + miseEnEvidence('\\\\times' + ecritureParentheseSiNegatif(k2)), d + miseEnEvidence('\\\\times' + ecritureParentheseSiNegatif(k2)))}$`\n          } else {\n            if (k1 !== 1) {\n              texteCorr += `$ ${texteOperation1} ${texFractionFromString(c, d)}$`\n            }\n          }\n\n          texteCorr += `$=${texFractionFromString(a * k1, p)} ${texteOperation1} ${texFractionFromString(c * k2, p)}$`\n          e = operation1 ? a * k1 + c * k2 : a * k1 - c * k2\n          f = p\n          texteCorr += `$=${texFractionFromString(e, f)}${simplificationDeFractionAvecEtapes(e, f)}$`\n          reponse = fraction(e, f).simplifie()\n          break\n\n        case 2: // De la forme : « c⁄d ×÷ e⁄f ± a⁄b »\n        default:\n          if (piegeObligatoire) {\n            f = b\n          }\n          texte += `$${texFractionFromString(c, d)} ${texteOperation2} ${texFractionFromString(e, f)} ${texteOperation1} ${texFractionFromString(a, b)}$`\n\n          texteCorr = `$${texFractionFromString(c, d)} ${texteOperation2} ${texFractionFromString(e, f)} ${texteOperation1} ${texFractionFromString(a, b)}$`\n          if (!operation2) {\n            // S'il y a division, multiplier par l'inverse du diviseur\n            ;[e, f] = [f, e]\n            texteCorr += `$=${texFractionFromString(c, d)} \\\\times ${texFractionFromString(e, f)} ${texteOperation1} ${texFractionFromString(a, b)}$`\n          }\n\n          produit = produitDeDeuxFractions(c, d, e, f)\n          // texteCorr += `$=${texFractionFromString(c, d)}\\\\times ${texFractionFromString(e, f)} ${texteOperation1} ${texFractionFromString(a, b)}$`\n          if (this.correctionDetaillee) {\n            texteCorr += `$=${texFractionFromString(c + '\\\\times' + ecritureParentheseSiNegatif(e), d + '\\\\times' + ecritureParentheseSiNegatif(f))} ${texteOperation1} ${texFractionFromString(a, b)}$`\n            texteCorr += `$=${texFractionFromString(c * e, d * f)} ${texteOperation1} ${texFractionFromString(a, b)}$`\n          } else {\n            texteCorr += `$=${produit[1]} ${texteOperation1} ${texFractionFromString(a, b)}$`\n            texteCorr += `$=${produit[0]} ${texteOperation1} ${texFractionFromString(a, b)}$`\n          }\n\n          // faut-il simplifier c×e⁄d×f ?\n          if (!this.correctionDetaillee) {\n            ;[c, d, e, f] = produit[2]\n          }\n          p = pgcd(c * e, d * f)\n          if (p !== 1 && ppcm(b, d * f) > ppcm(b, (d * f) / p)) {\n            texteCorr += `$=${texFractionFromString((e * c) / p + '\\\\times\\\\cancel{' + ecritureParentheseSiNegatif(p) + '}', (f * d) / p + '\\\\times\\\\cancel{' + ecritureParentheseSiNegatif(p) + '}')} ${texteOperation1} ${texFractionFromString(a, b)}$`\n            c = (e * c) / p\n            d = (f * d) / p\n          } else {\n            c = e * c\n            d = f * d\n          }\n          p = ppcm(b, d) // p = dénominateur commun\n          k1 = p / b\n          k2 = p / d\n          if (k2 !== 1) {\n            texteCorr += `$=${texFractionFromString(\n              c + miseEnEvidence('\\\\times' + ecritureParentheseSiNegatif(k2)),\n              d + miseEnEvidence('\\\\times' + ecritureParentheseSiNegatif(k2)),\n            )}$`\n          } else {\n            if (k1 !== 1) {\n              texteCorr += `$=${texFractionFromString(c, d)}$`\n            }\n          }\n\n          if (k1 !== 1) {\n            texteCorr += `$ ${texteOperation1} ${texFractionFromString(\n              a + miseEnEvidence('\\\\times' + ecritureParentheseSiNegatif(k1)),\n              b + miseEnEvidence('\\\\times' + ecritureParentheseSiNegatif(k1)),\n            )}$`\n          } else {\n            if (k2 !== 1) {\n              texteCorr += `$ ${texteOperation1} ${texFractionFromString(a, b)}$`\n            }\n          }\n\n          if (this.correctionDetaillee) {\n            texteCorr += `$=${texFractionFromString(c * k2, p)} ${texteOperation1} ${texFractionFromString(a * k1, p)}$`\n          }\n          e = operation1 ? c * k2 + a * k1 : c * k2 - a * k1\n          f = p\n\n          texteCorr += `$=${texFractionFromString(e, f)}${simplificationDeFractionAvecEtapes(e, f)}$`\n          reponse = fraction(e, f).simplifie()\n          break\n      }\n\n      if (this.questionJamaisPosee(i, a, b, c, d, typesDeQuestions)) {\n        texte += ajouteChampTexteMathLive(this, i, '  ', { texteAvant: '$=$' })\n        handleAnswers(this, i, {\n          reponse: {\n            value: reponse.toLatex(),\n            options: { fractionIrreductible: true },\n          },\n        })\n\n        if (this.sup4) {\n          texte = `$${lettreDepuisChiffre(i + 1)} = $ ${texte}`\n          // On découpe\n          const etapes = texteCorr.split('=')\n          texteCorr = ''\n          etapes.forEach(function (etape) {\n            // etape = etape.replace('$', '')\n            etape = etape.split('$').join('')\n            if (context.isHtml) {\n              texteCorr += '<br>'\n            }\n            texteCorr += `$ ${lettreDepuisChiffre(i + 1)} = ${etape}$<br>`\n          })\n        }\n        // Uniformisation : Mise en place de la réponse attendue en interactif en orange et gras\n        const textCorrSplit = texteCorr.split('=')\n        let aRemplacer = textCorrSplit[textCorrSplit.length - 1]\n        aRemplacer = aRemplacer.replace('$', '').replace('<br>', '')\n\n        texteCorr = ''\n        for (let ee = 0; ee < textCorrSplit.length - 1; ee++) {\n          texteCorr += textCorrSplit[ee] + '='\n        }\n        texteCorr += `$ $${miseEnEvidence(aRemplacer)}$`\n        // Fin de cette uniformisation\n\n        if (context.isAmc) {\n          texte =\n            'Calculer et donner le résultat sous forme irréductible\\\\\\\\\\n' +\n            texte\n          this.autoCorrection[i] = {\n            enonce: texte, // Si vide, l'énoncé est celui de l'exercice.\n            propositions: [\n              {\n                texte: '', // Si vide, le texte est la correction de l'exercice.\n              },\n            ],\n            reponse: {\n              // @ts-expect-error\n              valeur: [reponse], // obligatoire (la réponse numérique à comparer à celle de l'élève), NE PAS METTRE DE STRING à virgule ! 4.9 et non pas 4,9. Cette valeur doit être passée dans un tableau d'où la nécessité des crochets.\n              param: {\n                digits: 5,\n                digitsNum: 3,\n                digitsDen: 2,\n                signe: true,\n              },\n            },\n          }\n        }\n\n        this.listeQuestions[i] = texte\n        this.listeCorrections[i] = texteCorr\n        i++\n      }\n      cpt++\n    }\n    listeQuestionsToContenu(this) // Espacement de 2 em entre chaque questions.\n  }\n}\n"],"names":["titre","amcReady","amcType","interactifReady","interactifType","uuid","refs","ExerciceAdditionnerFractionProduit","Exercice","typesDeQuestionsDisponibles","listeFractions","obtenirListeFractionsIrreductibles","listeFractionsFaciles","obtenirListeFractionsIrreductiblesFaciles","piegeObligatoire","listeTypeDeQuestions","combinaisonListes","i","cpt","texte","texteCorr","typesDeQuestions","ab","cd","ef","choice","b","c","d","e","f","randint","produit","operation1","operation2","texteOperation1","texteOperation2","p","k1","k2","reponse","texFractionFromString","produitDeDeuxFractions","ecritureParentheseSiNegatif","pgcd","ppcm","miseEnEvidence","simplificationDeFractionAvecEtapes","fraction","ajouteChampTexteMathLive","handleAnswers","lettreDepuisChiffre","etapes","etape","context","textCorrSplit","aRemplacer","ee","listeQuestionsToContenu"],"mappings":"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"}
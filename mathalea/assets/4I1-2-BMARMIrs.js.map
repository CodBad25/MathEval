{"version":3,"file":"4I1-2-BMARMIrs.js","sources":["../../src/exercices/4e/4I1-2.ts"],"sourcesContent":["// on importe les fonctions nécessaires.\nimport { point, tracePoint } from '../../lib/2d/points'\nimport { segment } from '../../lib/2d/segmentsVecteurs'\nimport { texteParPoint } from '../../lib/2d/textes'\nimport { choice, shuffle } from '../../lib/outils/arrayOutils'\nimport { arrondi } from '../../lib/outils/nombres'\nimport Exercice from '../Exercice'\nimport { mathalea2d, colorToLatexOrHTML } from '../../modules/2dGeneralites'\nimport { context } from '../../modules/context'\nimport {\n  listeQuestionsToContenuSansNumero,\n  randint,\n} from '../../modules/outils'\n// Ici ce sont les fonctions de la librairie maison 2d.js qui gèrent tout ce qui est graphique (SVG/tikz) et en particulier ce qui est lié à l'objet lutin\nimport {\n  allerA,\n  angleScratchTo2d,\n  avance,\n  baisseCrayon,\n  creerLutin,\n  leveCrayon,\n  orienter,\n  tournerD,\n  tournerG,\n} from '../../modules/2dLutin'\nimport { scratchblock } from '../../modules/scratchblock'\nimport { setCliqueFigure } from '../../lib/interactif/gestionInteractif'\n\nexport const interactifReady = true\nexport const interactifType = 'cliqueFigure'\nexport const amcReady = true\nexport const amcType = 'qcmMono'\nexport const titre = 'Tortue Scratch avec répétitions'\nexport const dateDePublication = '29/06/2021'\n\n/**\n * @author Jean-Claude Lhote\n */\nexport const uuid = '8ded2'\n\nexport const refs = {\n  'fr-fr': ['4I1-2'],\n  'fr-ch': [],\n}\nexport default class AlgoTortue extends Exercice {\n  // ça c'est la classe qui permet de créer cet exercice\n  indiceBonneFigure: number\n  constructor() {\n    super() // la classe parente qui définit les attributs commun à tous les exercices\n    this.nbQuestions = 1\n    this.nbQuestionsModifiable = false\n\n    this.typeExercice = 'Scratch'\n    this.interactif = true\n    this.listeAvecNumerotation = false\n    this.indiceBonneFigure = 0\n  }\n\n  nouvelleVersion(numeroExercice: number) {\n    // la méthode qui crée une nouvelle version de l'exercice\n    this.figures = []\n    const objetsCorrection = []\n    this.autoCorrection[0] = {}\n\n    const choix = choice([\n      'polygonesReguliers',\n      'spirales',\n      'rosaces1',\n      'roueDentee',\n      'frise1',\n    ])\n    let val1, val2, val3, n, n2\n    const sens = choice(['turnright', 'turnleft'])\n    let sequenceFrise1\n    let sensOppose\n    if (sens === 'turnright') {\n      sensOppose = 'turnleft'\n    } else {\n      sensOppose = 'turnright'\n    }\n    const lutins = []\n    const bonneReponse = randint(0, 3)\n    const angleDepart = 90 // On choisit l'orientation de départ\n    const xDepart = 0 // Le départ est en (0,0) pour avoir la même marge dans toutes les directions\n    const yDepart = 0 // Mais on pourrait envisager de changer ça et de recadrer...\n    context.unitesLutinParCm = 10 // avancer de 10 pour le lutin lui fait parcourir 1cm (en fait 0,5cm car j'ai ajouté un scale=0.5 pour la sortie latex)\n    context.pixelsParCm = 20 // 20 pixels d'écran représentent 1cm (enfin ça dépend du zoom, donc c'est juste un réglage par défaut)\n\n    let texteCorr = '' // la chaine qui va contenir la correction\n\n    for (let i = 0; i < 4; i++) {\n      // Ici on crée 4 instance de l'objet Lutin.\n      lutins[i] = creerLutin()\n      lutins[i].color = colorToLatexOrHTML('green') // la couleur de la trace\n      lutins[i].epaisseur = 3 // son epaisseur\n      lutins[i].pointilles = 0 // le type de pointillés (on peut mettre false pour avoir un trait plein)\n      allerA(xDepart, yDepart, lutins[i]) // ça c'est pour faire bouger le lutin (écrire le programme ne le fait pas exécuter !)\n      baisseCrayon(lutins[i]) // à partir de là, le lutin laissera une trace (ses positions successives sont enregistrées dans lutin.listeTraces)\n      orienter(angleScratchTo2d(angleDepart), lutins[i]) // l'angle 2d est l'angle trigonométrique... Scratch est décallé de 90°, il faut donc convertir pour utiliser Orienter()\n    }\n    // On écrit le début du programme dans l'attribut codeScratch du lutin... cet attribut de type chaine contient le code du programme du lutin en Scratch Latex\n    // A chaque instruction ajoutée dans le programme correspond une action à effectuée sur l'objet lutin..\n    lutins[0].codeScratch =\n      '\\\\begin{scratch}[print,fill,blocks,scale=0.75]\\n \\\\blockinit{quand \\\\greenflag est cliqué}\\n '\n    lutins[0].codeScratch += `\\\\blockmove{aller à x: \\\\ovalnum{${xDepart}} y: \\\\ovalnum{${yDepart}}}\\n ` // ça c'est pour ajouter la brique scratch\n    lutins[0].codeScratch += `\\\\blockmove{s'orienter à \\\\ovalnum{${angleDepart}}}\\n `\n    lutins[0].codeScratch += \"\\\\blockpen{stylo en position d'écriture}\\n \"\n    switch (choix) {\n      case 'polygonesReguliers':\n        n = choice([3, 5, 6, 7, 8]) // Nombre de côtés\n        val1 = arrondi(360 / n, 1)\n        val2 = (10 - n) * 10\n        if (bonneReponse !== 3) {\n          lutins[0].codeScratch += `\\\\blockrepeat{répéter \\\\ovalnum{${n}} fois}\n{\n\\\\blockmove{avancer de \\\\ovalnum{${val2}} pas}\\n`\n        } else {\n          lutins[0].codeScratch += `\\\\blockmove{tourner \\\\${sens}{} de \\\\ovalnum{${val1}} degrés}\n\\\\blockrepeat{répéter \\\\ovalnum{${n - 1}} fois}\n{\n\\\\blockmove{avancer de \\\\ovalnum{${val2}} pas}\n\\n`\n        }\n        if (bonneReponse === 0 || bonneReponse === 3) {\n          lutins[0].codeScratch += `\\\\blockmove{tourner \\\\${sens}{} de \\\\ovalnum{${val1}} degrés}\n}\\n`\n        } else {\n          if (bonneReponse === 1) {\n            lutins[0].codeScratch += `\\\\blockmove{tourner \\\\${sensOppose}{} de \\\\ovalnum{${val1}} degrés}\n}\\n`\n          } else {\n            if (val1 !== 90) {\n              lutins[0].codeScratch += `\\\\blockmove{tourner \\\\${sens}{} de \\\\ovalnum{${180 - val1}} degrés}\n}\\n`\n            } else {\n              lutins[0].codeScratch += `\\\\blockmove{tourner \\\\${sens}{} de \\\\ovalnum{${val1}} degrés}\n              \\\\blockmove{avancer de \\\\ovalnum{${val2}} pas}\\n\n              \\\\blockmove{tourner \\\\${sens}{} de \\\\ovalnum{${val1}} degrés}\n}\\n`\n            }\n          }\n        }\n        orienter(-90, lutins[2])\n        for (let i = 0; i < n; i++) {\n          avance(val2, lutins[0])\n          avance(val2, lutins[1])\n          avance(val2, lutins[2])\n          if (i !== 0) avance(val2, lutins[3])\n\n          if (sens === 'turnright') {\n            tournerD(val1, lutins[0])\n            tournerD(val1, lutins[3])\n            tournerG(val1, lutins[1])\n            if (val1 !== 90) {\n              tournerD(180 - val1, lutins[2])\n            } else {\n              tournerD(val1, lutins[2])\n              avance(val2, lutins[2])\n              tournerD(val1, lutins[2])\n            }\n          } else {\n            tournerG(val1, lutins[0])\n            tournerG(val1, lutins[3])\n            tournerD(val1, lutins[1])\n            if (val1 !== 90) {\n              tournerG(180 - val1, lutins[2])\n            } else {\n              tournerG(val1, lutins[2])\n              avance(val2, lutins[2])\n              tournerG(val1, lutins[2])\n            }\n          }\n        }\n        break\n      case 'rosaces1':\n        n = choice([3, 4, 5, 6, 8]) // Nombre branches\n        n2 = randint(3, 6, 5)\n        val1 = randint(2, 4) * 10\n        val2 = (10 - n) * 5\n        val3 = (8 - n2) * 4\n        lutins[0].codeScratch += `\\\\blockrepeat{répéter \\\\ovalnum{${n}} fois} \\n{`\n        if (bonneReponse < 2) {\n          lutins[0].codeScratch +=\n            '\\\\blockmove{aller à x: \\\\ovalnum{0} y: \\\\ovalnum{0}}\\n'\n        }\n        if (bonneReponse % 2 === 0) {\n          lutins[0].codeScratch += `\\\\blockmove{avancer de \\\\ovalnum{${val1}} pas}\\n`\n        } else {\n          if (bonneReponse === 1) {\n            lutins[0].codeScratch += `\\\\blockmove{avancer de \\\\ovalnum{${val1 / 2}} pas}\\n`\n          } else {\n            lutins[0].codeScratch += `\\\\blockmove{avancer de \\\\ovalnum{${val1 + 2}} pas}\\n`\n          }\n        }\n        switch (bonneReponse) {\n          case 0:\n            lutins[0].codeScratch += `\\\\blockmove{tourner \\\\turnright{} de \\\\ovalnum{${90 - 180 / n2}} degrés}\\n`\n            break\n          case 1:\n            lutins[0].codeScratch +=\n              '\\\\blockmove{tourner \\\\turnright{} de \\\\ovalnum{90} degrés}\\n'\n            break\n          case 2:\n            lutins[0].codeScratch +=\n              '\\\\blockmove{tourner \\\\turnleft{} de \\\\ovalnum{90} degrés}\\n'\n            break\n        }\n        lutins[0].codeScratch += `\\\\blockrepeat{répéter \\\\ovalnum{${n2}} fois}\n        {\n          \\\\blockmove{avancer de \\\\ovalnum{${val3}} pas}\n          \\\\blockmove{tourner \\\\turnleft{} de \\\\ovalnum{${360 / n2}} degrés}\n        }\\n`\n        switch (bonneReponse) {\n          case 0:\n            lutins[0].codeScratch += `\\\\blockmove{tourner \\\\turnleft{} de \\\\ovalnum{${90 - 180 / n2}} degrés}\\n`\n            break\n          case 1:\n            lutins[0].codeScratch +=\n              '\\\\blockmove{tourner \\\\turnleft{} de \\\\ovalnum{90} degrés}\\n'\n            break\n          case 2:\n            lutins[0].codeScratch +=\n              '\\\\blockmove{tourner \\\\turnright{} de \\\\ovalnum{90} degrés}\\n'\n            break\n          case 3:\n            lutins[0].codeScratch +=\n              '\\\\blockmove{tourner \\\\turnright{} de \\\\ovalnum{180} degrés}\\n'\n            break\n        }\n        lutins[0].codeScratch += `\\\\blockmove{tourner \\\\${sens}{} de \\\\ovalnum{${360 / n}} degrés}\\n}\\n`\n\n        for (let i = 0; i < n; i++) {\n          allerA(0, 0, lutins[0])\n          allerA(0, 0, lutins[1])\n          avance(val1, lutins[0])\n          avance(val1 / 2, lutins[1])\n          avance(val1, lutins[2])\n          avance(val1 + 2, lutins[3])\n          tournerD(90 - 180 / n2, lutins[0])\n          tournerD(90, lutins[1])\n          tournerG(90, lutins[2])\n          for (let j = 0; j < n2; j++) {\n            avance(val3, lutins[0])\n            avance(val3, lutins[1])\n            avance(val3, lutins[2])\n            avance(val3, lutins[3])\n            tournerG(360 / n2, lutins[0])\n            tournerG(360 / n2, lutins[1])\n            tournerG(360 / n2, lutins[2])\n            tournerG(360 / n2, lutins[3])\n          }\n          tournerG(90 - 180 / n2, lutins[0])\n          tournerG(90, lutins[1])\n          tournerD(90, lutins[2])\n          tournerD(180, lutins[3])\n          if (sens === 'turnright') {\n            tournerD(360 / n, lutins[0])\n            tournerD(360 / n, lutins[1])\n            tournerD(360 / n, lutins[2])\n            tournerD(360 / n, lutins[3])\n          } else {\n            tournerG(360 / n, lutins[0])\n            tournerG(360 / n, lutins[1])\n            tournerG(360 / n, lutins[2])\n            tournerG(360 / n, lutins[3])\n          }\n        }\n        break\n      case 'spirales':\n        n = choice([3, 4, 5, 6, 8]) // Nombre de côtés\n        n2 = randint(1, 4) + Math.floor((9 - n) / 2)\n        val1 = randint(1, 4) * 5\n        val2 = 60 + randint(0, 4) * 5\n        val3 = 360 / n\n\n        if (bonneReponse !== 2) {\n          lutins[0].codeScratch += `\\\\blockvariable{mettre \\\\selectmenu*{longueur} à \\\\ovalnum{${val1}}}\n          \\\\blockrepeat{répéter jusqu'à ce que \\\\booloperator{\\\\ovalvariable{longueur}>\\\\ovalnum{${val2}}}}\n          {\n          \\\\blockmove{avancer de \\\\ovalvariable{longueur} pas}\\n`\n        } else {\n          lutins[0].codeScratch += `\\\\blockvariable{mettre \\\\selectmenu*{longueur} à \\\\ovalnum{${val2}}}\n          \\\\blockrepeat{répéter jusqu'à ce que \\\\booloperator{\\\\ovalvariable{longueur}<\\\\ovalnum{${val1}}}}\n          {\n          \\\\blockmove{avancer de \\\\ovalvariable{longueur} pas}\\n`\n        }\n        if (bonneReponse % 2 === 0) {\n          // les lutins 0 et 2 tournent normalement\n          lutins[0].codeScratch += `\\\\blockmove{tourner \\\\${sens}{} de \\\\ovalnum{${val3}} degrés}\\n`\n        } else {\n          if (bonneReponse === 1) {\n            if (sens === 'turnright') {\n              // Le lutin 1 tourne dans le mauvais sens\n              lutins[0].codeScratch += `\\\\blockmove{tourner \\\\turnleft{} de \\\\ovalnum{${val3}} degrés}\\n`\n            } else {\n              lutins[0].codeScratch += `\\\\blockmove{tourner \\\\turnright{} de \\\\ovalnum{${val3}} degrés}\\n`\n            }\n          } else {\n            // le lutin 3 ne tourne pas assez\n            lutins[0].codeScratch += `\\\\blockmove{tourner \\\\${sens}{} de \\\\ovalnum{${val3 - 10}} degrés}\\n`\n          }\n        }\n        if (bonneReponse === 2) {\n          lutins[0].codeScratch += `\\\\blockvariable{ajouter \\\\ovalnum{${-n2}} à \\\\ovalvariable{longueur}}\\n`\n          lutins[0].codeScratch += '}\\n'\n        } else {\n          lutins[0].codeScratch += `\\\\blockvariable{ajouter \\\\ovalnum{${n2}} à \\\\ovalvariable{longueur}}\\n`\n          lutins[0].codeScratch += '}\\n'\n        }\n        for (let i = val1; i < val2; i += n2) {\n          avance(i, lutins[0])\n          avance(i, lutins[1]) // Le lutin 1 tourne dans le mauvais sens\n          avance(i, lutins[3]) // le lutin2 ne tourne pas assez\n          if (sens === 'turnright') {\n            tournerD(val3, lutins[0])\n            tournerG(val3, lutins[1])\n            tournerD(val3 - 10, lutins[3])\n          } else {\n            tournerG(val3, lutins[0])\n            tournerD(val3, lutins[1])\n            tournerG(val3 - 10, lutins[3])\n          }\n        }\n        for (let i = val2; i > val1; i -= n2) {\n          avance(i, lutins[2]) // Le lutin2 diminue la logneur de ses déplacements\n          if (sens === 'turnright') {\n            tournerD(val3, lutins[2])\n          } else {\n            tournerG(val3, lutins[2])\n          }\n        }\n        break\n      case 'roueDentee':\n        n = choice([3, 4, 5, 6, 8]) // Nombre de côtés\n        val1 = randint(1, 2) * 10\n        val2 = 720 / n\n        val3 = 360 / n\n\n        if (bonneReponse < 5) {\n          lutins[0].codeScratch += `\\\\blockrepeat{répéter \\\\ovalnum{${n}} fois}\n                                  {\n                                  \\\\blockmove{avancer de \\\\ovalvariable{${val1}} pas}\\n`\n          if (bonneReponse < 2) {\n            lutins[0].codeScratch += `\\\\blockmove{tourner \\\\${sens}{} de \\\\ovalnum{${val3}} degrés}\\n`\n          } else {\n            lutins[0].codeScratch += `\\\\blockmove{tourner \\\\${sensOppose}{} de \\\\ovalnum{${val3}} degrés}\\n`\n          }\n          lutins[0].codeScratch += `\\\\blockmove{avancer de \\\\ovalvariable{${val1 * 2}} pas}\\n`\n          if (bonneReponse === 0) {\n            lutins[0].codeScratch += `\\\\blockmove{tourner \\\\${sens}{} de \\\\ovalnum{${val2}} degrés}\\n`\n          } else {\n            lutins[0].codeScratch += `\\\\blockmove{tourner \\\\${sensOppose}{} de \\\\ovalnum{${val2}} degrés}\\n`\n          }\n          if (bonneReponse < 3) {\n            lutins[0].codeScratch += `\\\\blockmove{avancer de \\\\ovalvariable{${val1 * 2}} pas}\\n`\n          } else {\n            lutins[0].codeScratch += `\\\\blockmove{avancer de \\\\ovalvariable{${val1}} pas}\\n`\n          }\n          if (bonneReponse > 0) {\n            lutins[0].codeScratch += `\\\\blockmove{tourner \\\\${sens}{} de \\\\ovalnum{${val2}} degrés}\\n`\n          } else {\n            lutins[0].codeScratch += `\\\\blockmove{tourner \\\\${sensOppose}{} de \\\\ovalnum{${val2}} degrés}\\n`\n          }\n          lutins[0].codeScratch += '}\\n'\n        }\n        for (let i = 0; i < n; i++) {\n          avance(val1, lutins[0])\n          avance(val1, lutins[1])\n          avance(val1, lutins[2])\n          avance(val1, lutins[3])\n          if (sens === 'turnright') {\n            tournerD(val3, lutins[0])\n            tournerD(val3, lutins[1])\n            tournerG(val3, lutins[2])\n            tournerG(val3, lutins[3])\n          } else {\n            tournerG(val3, lutins[0])\n            tournerG(val3, lutins[1])\n            tournerD(val3, lutins[2])\n            tournerD(val3, lutins[3])\n          }\n          avance(val1 * 2, lutins[0])\n          avance(val1 * 2, lutins[1])\n          avance(val1 * 2, lutins[2])\n          avance(val1 * 2, lutins[3])\n          if (sens === 'turnright') {\n            tournerD(val2, lutins[0])\n            tournerG(val2, lutins[1])\n            tournerG(val2, lutins[2])\n            tournerG(val2, lutins[3])\n          } else {\n            tournerG(val2, lutins[0])\n            tournerD(val2, lutins[1])\n            tournerD(val2, lutins[2])\n            tournerD(val2, lutins[3])\n          }\n          avance(val1 * 2, lutins[0])\n          avance(val1 * 2, lutins[1])\n          avance(val1 * 2, lutins[2])\n          avance(val1, lutins[3])\n          if (sens === 'turnright') {\n            tournerG(val2, lutins[0])\n            tournerD(val2, lutins[1])\n            tournerD(val2, lutins[2])\n            tournerD(val2, lutins[3])\n          } else {\n            tournerD(val2, lutins[0])\n            tournerG(val2, lutins[1])\n            tournerG(val2, lutins[2])\n            tournerG(val2, lutins[3])\n          }\n        }\n        break\n      case 'frise1':\n        n = 3 // Nombre de répétitions\n        n2 = choice([45, 60, 90])\n        n2 = choice([45, 60, 90])\n        val1 = randint(1, 2) * 5\n        val2 = randint(1, 3) * 5\n        val3 = randint(2, 4) * 5\n        sequenceFrise1 = [\n          [`\\\\blockmove{avancer de \\\\ovalvariable{${val2}} pas}\\n`, val2],\n          [\n            `\\\\blockmove{tourner \\\\${sens}{} de \\\\ovalnum{${n2}} degrés}\\n`,\n            sens,\n            n2,\n          ],\n          [`\\\\blockmove{avancer de \\\\ovalvariable{${val1}} pas}\\n`, val1],\n          [\n            `\\\\blockmove{tourner \\\\${sens}{} de \\\\ovalnum{${n2}} degrés}\\n`,\n            sens,\n            n2,\n          ],\n          [`\\\\blockmove{avancer de \\\\ovalvariable{${val1}} pas}\\n`, val1],\n          [\n            `\\\\blockmove{tourner \\\\${sensOppose}{} de \\\\ovalnum{${n2}} degrés}\\n`,\n            sensOppose,\n            n2,\n          ],\n          [`\\\\blockmove{avancer de \\\\ovalvariable{${val1}} pas}\\n`, val1],\n          [\n            `\\\\blockmove{tourner \\\\${sensOppose}{} de \\\\ovalnum{${n2}} degrés}\\n`,\n            sensOppose,\n            n2,\n          ],\n          [`\\\\blockmove{avancer de \\\\ovalvariable{${val3}} pas}\\n`, val3],\n          [\n            `\\\\blockmove{tourner \\\\${sensOppose}{} de \\\\ovalnum{${n2}} degrés}\\n`,\n            sensOppose,\n            n2,\n          ],\n          [`\\\\blockmove{avancer de \\\\ovalvariable{${val2}} pas}\\n`, val2],\n          [\n            `\\\\blockmove{tourner \\\\${sens}{} de \\\\ovalnum{${n2}} degrés}\\n`,\n            sens,\n            n2,\n          ],\n        ]\n        lutins[0].codeScratch += `\\\\blockrepeat{répéter \\\\ovalnum{${n}} fois}\n{\\n`\n        for (let i = 0; i < 6; i++) {\n          lutins[0].codeScratch +=\n            sequenceFrise1[(2 * (bonneReponse + i)) % 12][0]\n          lutins[0].codeScratch +=\n            sequenceFrise1[(2 * (bonneReponse + i) + 1) % 12][0]\n        }\n        lutins[0].codeScratch += '}\\n'\n        for (let k = 0; k < n; k++) {\n          for (let i = 0; i < 6; i++) {\n            for (let j = 0; j < 4; j++) {\n              avance(Number(sequenceFrise1[(2 * (j + i)) % 12][1]), lutins[j])\n              if (sequenceFrise1[(2 * (j + i) + 1) % 12][1] === 'turnright') {\n                tournerD(\n                  Number(sequenceFrise1[(2 * (j + i) + 1) % 12][2]),\n                  lutins[j],\n                )\n              } else {\n                tournerG(\n                  Number(sequenceFrise1[(2 * (j + i) + 1) % 12][2]),\n                  lutins[j],\n                )\n              }\n            }\n          }\n        }\n        break\n    }\n    lutins[0].codeScratch += '\\\\blockpen{relever le stylo}\\n'\n    lutins[0].codeScratch += '\\\\end{scratch}'\n    let texte =\n      \"Quelle figure est tracée par le stylo à l'exécution du programme ci-dessous ?<br>Le tracé démarre à la croix bleue.<br>\"\n    texte +=\n      \"S'orienter à 90° signifie s'orienter vers la droite de l'écran.<br>\"\n\n    let largeur = 1\n    let hauteur = 1\n    for (let i = 0; i < 4; i++) {\n      // on calcule la largeur et la hauteur maximale des parcours.\n      leveCrayon(lutins[i])\n      largeur = Math.max(largeur, lutins[i].xMax - lutins[i].xMin)\n      hauteur = Math.max(hauteur, lutins[i].yMax - lutins[i].yMin)\n    }\n    largeur = Math.round(largeur + 1.5)\n\n    if (context.isHtml) {\n      // On crée 2 colonnes selon le contexte html / Latex\n      texte += '<table style=\"width: 100%\"><tr><td>'\n    } else {\n      texte += '\\\\begin{minipage}[b]{.25\\\\textwidth}'\n    }\n    texte += scratchblock(lutins[0].codeScratch) // la fonction scratchblock va convertir le code Latex en code html si besoin.\n    if (context.isHtml) {\n      // on change de colonne...\n      texte += '</td><td>'\n      texte += '    '\n      texte += '</td><td style=\"vertical-align: top; text-align: center\">'\n    } else {\n      texte += '\\\\end{minipage} '\n      texte += '\\\\hfill \\\\begin{minipage}[b]{.74\\\\textwidth}'\n    }\n\n    let ordreLutins = [0, 1, 2, 3]\n    ordreLutins = shuffle(ordreLutins) // On mélange les emplacements pour éviter d'avoir la bonne réponse au même endroit-\n\n    for (let i = 0; i < 4; i++) {\n      for (let j = 0; j < lutins[i].listeTraces.length; j++) {\n        // On recadre les traces des lutins...\n        lutins[i].listeTraces[j][0] -= Math.floor(lutins[i].xMin)\n        lutins[i].listeTraces[j][2] -= Math.floor(lutins[i].xMin)\n        lutins[i].listeTraces[j][1] -= Math.floor(lutins[i].yMin)\n        lutins[i].listeTraces[j][3] -= Math.floor(lutins[i].yMin)\n      }\n    }\n    const depart = []\n    for (let i = 0; i < 4; i++) {\n      // ajouter le point de départ de chaque tracé\n      depart[i] = tracePoint(\n        point(lutins[i].listeTraces[0][0], lutins[i].listeTraces[0][1]),\n      )\n      depart[i].taille = 5\n      depart[i].color = colorToLatexOrHTML('blue')\n      depart[i].epaisseur = 2\n      if (i === bonneReponse) {\n        objetsCorrection.push(depart[i])\n      }\n    }\n    const echelle = segment(0, hauteur + 0.5, 1, hauteur + 0.5)\n    echelle.epaisseur = 2\n    echelle.styleExtremites = '|-|'\n    objetsCorrection.push(lutins[bonneReponse])\n    const paramsEnonces = {\n      xmin: -0.5,\n      ymin: -1.5,\n      xmax: largeur,\n      ymax: hauteur + 1,\n      pixelsParCm: Math.round(400 / largeur),\n      scale: 4 / largeur,\n      style: 'display: inline-block',\n    }\n    const paramsCorrection = {\n      xmin: -0.5,\n      ymin: -1.5,\n      xmax: largeur,\n      ymax: hauteur + 1,\n      pixelsParCm: Math.round(400 / largeur),\n      scale: 4 / largeur,\n      style: 'display: inline-block',\n    }\n\n    // mathalea2d() est la fonction qui ajoute soit une figure SVG (en html), soit une figure tikz en Latex. Ici, juste la grille est le point de départ.\n    for (let i = 0; i < 4; i++) {\n      const param = {\n        ...paramsEnonces,\n        id: `cliquefigure${i}Ex${numeroExercice}Q0`,\n      }\n      texte += mathalea2d(\n        param,\n        lutins[ordreLutins[i]],\n        depart[ordreLutins[i]],\n        texteParPoint(\n          `figure ${i + 1}`,\n          point(\n            (lutins[ordreLutins[i]].xMax - lutins[ordreLutins[i]].xMin) / 2,\n            -0.8,\n          ),\n          0,\n          'black',\n          1,\n        ),\n      )\n      if (i === 1) texte += '<br>'\n    }\n    if (context.isHtml) {\n      texte += '</td></tr></table>'\n    } else {\n      texte += '\\\\end{minipage} '\n    }\n    this.autoCorrection[0] = {\n      enonce: texte,\n      propositions: [\n        {\n          texte: 'figure 1',\n          statut: false,\n        },\n        {\n          texte: 'figure 2',\n          statut: false,\n        },\n        {\n          texte: 'figure 3',\n          statut: false,\n        },\n        {\n          texte: 'figure 4',\n          statut: false,\n        },\n      ],\n      options: { ordered: true },\n    }\n    this.autoCorrection[0].propositions![\n      ordreLutins.indexOf(bonneReponse)\n    ].statut = true\n    setCliqueFigure(this.autoCorrection[0])\n    this.indiceBonneFigure = ordreLutins.indexOf(bonneReponse)\n    // Ici, la figure contient la grille, le point de départ et le lutin qui s'anime sur sa trace...\n    texteCorr += `La bonne figure est la figure ${this.indiceBonneFigure + 1}`\n    if (this.interactif && context.isHtml) {\n      texte += `<span id=\"resultatCheckEx${this.numeroExercice}Q0\"></span>`\n    }\n    this.figures[0] = [\n      {\n        id: `cliquefigure0Ex${this.numeroExercice}Q0`,\n        solution: ordreLutins.indexOf(bonneReponse) === 0,\n      },\n      {\n        id: `cliquefigure1Ex${numeroExercice}Q0`,\n        solution: ordreLutins.indexOf(bonneReponse) === 1,\n      },\n      {\n        id: `cliquefigure2Ex${numeroExercice}Q0`,\n        solution: ordreLutins.indexOf(bonneReponse) === 2,\n      },\n      {\n        id: `cliquefigure3Ex${numeroExercice}Q0`,\n        solution: ordreLutins.indexOf(bonneReponse) === 3,\n      },\n    ]\n    texteCorr += mathalea2d(paramsCorrection, objetsCorrection)\n    this.listeQuestions.push(texte) // on met à jour la liste des questions\n    this.listeCorrections.push(texteCorr) // et la liste des corrections\n    listeQuestionsToContenuSansNumero(this) // on envoie tout à la fonction qui va mettre en forme.\n  }\n}\n"],"names":["interactifReady","interactifType","amcReady","amcType","titre","dateDePublication","uuid","refs","AlgoTortue","Exercice","__publicField","numeroExercice","objetsCorrection","choix","choice","val1","val2","val3","n","n2","sens","sequenceFrise1","sensOppose","lutins","bonneReponse","randint","angleDepart","xDepart","yDepart","context","texteCorr","i","creerLutin","colorToLatexOrHTML","allerA","baisseCrayon","orienter","angleScratchTo2d","arrondi","avance","tournerD","tournerG","j","k","texte","largeur","hauteur","leveCrayon","scratchblock","ordreLutins","shuffle","depart","tracePoint","point","echelle","segment","paramsEnonces","paramsCorrection","param","mathalea2d","texteParPoint","setCliqueFigure","listeQuestionsToContenuSansNumero"],"mappings":"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"}
import{P as O,bS as I,G as F,X as N,Q as K,z as m,a1 as U,R as Q,J as T,x as P,f as J,c9 as W,a4 as R,ap as S}from"./index-DjA7ROjC.js";import"./vendors/mathlive-DtHmjDB4.js";import{p as B}from"./colors-vbveSA7f.js";function z(a,e,t,c=1){const f=new W(a.x,a.y+c),H=m(e.x,e.y+c),r=R(a,f,H),i=Q(H,e);i.styleExtremites="->";const l=S(f,H),x=[r,i];let b;if(t){const n=t.color??"black";if(t.latex)b=T(t.texte,l.x,l.y+(c>0?.5:-.8),n,50,20,"",10);else{const d=t.math??!1;b=P(t.texte,l.x,l.y+(c>0?.5:-.8),0,n,1,"gauche",d),b.gras=t.gras??!1}x.push(b)}return x}function D(a,e,t,c=1,f=!1){f&&(c=-c);const H=m(a.x+c,a.y),r=m(e.x+c,e.y),i=R(a,H,r),l=Q(r,e);l.styleExtremites="->";const x=S(H,r),b=[i,l];let n;const d=t.color??"black",u=t.math??!1;return t&&(t.latex?n=T(t.texte,x.x+t.texte.length/10+c/2,x.y,d,50,20,"",10):(n=P(t.texte,x.x+c,x.y-.6,0,d,1,f?"droite":"gauche",u),n.gras=t.gras??!1),b.push(n)),b}class Y extends K{constructor({largeurTitre:e=7,largeur:t=3,hauteur:c=2,nbColonnes:f=3,origine:H=m(0,0),ligne1:r,ligne2:i,flecheHaut:l=[],flecheBas:x=[],flecheDroite:b=!1,flecheDroiteSens:n="bas",flecheGauche:d=!1,flecheGaucheSens:u="haut"}){super(),r&&i&&Array.isArray(r)&&Array.isArray(i)&&(f=Math.max(r.length,i.length,f));const o=H,h=m(o.x+e+t*(f-1),o.y),w=m(h.x,h.y+2*c),$=m(o.x,o.y+2*c);this.objets=[],this.objets.push(U(o,h,w,$)),this.objets.push(Q(m(o.x,o.y+c),m(h.x,h.y+c)));let k=o.x+e;for(let s=0;s<f;s++){if(this.objets.push(Q(m(k,o.y),m(k,w.y))),r[s+1])if(r[s+1].latex)this.objets.push(T(r[s+1].texte??"",k+t/2,o.y+1.4*c,r[s+1].color||"black",t*8,20,"",10));else{const y=r[s+1].color??"black",p=r[s+1].math??!1,M=P(r[s+1].texte??"",k+t/2,o.y+1.4*c,0,y,1.2,"milieu",p);M.gras=r[s+1].gras??!1,this.objets.push(M)}if(i[s+1])if(i[s+1].latex)this.objets.push(T(i[s+1].texte??"",k+t/2,o.y+.4*c,i[s+1].color||"black",t*8,20,"",10));else{const y=i[s+1].color??"black",p=i[s+1].math??!1,M=P(i[s+1].texte??"",k+t/2,o.y+.4*c,0,y,1.2,"milieu",p);M.gras=i[s+1].gras??!1,this.objets.push(M)}k+=t}if(r[0])if(r[0].latex)this.objets.push(T(r[0].texte??"",o.x+e/2,o.y+1.4*c,"black",t*8,20,"",10));else{const s=r[0].color??"black",y=r[0].math??!1,p=P(r[0].texte??"",o.x+e/2,o.y+1.4*c,0,s,1.2,"milieu",y);p.gras=r[0].gras??!1,this.objets.push(p)}if(i[0])if(i[0].latex)this.objets.push(T(i[0].texte??"",o.x+e/2,o.y+.4*c,"black",t*8,20,"",10));else{const s=i[0].color??"black",y=i[0].math??!1,p=P(i[0].texte??"",o.x+e/2,o.y+.4*c,0,s,1.2,"milieu",y);p.gras=i[0].gras??!1,this.objets.push(p)}for(const s of l){const y=m(o.x+e+s[0]*t-.4*t,o.y+2.1*c),p=m(o.x+e+s[1]*t-.6*t,o.y+2.1*c);s[3]?this.objets.push(...z(y,p,s[2],s[3])):this.objets.push(...z(y,p,s[2]))}for(const s of x){const y=m(o.x+e+s[0]*t-.4*t,o.y-.1*c),p=m(o.x+e+s[1]*t-.6*t,o.y-.1*c);let M;s[3]?M=-Math.abs(s[3]):M=-1,this.objets.push(...z(y,p,s[2],M))}if(b&&typeof b=="string"){const s=m(o.x+e+(f-1)*t+.2,o.y+1.5*c),y=m(o.x+e+(f-1)*t+.2,o.y+.5*c);n==="bas"?this.objets.push(...D(s,y,b)):this.objets.push(...D(y,s,b));const{xmin:p,ymin:M,xmax:X,ymax:q}=J(this.objets,{rxmin:0,rxmax:0,rymin:0,rymax:0});this.bordures=[p,M,X,q]}if(d&&typeof d=="string"){const s=m(o.x,o.y+1.5*c),y=m(o.x,o.y+.5*c);u==="bas"?this.objets.push(...D(s,y,d,1,!0)):this.objets.push(...D(y,s,d,1,!0))}const{xmin:j,ymin:A,xmax:v,ymax:V}=J(this.objets,{rxmin:0,rxmax:0,rymin:0,rymax:0});return this.bordures=[j,A,v,V],this}}function E(a){return new Y(a)}function g(a,e,t,c=1,f=!0,H=0,r=0,i=!1,l={}){const x=a.length>0?a.length:t.length/e.length+1,b=e.length>0?e.length:t.length/a.length+1;if(O.isHtml)return I.create(H,r,I.convertTclToTableauMathlive(a,e,t),`tableauMathlive ${l.classes?l.classes:""}`,i,l).output;{let n="";(c===void 0||typeof c=="boolean")&&(c=1),n+=`$\\renewcommand{\\arraystretch}{${c}}
`,n+="\\begin{array}{|";for(let o=0;o<x;o++)n+="c|";n+=`}
`,n+=`\\hline
`;const d=l.L0C0?l.L0C0:"lightgray",u=B(d);if(a.length>0){typeof a[0]=="number"?n+=`\\cellcolor${u?"[HTML]":""}{${u?u.withoutHash:d}} ${f?F(a[0],2):"\\text{"+N(a[0],2)+"}"}`:n+=`\\cellcolor${u?"[HTML]":""}{${u?u.withoutHash:d}} ${f?a[0]:"\\text{"+a[0]+"}"}`;for(let o=1;o<x;o++){const h=a[o],w=l[`L0C${o}`]!=null?l[`L0C${o}`]:"lightgray",$=B(w);typeof h=="number"?n+=` & \\cellcolor${$?"[HTML]":""}{${$?$.withoutHash:w}} ${f?F(h,6):"\\text{"+N(h,6)+"}"}`:n+=` & \\cellcolor${$?"[HTML]":""}{${$?$.withoutHash:w}} ${f?h:"\\text{"+h+"}"}`}n+=`\\\\
`,n+=`\\hline
`}for(let o=0;o<b;o++){const h=e[o],w=l[`L${o+1}C0`]?l[`L${o+1}C0`]:l.LC0?l.LC0:"lightgray",$=B(w);typeof h=="number"?n+=`\\cellcolor${$?"[HTML]":""}{${$?$.withoutHash:w}} ${f?F(h,6):"\\text{"+N(h,6)+"}"}`:n+=`\\cellcolor${$?"[HTML]":""}{${$?$.withoutHash:w}} ${f?h:"\\text{"+h+"}"}`;for(let k=0;k<x-1;k++){const j=t[(x-1)*o+k],A=l[`L${o+1}C${k+1}`]!=null?l[`L${o+1}C${k+1}`]:"",v=B(A);typeof j=="number"?A!==""?n+=` & \\cellcolor${v?"[HTML]":""}{${v?v.withoutHash:A}} ${f?F(j,6):"\\text{"+N(j,6)+"}"}`:n+=` & ${f?F(j,6):"\\text{"+N(j,6)+"}"}`:A!==""?n+=` & \\cellcolor${v?"[HTML]":""}{${v?v.withoutHash:A}} ${f?j:"\\text{"+j+"}"}`:n+=` & ${f?j:"\\text{"+j+"}"}`}n+=`\\\\
`,n+=`\\hline
 `}return n+=`\\end{array}
`,n+=`\\renewcommand{\\arraystretch}{1}$
`,n}}function L({L0C0:a,L0C1:e,L1C0:t,L1C1:c},f,H,r,i){let l;if(O.isHtml){const x=document.createElement("table");x.className="tableau2x2",x.id=`tableau2x2Ex${f}Q${H}`;const b=document.createElement("tr"),n=document.createElement("tr");x.appendChild(b),x.appendChild(n);const d=document.createElement("td"),u=document.createElement("td"),o=document.createElement("td"),h=document.createElement("td");b.appendChild(d),b.appendChild(u),n.appendChild(o),n.appendChild(h),d.textContent=a.content??"",u.textContent=e.content??"",o.textContent=t.content??"",h.textContent=c.content??"",a.background!=null&&(d.style.backgroundColor=a.background),e.background!=null&&(u.style.backgroundColor=e.background),t.background!=null&&(o.style.backgroundColor=t.background),c.background!=null&&(h.style.backgroundColor=c.background),a.color!=null&&(d.style.color=a.color),e.color!=null&&(u.style.color=e.color),t.color!=null&&(o.style.color=t.color),c.color!=null&&(h.style.color=c.color),l=x.outerHTML}else l=`$\\renewcommand{\\arraystretch}{1.5}
\\begin{array}{|c|c|}
\\hline`,a!=null&&a.content!==""&&(l+=`${a.background!==null&&a.background!==void 0?"\\cellcolor{"+a.background+"}":""} ${a.content} `),l+=" & ",e!=null&&e.content!==""&&(l+=`${e.background!=null&&e.background!==void 0?"\\cellcolor{"+e.background+"}":""} ${e.content} `),l+=`\\\\
 \\hline
 `,t!=null&&t.content!==""&&(l+=`${t.background!==null&&t.background!==void 0?"\\cellcolor{"+t.background+"}":""} ${t.content} `),l+=" & ",c!=null&&c.content!==""&&(l+=`${c.background!==null&&c.background!==void 0?"\\cellcolor{"+c.background+"}":""} ${c.content} `),l+=`\\\\
 \\hline
 `,l+=`\\end{array}
\\renewcommand{\\arraystretch}{1}$`;return l}export{Y as T,L as a,E as b,g as t};
//# sourceMappingURL=tableau-B_RK96i6.js.map

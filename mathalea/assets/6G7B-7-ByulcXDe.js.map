{"version":3,"file":"6G7B-7-ByulcXDe.js","sources":["../../src/exercices/6e/6G7B-7.ts"],"sourcesContent":["import { codageMediatrice } from '../../lib/2d/codages'\nimport {\n  Droite,\n  droiteHorizontaleParPoint,\n  droiteVerticaleParPoint,\n  Mediatrice,\n  mediatrice,\n} from '../../lib/2d/droites'\nimport {\n  Point,\n  point,\n  pointIntersectionDD,\n  tracePoint,\n} from '../../lib/2d/points'\nimport { segment } from '../../lib/2d/segmentsVecteurs'\nimport { latexParCoordonnees, texteParPosition } from '../../lib/2d/textes'\nimport { symetrieAxiale } from '../../lib/2d/transformations'\nimport {\n  choice,\n  combinaisonListes,\n  shuffle,\n} from '../../lib/outils/arrayOutils'\nimport {\n  miseEnEvidence,\n  texteEnCouleur,\n} from '../../lib/outils/embellissements'\nimport { numAlpha } from '../../lib/outils/outilString'\nimport { nombreAvecEspace } from '../../lib/outils/texNombre'\nimport Exercice from '../Exercice'\nimport { colorToLatexOrHTML, mathalea2d } from '../../modules/2dGeneralites'\nimport { context } from '../../modules/context'\nimport { egal, listeQuestionsToContenu, randint } from '../../modules/outils'\nimport { symetrieAnimee } from '../../modules/2dAnimation'\nimport { Pavage, pavage } from '../../modules/Pavage'\nimport { ajouteChampTexteMathLive } from '../../lib/interactif/questionMathLive'\n\nimport { setReponse } from '../../lib/interactif/gestionInteractif'\nimport type { Polygone } from '../../lib/2d/polygones'\n\nexport const titre =\n  \"Trouver l'image d'une figure par une symétrie axiale dans un pavage\"\nexport const interactifReady = true\nexport const interactifType = 'mathLive'\n\n// Gestion de la date de publication initiale\nexport const dateDePublication = '14/12/2020'\n\n/**\n * Trouver une figure symétrique dans un pavage. Symétrie axiale. 6 pavages différents.\n * @author Jean-Claude Lhote\n * Relecture : Novembre 2021 par EE\n */\nexport const uuid = '328b1'\n\nexport const refs = {\n  'fr-fr': ['6G7B-7'],\n  'fr-2016': ['6G25-3'],\n  'fr-ch': ['9ES6-20'],\n}\n\ntype FenetreType = {\n  xmin: number\n  xmax: number\n  ymin: number\n  ymax: number\n  pixelsParCm: number\n  scale: number\n}\n\nexport default class PavageEtReflexion2d extends Exercice {\n  constructor() {\n    super()\n    this.nbQuestions = 3\n    this.besoinFormulaireNumerique = [\n      'Taille du pavage (la grande est automatique au-delà de 5 questions)',\n      2,\n      ' 1 : Taille modeste\\n 2 : Grande taille',\n    ]\n    this.besoinFormulaire2CaseACocher = ['Montrer les centres']\n    this.besoinFormulaire3Numerique = [\n      'Choix du pavage',\n      8,\n      \"1 : Triangles équilatéraux\\n2 : Carrés\\n3 : Hexagones réguliers\\n4 : Carrés et triangles équilatéraux\\n5 : Octogones et carrés\\n 6 : Losanges (pavage hexagonal d'écolier)\\n7 : Hexagones et triangles équilatéraux\\n8 : Un des sept pavages au hasard\",\n    ]\n\n    this.correctionDetaillee = true\n    this.correctionDetailleeDisponible = true\n\n    this.sup = 1 // 1 pour des pavages modestes, 2 pour des plus grands.\n    this.sup2 = false // On cache les centres par défaut.\n    this.sup3 = 7\n  }\n\n  nouvelleVersion() {\n    const videcouples = function (tableau: any[]) {\n      for (let k = 0; k < tableau.length; k++) {\n        for (let j = k + 1; j < tableau.length; j++) {\n          if (tableau[k][1] === tableau[j][0]) {\n            tableau.splice(j, 1)\n          }\n        }\n      }\n      return tableau\n    }\n    const compare2polys = function (poly1: Polygone, poly2: Polygone) {\n      if (comparenbsommets(poly1, poly2)) {\n        if (comparesommets(poly1, poly2)) {\n          return true\n        } else {\n          return false\n        }\n      } else {\n        return false\n      }\n    }\n    const comparenbsommets = function (poly1: Polygone, poly2: Polygone) {\n      if (poly1.listePoints.length === poly2.listePoints.length) {\n        return true\n      } else return false\n    }\n\n    const compare2sommets = function (sommet1: Point, sommet2: Point) {\n      if (egal(sommet1.x, sommet2.x, 0.1) && egal(sommet1.y, sommet2.y, 0.1)) {\n        return true\n      } else return false\n    }\n    const comparesommets = function (poly1: Polygone, poly2: Polygone) {\n      let trouve = false\n      let trouves = 0\n      if (comparenbsommets(poly1, poly2)) {\n        for (const P of poly1.listePoints) {\n          for (const M of poly2.listePoints) {\n            if (compare2sommets(M, P)) {\n              trouve = true\n            }\n            if (trouve) break\n          }\n          if (trouve) {\n            trouves++\n            trouve = false\n          } else {\n            trouves -= 100\n          }\n          if (trouves < 0) {\n            break\n          }\n        }\n      }\n      if (trouves === poly1.listePoints.length) {\n        return true\n      } else return false\n    }\n\n    const refleccion = function (\n      pavage: Pavage,\n      d: Droite | Mediatrice,\n      numero: number,\n    ) {\n      // retourne le numero du polygone symétrique ou -1 si il n'existe pas\n      const poly = pavage.polygones[numero - 1]\n      let pol\n      const result = -1\n      const sympoly = symetrieAxiale(poly, d)\n      for (let k = 0; k < pavage.polygones.length; k++) {\n        pol = pavage.polygones[k]\n        if (compare2polys(sympoly, pol)) {\n          return k + 1\n        }\n      }\n      return result\n    }\n\n    const objets = []\n    const objetsCorrection = []\n    let P1\n    let P2\n    let P3\n    let t\n    const codes = ['/', '//', '///', 'o', 'w', 'X', 'U', '*']\n    let taillePavage = parseInt(this.sup)\n    if (taillePavage < 1 || taillePavage > 2) {\n      taillePavage = 1\n    }\n    if (this.nbQuestions > 5) {\n      taillePavage = 2\n    }\n\n    let Nx\n    let Ny\n    let index1: number\n    let index2\n    let A\n    let B\n    let d\n    let image\n    let couples = []\n    let tailles = []\n    let monpavage: Pavage = pavage()\n    let fenetre: FenetreType = {\n      xmin: 0,\n      ymin: 0,\n      xmax: 10,\n      ymax: 10,\n      pixelsParCm: 20,\n      scale: 0.5,\n    }\n    let texte = ''\n    let texteCorr = ''\n    let typeDePavage = this.sup3\n    let nombreTentatives\n    let nombrePavageTestes = 1\n    if (this.sup3 === 8) {\n      typeDePavage = randint(1, 7)\n    } else {\n      typeDePavage = this.sup3 % 8\n    }\n    while (couples.length < this.nbQuestions && nombrePavageTestes < 2) {\n      nombreTentatives = 0\n      monpavage = pavage() // On crée l'objet Pavage qui va s'appeler monpavage\n      tailles = [\n        [\n          [3, 2],\n          [3, 2],\n          [2, 2],\n          [2, 2],\n          [2, 2],\n          [2, 2],\n          [3, 2],\n        ],\n        [\n          [4, 3],\n          [4, 3],\n          [3, 3],\n          [3, 3],\n          [3, 3],\n          [3, 2],\n          [5, 3],\n        ],\n      ]\n      Nx = tailles[taillePavage - 1][typeDePavage - 1][0]\n      Ny = tailles[taillePavage - 1][typeDePavage - 1][1]\n      monpavage.construit(typeDePavage, Nx, Ny, 3) // On initialise toutes les propriétés de l'objet.\n      fenetre = monpavage.fenetre\n      context.fenetreMathalea2d = [\n        fenetre.xmin,\n        fenetre.ymin,\n        fenetre.xmax,\n        fenetre.ymax,\n      ]\n      while (couples.length < this.nbQuestions && nombreTentatives < 5) {\n        // On cherche d pour avoir suffisamment de couples\n        couples = [] // On vide la liste des couples pour une nouvelle recherche\n        index1 = randint(\n          Math.floor(monpavage.nb_polygones / 3),\n          Math.ceil((monpavage.nb_polygones * 2) / 3),\n        ) // On choisit 2 points dans 2 polygones distincts.\n        A = monpavage.barycentres[index1]\n        const indicesSimilaires = shuffle(\n          monpavage.polygones\n            .map((poly, i) => ({ index: i, count: poly.listePoints.length }))\n            .filter(\n              (p) =>\n                p.index !== index1 &&\n                p.count === monpavage.polygones[index1].listePoints.length,\n            )\n            .map((p) => p.index),\n        )\n        const lastChoice: number[] = []\n        for (\n          let kt = 0;\n          kt < 20 && indicesSimilaires.length > lastChoice.length;\n          kt++\n        ) {\n          index2 = choice(indicesSimilaires, lastChoice)\n          B = monpavage.barycentres[index2]\n          d = mediatrice(A, B, '', 'red') // l'axe sera la droite passant par ces deux points si ça fonctionne\n          if (Math.abs(d.pente) < 0.1) {\n            continue\n          }\n          const sympoly = symetrieAxiale(monpavage.polygones[index1], d)\n          if (compare2polys(sympoly, monpavage.polygones[index2])) {\n            break\n          }\n          lastChoice.push(index2)\n        }\n        if (d && !isNaN(d.pente) && Math.abs(d.pente) > 0.1) {\n          d.epaisseur = 3\n          for (let i = 1; i <= monpavage.nb_polygones; i++) {\n            // on crée une liste des couples (antécédents, images)\n            image = refleccion(monpavage, d, i)\n            if (image !== -1) {\n              // si l'image du polygone i existe, on ajoute le couple à la liste\n              couples.push([i, image])\n            }\n          }\n          couples = videcouples(couples) // supprime tous les couples en double (x,y)=(y,x)\n          nombreTentatives++\n        }\n      }\n      if (couples.length < this.nbQuestions) {\n        nombrePavageTestes++\n      }\n    }\n    if (couples.length < this.nbQuestions || d == null) {\n      console.error('trop de questions, augmentez la taille du pavage')\n      return\n    }\n\n    objets.push(d) // la droite d est trouvée\n    let pt1, pt2\n    if (d.pente < 0 && d.pente > -10) {\n      pt1 = pointIntersectionDD(\n        d,\n        droiteHorizontaleParPoint(\n          point(context.fenetreMathalea2d[2], context.fenetreMathalea2d[3]),\n        ),\n      )\n      pt2 = pointIntersectionDD(\n        d,\n        droiteVerticaleParPoint(\n          point(context.fenetreMathalea2d[0], context.fenetreMathalea2d[1]),\n        ),\n      )\n      if (!(pt1 instanceof Point) || !(pt2 instanceof Point)) {\n        window.notify(\"pt1 ou pt2 n'est pas un point\", { pt1, pt2 })\n        return\n      }\n      if (pt1.x > pt2.x) {\n        objets.push(\n          latexParCoordonnees('(d)', pt1.x, pt1.y - 2.5, 'red', 20, 10, '', 12),\n        )\n      } else {\n        if (pt2.x < context.fenetreMathalea2d[2] + 0.5)\n          objets.push(\n            latexParCoordonnees(\n              '(d)',\n              pt2.x + 0.75 * context.zoom,\n              pt2.y - 0.8 * context.zoom,\n              'red',\n              20,\n              10,\n              '',\n              12,\n            ),\n          )\n        else\n          objets.push(\n            latexParCoordonnees(\n              '(d)',\n              pt2.x + 0.75 * context.zoom,\n              pt2.y + 0.15 * context.zoom,\n              'red',\n              20,\n              10,\n              '',\n              12,\n            ),\n          )\n      }\n    } else if (d.pente >= 0 && d.pente < 10) {\n      pt1 = pointIntersectionDD(\n        d,\n        droiteHorizontaleParPoint(\n          point(context.fenetreMathalea2d[2], context.fenetreMathalea2d[3]),\n        ),\n      )\n      pt2 = pointIntersectionDD(\n        d,\n        droiteVerticaleParPoint(\n          point(context.fenetreMathalea2d[2], context.fenetreMathalea2d[3]),\n        ),\n      )\n      if (!(pt1 instanceof Point) || !(pt2 instanceof Point)) {\n        window.notify(\"pt1 ou pt2 n'est pas un point\", { pt1, pt2 })\n        return\n      }\n      if (pt1.x < pt2.x) {\n        objets.push(\n          latexParCoordonnees(\n            '(d)',\n            pt1.x - 0.75 * context.zoom,\n            pt1.y - 2.5,\n            'red',\n            20,\n            10,\n            '',\n            12,\n          ),\n        )\n      } else {\n        objets.push(\n          latexParCoordonnees(\n            '(d)',\n            pt2.x - 0.75 * context.zoom,\n            pt2.y + 0.5 * context.zoom,\n            'red',\n            20,\n            10,\n            '',\n            12,\n          ),\n        )\n      }\n    } else {\n      // d est verticale\n      pt1 = pointIntersectionDD(\n        d,\n        droiteHorizontaleParPoint(\n          point(context.fenetreMathalea2d[2], context.fenetreMathalea2d[3]),\n        ),\n      )\n      if (!(pt1 instanceof Point)) {\n        window.notify(\"pt1 n'est pas un point\", { pt1, pt2 })\n        return\n      }\n      objets.push(\n        latexParCoordonnees(\n          '(d)',\n          pt1.x - 1,\n          pt1.y - 1.5,\n          'red',\n          20,\n          10,\n          '',\n          12,\n        ),\n      )\n    }\n\n    couples = shuffle(couples) // on mélange les couples\n    const texteNoir = []\n    const texteGris = []\n    for (let i = 0; i < monpavage.nb_polygones; i++) {\n      texteNoir.push(\n        texteParPosition(\n          nombreAvecEspace(i + 1),\n          monpavage.barycentres[i].x,\n          monpavage.barycentres[i].y + 0.5,\n          0,\n          'black',\n          1,\n          'milieu',\n          true,\n        ),\n      )\n      texteGris.push(\n        texteParPosition(\n          nombreAvecEspace(i + 1),\n          monpavage.barycentres[i].x,\n          monpavage.barycentres[i].y + 0.5,\n          0,\n          'gray',\n          1,\n          'milieu',\n          true,\n        ),\n      )\n    }\n    if (this.sup2) {\n      // Doit-on montrer les centres des figures ?\n      for (let i = 0; i < monpavage.nb_polygones; i++) {\n        objets.push(monpavage.tracesCentres[i])\n      }\n    }\n    for (let i = 0; i < monpavage.nb_polygones; i++) {\n      // il faut afficher tous les polygones du pavage\n      objets.push(monpavage.polygones[i])\n    }\n\n    texte = mathalea2d(fenetre, objets, texteNoir) // monpavage.fenetre est calibrée pour faire entrer le pavage dans une feuille A4\n    const couleurs = combinaisonListes(\n      ['green', 'red', 'blue'],\n      this.nbQuestions,\n    )\n    for (let i = 0; i < this.nbQuestions; i++) {\n      setReponse(this, i, couples[i][1])\n      texte +=\n        numAlpha(i) +\n        `Quelle est l'image de la figure $${couples[i][0]}$ dans la symétrie d'axe $(d)$ ?` +\n        ajouteChampTexteMathLive(this, i, '') +\n        '<br>'\n      texteCorr +=\n        numAlpha(i) +\n        `L'image de ${texteEnCouleur('la figure', couleurs[i])} $${miseEnEvidence(couples[i][0], couleurs[i])}$ dans la symétrie d'axe $(d)$ est la figure $${miseEnEvidence(couples[i][1])}$.<br>`\n      if (this.correctionDetaillee) {\n        t = this.nbQuestions * 3\n        A = monpavage.barycentres[couples[i][0] - 1]\n        B = monpavage.barycentres[couples[i][1] - 1]\n        P1 = monpavage.polygones[couples[i][0] - 1]\n        P1.color = colorToLatexOrHTML(couleurs[i])\n        P1.couleurDeRemplissage = colorToLatexOrHTML(couleurs[i])\n        P1.opaciteDeRemplissage = 0.5\n        P1.epaisseur = 2\n        P2 = monpavage.polygones[couples[i][1] - 1]\n        P2.color = colorToLatexOrHTML(couleurs[i])\n        P2.couleurDeRemplissage = colorToLatexOrHTML(couleurs[i])\n        P2.opaciteDeRemplissage = 0.5\n        P2.epaisseur = 2\n        objetsCorrection.push(\n          tracePoint(A, B),\n          segment(A, B, couleurs[i]),\n          P1,\n          P2,\n        )\n        if (context.isHtml) {\n          P3 = symetrieAnimee(\n            P1,\n            d,\n            `begin=\"${i * 3}s;${i * 3 + t}s;${i * 3 + t * 2}s\" end=\"${i * 3 + 2}s;${i * 3 + t + 2}s;${i * 3 + t * 2 + 2}s\" dur=\"2s\" repeatCount=\"indefinite\" repeatDur=\"${9 * this.nbQuestions}s\" id=\"poly-${i}-anim\"`,\n          )\n          objetsCorrection.push(P3)\n        }\n        if (A !== B)\n          objetsCorrection.push(codageMediatrice(A, B, couleurs[i], codes[i]))\n      }\n    }\n    if (this.correctionDetaillee) {\n      texteCorr += mathalea2d(fenetre, objets, objetsCorrection, texteGris)\n    }\n    this.listeQuestions.push(texte)\n    this.listeCorrections.push(texteCorr)\n    listeQuestionsToContenu(this)\n  }\n}\n"],"names":["titre","interactifReady","interactifType","dateDePublication","uuid","refs","PavageEtReflexion2d","Exercice","videcouples","tableau","k","j","compare2polys","poly1","poly2","comparenbsommets","comparesommets","compare2sommets","sommet1","sommet2","egal","trouve","trouves","P","M","refleccion","pavage","d","numero","poly","pol","result","sympoly","symetrieAxiale","objets","objetsCorrection","P1","P2","P3","t","codes","taillePavage","Nx","Ny","index1","index2","A","B","image","couples","tailles","monpavage","fenetre","texte","texteCorr","typeDePavage","nombreTentatives","nombrePavageTestes","randint","context","indicesSimilaires","shuffle","i","p","lastChoice","kt","choice","mediatrice","pt1","pt2","pointIntersectionDD","droiteHorizontaleParPoint","point","droiteVerticaleParPoint","Point","latexParCoordonnees","texteNoir","texteGris","texteParPosition","nombreAvecEspace","mathalea2d","couleurs","combinaisonListes","setReponse","numAlpha","ajouteChampTexteMathLive","texteEnCouleur","miseEnEvidence","colorToLatexOrHTML","tracePoint","segment","symetrieAnimee","codageMediatrice","listeQuestionsToContenu"],"mappings":"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"}
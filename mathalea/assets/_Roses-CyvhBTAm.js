var x=Object.defineProperty;var y=(u,l,e)=>l in u?x(u,l,{enumerable:!0,configurable:!0,writable:!0,value:e}):u[l]=e;var a=(u,l,e)=>y(u,typeof l!="symbol"?l+"":l,e);import{E as D,K as h,bV as f,r as v,ao as m,m as d,f as b,b as g,s as V,i as $,P as C,o as I,ci as c}from"./index-DjA7ROjC.js";import{Rose as T}from"./_Rose-CMvwnY4u.js";/* empty css                         */import"./vendors/svelte-DYHmJxok.js";import"./vendors/ua-parser-js-IGXSU7q4.js";import"./vendors/instrumenpoche-CSnohZOK.js";import"./vendors/sesajstools-DShOIGrY.js";import"./vendors/ansi-styles-C5UZWym2.js";import"./vendors/decimal.js-16C9rIKp.js";import"./vendors/katex-DRsvfONx.js";import"./vendors/seedrandom-CNNRxp22.js";import"./vendors/crypto-js-jSnn2346.js";import"./vendors/apigeom-w0ofBCni.js";import"./vendors/mathjs-oaIJR0Fd.js";import"./vendors/babel_runtime-91SaXnVV.js";import"./vendors/javascript-natural-sort-CZcnv-xn.js";import"./vendors/escape-latex-D2RmlMiC.js";import"./vendors/complex.js-CUuq6tox.js";import"./vendors/typed-function-DLw9ktPY.js";import"./vendors/fraction.js-CAdrwJ1J.js";import"./vendors/tiny-emitter-DDQe9_b_.js";import"./vendors/xstate-CiXeYAGM.js";import"./vendors/earcut-jJVragJp.js";import"./vendors/roughjs-GtHDBO_d.js";import"./json/referentielStaticCH-BvJ6T55O.js";import"./json/referentielStaticFR-CRF_Hjtf.js";import"./json/uuidsToUrlFR-BAWSFQnt.js";import"./vendors/cortex-js_compute-engine-CK5Y8453.js";import"./vendors/mathlive-DtHmjDB4.js";import"./vendors/bugsnag_js-CkCWaA3t.js";import"./vendors/bugsnag_browser-d00kmNSm.js";import"./vendors/big-integer-Cu-VsFVy.js";import"./json/codeToLevelList-Cc4cPPvZ.js";import"./json/codeToThemeList-xPVrG8Yb.js";import"./vendors/mixer_postmessage-rpc-Knoq2TfA.js";import"./vendors/eventemitter3-6E4L_h32.js";import"./vendors/scratchblocks-BVGw3YSR.js";import"./json/scratchFr-DbCU7OC2.js";import"./json/refToUuidFR-BGtQQjtA.js";import"./json/refToUuidCH-Dm7pY6Rc.js";import"./vendors/loadjs-BzrfRgSk.js";import"./vendors/svelte-gestures-u4km4ICX.js";import"./vendors/tw-elements-Cl8JxGRl.js";import"./json/uuidsRessources-CtbQ0Y2s.js";import"./json/referentielProfs-Cey1_luL.js";import"./json/referentielBibliotheque-BkZtqQRj.js";import"./vendors/jszip-CxmGZ1c2.js";import"./vendors/jszip-utils-D5kR6ObF.js";import"./vendors/file-saver-FyOmtGcA.js";import"./vendors/copy-image-clipboard-Cf9y-QAU.js";import"./vendors/qrcode-SHonoxyK.js";import"./vendors/dijkstrajs-D_NXgYpA.js";import"./vendors/svelte-french-toast-BHXPj9o3.js";import"./vendors/svelte-writable-derived-Cn90q3ND.js";import"./vendors/brace-BiTXuHwf.js";import"./json/referentielAppsTierce-SxU58PZT.js";import"./vendors/sortablejs-C83syoBY.js";import"./json/carouselContent-BScQaKkw.js";import"./json/levelsThemesList-HiwLnYG4.js";import"./json/levelsThemesListCH-CWlgSx1G.js";import"./json/referentiel2022CH-B8vRIdSG.js";import"./json/referentiel2022FR-Bx-nUux7.js";import"./json/referentielGeometrieDynamique-BJ2PHXsv.js";import"./json/referentielRessources-BU2QQoSD.js";import"./json/referentielsActivation-CpD_hoec.js";import"./outilsMathjs-BiGH55pR.js";import"./vendors/mathsteps-C-ubxiiN.js";const Fe=!0,we="custom",He=!0,Je="AMCOpen";class ze extends D{constructor(){super();a(this,"operation");a(this,"type");a(this,"typeDonnees");a(this,"nombreDeValeurs");a(this,"valeurMax");a(this,"roses");a(this,"clavier");a(this,"indexInconnue");a(this,"correctionInteractive",e=>{const p=this.nombreDeValeurs,s=[],t=document.querySelector(`#resultatCheckEx${this.numeroExercice}Q${e}`),n=[];if(this.type.substring(0,3)==="can")s[0]=document.getElementById(`champTexteEx${this.numeroExercice}Q${e}`),s[0]!=null&&(n[0]=s[0].value.replace(",",".").replace(/\((\+?-?\d+)\)/,"$1"));else{const r=document.querySelector(`math-field#champTexteEx${this.numeroExercice}Q${e}`);for(let o=0;o<p;o++)s[o]=r.getPromptValue(`champ${o+1}`),n[o]=s[o].replace(",",".").replace(/\((\+?-?\d+)\)/,"$1")}let i;return this.saisieCoherente(n,p,e)?(t.innerHTML="üòé",i="OK"):(t.innerHTML="‚òπÔ∏è",i="KO"),i});this.besoinFormulaireNumerique=["Valeur maximale (entre 10 et 30) des facteurs",30],this.besoinFormulaire2Numerique=["Nombre de facteur entre 3 et 9 (limit√© √† 5 pour les valeurs fractionnaires ou litt√©rales)",9],this.besoinFormulaire3Numerique=["Type de questions",4,`1 : Calculer les produits
2 : Calculer les facteurs
3 : Course aux nombres 1
4 : Course aux nombres 2`],this.spacing=2,this.nbQuestions=1,this.sup=10,this.sup2=4,this.sup3=1,this.operation="multiplication",this.type="r√©sultats",this.typeDonnees="entiers",this.nombreDeValeurs=4,this.valeurMax=10,this.roses=[],this.clavier=h.clavierDeBase,this.indexInconnue=[]}nouvelleVersion(){switch(this.valeurMax=f(10,30,this.sup,10),this.nombreDeValeurs=f(3,9,this.sup2,5),this.sup3){case 1:this.type="r√©sultats",(this.typeDonnees.substring(0,4)==="frac"||this.typeDonnees==="litteraux")&&this.nombreDeValeurs>5&&(this.nombreDeValeurs=5);break;case 2:this.type="valeurs";break;case 3:(this.typeDonnees.substring(0,4)==="frac"||this.typeDonnees==="litteraux")&&this.nombreDeValeurs>5&&(this.nombreDeValeurs=5),this.type="can1";break;case 4:this.type="can2",(this.typeDonnees.substring(0,4)==="frac"||this.typeDonnees==="litteraux")&&this.nombreDeValeurs>5&&(this.nombreDeValeurs=5);break}this.typeDonnees==="litteraux"?this.clavier=h.clavierDeBaseAvecVariable:this.typeDonnees.includes("frac")?this.clavier=h.clavierDeBaseAvecFraction:this.clavier=h.clavierDeBase;for(let e=0,p,s,t,n,i=0;e<this.nbQuestions&&i<50;){switch(this.indexInconnue[e]=v(0,this.nombreDeValeurs-1),this.operation==="multiplication"?this.introduction="Les nombres situ√©s √† l'extr√©mit√© des fl√®ches sont les produits des nombres dont les fl√®ches sont issues.":this.introduction="Les nombres situ√©s √† l'extr√©mit√© des fl√®ches sont les sommes des nombres dont les fl√®ches sont issues.",this.type){case"r√©sultats":this.operation==="multiplication"?t="Calculer les produits √† l'extr√©mit√© des fl√®ches.<br>":t="Calculer les sommes √† l'extr√©mit√© des fl√®ches.<br>";break;case"valeurs":this.operation==="multiplication"?t="Retrouver les facteurs √† l'origine des fl√®ches.<br>":t="Retrouver les termes √† l'origine des fl√®ches.<br>";break;case"can1":this.typeDonnees.includes("entiers")?t=`Trouver le nombre de la case ${m(this.indexInconnue[e]+1)}.<br>`:t=`Trouver l'expression de la case ${m(this.indexInconnue[e]+1)}.<br>`;break;case"can2":default:this.typeDonnees.includes("entiers")?t=`Trouver le nombre de la case ${m(this.indexInconnue[e]+1)}.<br>`:t=`Trouver l'expression de la case ${m(this.indexInconnue[e]+1)}.<br>`;break}if(this.roses[e]=new T({nombreDeValeurs:this.nombreDeValeurs,type:this.type,operation:this.operation,valeurMax:this.valeurMax,typeDonnees:this.typeDonnees,indexInconnue:this.indexInconnue[e]}),p=this.roses[e].representation(),this.roses[e].type="solutions",s=this.roses[e].representation(),t+=d(Object.assign({scale:.6},b(p)),p),this.interactif)if(this.type.substring(0,3)==="can")t+=g(this,e,"   "+this.clavier,{texteAvant:`${m(this.indexInconnue[e]+1)}=`});else{let r="";for(let o=0;o<this.nombreDeValeurs;o++)r+=`${m(o+1)}=%{champ${o+1}}${V(3)}`;t+=$(this,e,r,this.clavier,"\\ldots")}n=d(Object.assign({scale:.6},b(s)),s),this.questionJamaisPosee(e,...this.roses[e].values)&&(this.listeQuestions[e]=t,this.listeCorrections[e]=n,C.isAmc&&(this.autoCorrection[e]={enonce:this.introduction+"<br>"+t,propositions:[{texte:"",statut:this.type==="can1"||this.type==="can2"?1:Math.ceil(this.sup2/4),sanscadre:!1}]}),e++),i++}I(this)}saisieCoherente(e,p,s){let t=!0,n=e[0],i;if(this.type==="can2"){i=this.roses[s].typeDonnees.substring(0,4)==="frac"?this.roses[s].resultats[this.indexInconnue[s]].toLatex().replace("dfrac","frac"):this.roses[s].resultats[this.indexInconnue[s]].toString();const r=c.parse(i);return r===null?!1:r.isSame(c.parse(n))}else{if(this.type==="can1")return n=e[0],i=this.roses[s].typeDonnees.substring(0,4)==="frac"?this.roses[s].values[this.indexInconnue[s]].toLatex().replace("dfrac","frac"):this.roses[s].values[this.indexInconnue[s]].toString(),c.parse(n).isSame(c.parse(i));for(let r=0;r<p;r++){n=e[r],this.type==="r√©sultats"?i=this.roses[s].typeDonnees.substring(0,4)==="frac"?this.roses[s].resultats[r].replace("dfrac","frac"):String(this.roses[s].resultats[r]):(i=this.roses[s].typeDonnees.substring(0,4)==="frac"?this.roses[s].resultats[r].replace("dfrac","frac"):String(this.roses[s].resultats[r]),n=this.roses[s].typeDonnees.substring(0,4)==="frac"?`${e[r]}${this.roses[s].operation==="addition"?"+":"\\times "}${e[(r+1)%this.nombreDeValeurs]}`:this.roses[s].operate(e[r],e[(r+1)%this.nombreDeValeurs]));const o=c.parse(n.replace("dfrac","frac"));t=!!(t&&(o!=null&&o.isEqual(c.parse(i)??c.parse("NaN"))))}return t}}}export{He as amcReady,Je as amcType,ze as default,Fe as interactifReady,we as interactifType};
//# sourceMappingURL=_Roses-CyvhBTAm.js.map

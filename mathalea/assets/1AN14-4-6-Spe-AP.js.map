{"version":3,"file":"1AN14-4-6-Spe-AP.js","sources":["../../src/exercices/1e/1AN14-4.ts"],"sourcesContent":["import { KeyboardType } from '../../lib/interactif/claviers/keyboard'\nimport { functionCompare } from '../../lib/interactif/comparisonFunctions'\nimport { handleAnswers } from '../../lib/interactif/gestionInteractif'\nimport { ajouteChampTexteMathLive } from '../../lib/interactif/questionMathLive'\nimport { Polynome } from '../../lib/mathFonctions/Polynome'\nimport { choice, shuffle } from '../../lib/outils/arrayOutils'\nimport { rienSi1 } from '../../lib/outils/ecritures'\nimport { miseEnEvidence } from '../../lib/outils/embellissements'\nimport { gestionnaireFormulaireTexte, randint } from '../../modules/outils'\nimport Exercice from '../Exercice'\nexport const titre = 'Dérivée de $u + v$'\nexport const interactifReady = true\nexport const interactifType = 'mathLive'\nexport const uuid = 'a83c0'\nexport const refs = {\n  'fr-fr': ['1AN14-4'],\n  'fr-ch': ['3mA2-3'],\n}\nexport const dateDePublication = '17/04/2024'\n\n/**\n * Calculer la dérivée d'une somme\n * @author Jean-Claude Lhote\n *\n */\nclass DerivationSommesSimples extends Exercice {\n  constructor() {\n    super()\n    this.besoinFormulaireTexte = [\n      'Types de fonctions',\n      'Nombres séparés par des tirets :\\n1 : polynôme et inverse\\n2 : polynôme et racine carrée\\n3 : inverse et racine carrée\\n4 : les trois réunis\\n5 : Mélange',\n    ]\n    this.sup = '5'\n    this.nbQuestions = 5\n    this.correctionDetailleeDisponible = true\n  }\n\n  nouvelleVersion() {\n    const listeTypeDeQuestion = gestionnaireFormulaireTexte({\n      saisie: this.sup,\n      min: 1,\n      max: 4,\n      defaut: 1,\n      melange: 5,\n      nbQuestions: this.nbQuestions,\n    })\n    for (let i = 0, cpt = 0; i < this.nbQuestions && cpt < 50; ) {\n      const lesFonctions: { fonction: string; derivee: string }[] = []\n      const [a, b, c] = choice([\n        [0, 0, randint(-5, 5, [-1, 0, 1])],\n        [0, randint(-5, 5, [-1, 0, 1]), 0],\n        [0, randint(-5, 5, [-1, 0, 1]), randint(-5, 5, [-1, 0, 1])],\n        [\n          randint(-5, 5, [-1, 0, 1]),\n          randint(-5, 5, [-1, 0, 1]),\n          randint(-5, 5, [-1, 0, 1]),\n        ],\n      ])\n      let df: string\n      switch (Number(listeTypeDeQuestion[i])) {\n        case 2:\n          {\n            const laFonction1 = new Polynome({\n              rand: false,\n              deg: 2,\n              coeffs: [a, b, c],\n            })\n            const k = randint(-5, 5, 0)\n            lesFonctions.push(\n              {\n                fonction: laFonction1.toLatex(),\n                derivee: laFonction1.derivee().toLatex(),\n              },\n              {\n                fonction: `${rienSi1(k)}\\\\sqrt{x}`,\n                derivee: `${k < 0 ? '-' : ''}\\\\dfrac{${String(Math.abs(k))}}{2\\\\sqrt{x}}`,\n              },\n            )\n            df = '\\\\R_+'\n          }\n          break\n        case 3:\n          {\n            const k = randint(-5, 5, 0)\n            const k2 = randint(-5, 5, [0, k])\n            lesFonctions.push(\n              {\n                fonction: `${k < 0 ? '-' : ''}\\\\dfrac{${String(Math.abs(k))}}{x}`,\n                derivee: `${k > 0 ? '-' : ''}\\\\dfrac{${String(Math.abs(k))}}{x^2}`,\n              },\n              {\n                fonction: `${rienSi1(k2)}\\\\sqrt{x}`,\n                derivee: `${k2 < 0 ? '-' : ''}\\\\dfrac{${String(Math.abs(k2))}}{2\\\\sqrt{x}}`,\n              },\n            )\n            df = '\\\\R_+^{*}'\n          }\n          break\n        case 4:\n          {\n            const laFonction1 = new Polynome({\n              rand: false,\n              deg: 2,\n              coeffs: [a, b, c],\n            })\n            const k = randint(-5, 5, 0)\n            const k2 = randint(-5, 5, [0, k])\n            lesFonctions.push(\n              {\n                fonction: laFonction1.toLatex(),\n                derivee: laFonction1.derivee().toLatex(),\n              },\n              {\n                fonction: `${k < 0 ? '-' : ''}\\\\dfrac{${String(Math.abs(k))}}{x}`,\n                derivee: `${k > 0 ? '-' : ''}\\\\dfrac{${String(Math.abs(k))}}{x^2}`,\n              },\n              {\n                fonction: `${rienSi1(k2)}\\\\sqrt{x}`,\n                derivee: `${k2 < 0 ? '-' : ''}\\\\dfrac{${String(Math.abs(k2))}}{2\\\\sqrt{x}}`,\n              },\n            )\n            df = '\\\\R_+^{*}'\n          }\n          break\n        case 1:\n        default:\n          {\n            const laFonction1 = new Polynome({ rand: false, coeffs: [a, b, c] })\n            const k = randint(-9, 9, 0)\n            lesFonctions.push(\n              {\n                fonction: laFonction1.toLatex(),\n                derivee: laFonction1.derivee().toLatex(),\n              },\n              {\n                fonction: `${k < 0 ? '-' : ''}\\\\dfrac{${String(Math.abs(k))}}{x}`,\n                derivee: `${k > 0 ? '-' : ''}\\\\dfrac{${String(Math.abs(k))}}{x^2}`,\n              },\n            )\n            df = '\\\\R^{*}'\n          }\n          break\n      }\n      const fonctionsMelangees = shuffle(lesFonctions)\n      let laFonction = ''\n      for (const f of fonctionsMelangees) {\n        if (f.fonction.startsWith('+')) f.fonction = f.fonction.substring(1)\n        if (!f.fonction.startsWith('-')) {\n          if (laFonction !== '') laFonction += '+'\n        }\n        laFonction += f.fonction\n      }\n      let laDerivee = ''\n      for (const f of fonctionsMelangees) {\n        if (f.derivee.startsWith('+')) f.derivee = f.derivee.substring(1)\n        if (!f.derivee.startsWith('-')) {\n          if (laDerivee !== '') laDerivee += '+'\n        }\n        laDerivee += f.derivee\n      }\n      const texte =\n        `Donner l'expression de la dérivée de la fonction $f$ définie sur $${df}$ par $f(x)=${laFonction}$.<br>` +\n        ajouteChampTexteMathLive(\n          this,\n          i,\n          `${KeyboardType.clavierDeBaseAvecX} ${KeyboardType.clavierFullOperations}`,\n          { texteAvant: \"$f'(x)=$\" },\n        )\n      let texteCorr = ''\n      if (this.correctionDetaillee) {\n        for (const f of fonctionsMelangees) {\n          texteCorr += `$(${f.fonction})^\\\\prime=${f.derivee}$<br>`\n        }\n      }\n      texteCorr += `L'expression de la dérivée de la fonction $f$ définie par $f(x)=${laFonction}$ est :<br>`\n      texteCorr += `$f'(x)=${miseEnEvidence(laDerivee)}$.<br>`\n\n      if (this.questionJamaisPosee(i, laFonction)) {\n        this.listeQuestions[i] = texte\n        this.listeCorrections[i] = texteCorr\n\n        handleAnswers(this, i, {\n          reponse: {\n            value: laDerivee,\n            options: { variable: 'x' },\n            compare: functionCompare,\n          },\n        })\n        i++\n        cpt--\n      }\n      cpt++\n    }\n  }\n}\n\nexport default DerivationSommesSimples\n"],"names":["titre","interactifReady","interactifType","uuid","refs","dateDePublication","DerivationSommesSimples","Exercice","listeTypeDeQuestion","gestionnaireFormulaireTexte","i","cpt","lesFonctions","a","b","c","choice","randint","df","laFonction1","Polynome","k","rienSi1","k2","fonctionsMelangees","shuffle","laFonction","f","laDerivee","texte","ajouteChampTexteMathLive","KeyboardType","texteCorr","miseEnEvidence","handleAnswers","functionCompare"],"mappings":"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"}
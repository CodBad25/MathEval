{"version":3,"file":"1AN14-5-OslU3fir.js","sources":["../../src/exercices/1e/1AN14-5.ts"],"sourcesContent":["import engine, {\n  functionCompare,\n} from '../../lib/interactif/comparisonFunctions'\nimport { handleAnswers } from '../../lib/interactif/gestionInteractif'\nimport { ajouteChampTexteMathLive } from '../../lib/interactif/questionMathLive'\nimport { Polynome } from '../../lib/mathFonctions/Polynome'\nimport { ecritureAlgebrique, rienSi1 } from '../../lib/outils/ecritures'\nimport { signe } from '../../lib/outils/nombres'\nimport {\n  gestionnaireFormulaireTexte,\n  listeQuestionsToContenu,\n  randint,\n} from '../../modules/outils'\nimport Exercice from '../Exercice'\n\nexport const titre = 'Dérivée de $u\\\\times v$'\nexport const dateDePublication = '22/01/2022'\nexport const dateDeModifImportante = '06/05/2024'\nexport const interactifReady = true\nexport const interactifType = 'mathLive'\n\n/**\n * Calculer la dérivée d'un produit\n * @author Jean-Léon Henry modifié par Rémi Angot (choix des fonctions + parenthèses)\n * mise en jour par Jean-Claude Lhote à la demande des collègues de lycée (notations + paramétrage + quelques améliorations esthétiques)\n\n */\n\nexport const uuid = '1a60f'\nexport const refs = {\n  'fr-fr': ['1AN14-5'],\n  'fr-ch': ['3mA2-8'],\n}\n\ntype TypeDeProduit =\n  | 'monome2/poly1'\n  | 'inv/poly1'\n  | 'racine/poly'\n  | 'racine/poly2centre'\n  | 'monome2/racine'\n  | 'exp/poly'\n  | 'exp/poly2centre'\ntype TypeDeFonction =\n  | 'monome2'\n  | 'inv'\n  | 'racine'\n  | 'poly1'\n  | 'poly2centre'\n  | 'poly'\n  | 'exp'\n\nexport default class DeriveeProduit extends Exercice {\n  constructor() {\n    super()\n    this.besoinFormulaireTexte = [\n      'Types de fonctions :',\n      'Nombres séparés par des tirets :\\n1 Monôme2 et affine\\n2 : Inverse et affine\\n3 : Racine et polynôme\\n4 : Racine et polynôme degré 2 sans degré 1\\n5 : Monôme2 et racine\\n6 : Mélange',\n    ]\n\n    this.consigne =\n      \"Pour chacune des fonctions suivantes, déterminer l'expression de sa fonction dérivée.\"\n    this.nbQuestions = 3\n    // Sortie LaTeX\n    this.nbCols = 2 // Nombre de colonnes\n    this.nbColsCorr = 2 // Nombre de colonnes dans la correction\n    this.sup = '6'\n    // On modifie les règles de simplifications par défaut de math.js pour éviter 10x+10 = 10(x+1) et -4x=(-4x)\n    // const reglesDeSimplifications = math.simplify.rules.slice()\n    // reglesDeSimplifications.splice(reglesDeSimplifications.findIndex(rule => rule.l === 'n1*n2 + n2'), 1)\n    // reglesDeSimplifications.splice(reglesDeSimplifications.findIndex(rule => rule.l === 'n1*n3 + n2*n3'), 1)\n    // reglesDeSimplifications.push({ l: '-(n1*v)', r: '-n1*v' })\n    // reglesDeSimplifications.push('-(n1/n2) -> -n1/n2')\n  }\n\n  nouvelleVersion() {\n    const listeValeurs = [] // Les questions sont différentes du fait du nom de la fonction, donc on stocke les valeurs\n\n    // Types d'énoncés\n    // const listeTypeDeQuestionsDisponibles = ['monome2/poly1', 'inv/poly1']\n    // if (this.sup === 2) {\n    //   listeTypeDeQuestionsDisponibles.push('racine/poly', 'racine/poly2centre', 'monome2/racine')\n    //   if (this.sup2) {\n    //     listeTypeDeQuestionsDisponibles.push('exp/poly', 'exp/poly2centre')\n    //   }\n    const listeTypeDeQuestions = gestionnaireFormulaireTexte({\n      saisie: this.sup,\n      nbQuestions: this.nbQuestions,\n      listeOfCase: [\n        'monome2/poly1',\n        'inv/poly1',\n        'racine/poly',\n        'racine/poly2centre',\n        'monome2/racine',\n      ],\n      min: 1,\n      max: 5,\n      melange: 6,\n      defaut: 1,\n    }).map(String) as TypeDeProduit[]\n    for (\n      let i = 0,\n        texte,\n        texteCorr,\n        terme1,\n        terme2,\n        expression,\n        askFacto,\n        askFormule,\n        askQuotient,\n        ensembleDerivation,\n        namef,\n        cpt = 0;\n      i < this.nbQuestions && cpt < 50;\n\n    ) {\n      // On commence par générer des fonctions qui pourrait servir\n      const dictFonctions = {\n        exp: 'e^x',\n        racine: '\\\\sqrt{x}',\n        inv: '1/x',\n        poly1: new Polynome({ rand: true, deg: 1 }),\n        poly2centre: new Polynome({\n          rand: true,\n          coeffs: [[10, true], 0, [10, true]],\n        }),\n        monome2: new Polynome({ rand: true, coeffs: [0, 0, [10, true]] }),\n        poly: new Polynome({ rand: true, deg: randint(1, 2) }),\n      }\n      const listeTypeFonctions = listeTypeDeQuestions[i].split(\n        '/',\n      ) as TypeDeFonction[]\n      // On précise les énoncés\n      askFacto = listeTypeFonctions.includes('exp')\n      askFormule = listeTypeFonctions.includes('poly1')\n      askQuotient = listeTypeFonctions.includes('inv')\n      // On randomise l'ordre des termes, sauf pour l'inverse et un monome devant une racine/une affine\n      let f1 = 0\n      let f2 = 1\n      if (\n        !['monome2/racine', 'monome2/poly1', 'inv/poly1'].includes(\n          listeTypeDeQuestions[i],\n        )\n      ) {\n        f1 = randint(0, 1)\n        f2 = 1 - f1\n      }\n      const typef1: TypeDeFonction = listeTypeFonctions[f1]\n      const typef2: TypeDeFonction = listeTypeFonctions[f2]\n      // On gère les parenthèses autour des fonctions spéciales\n      const noPar = (type: string) =>\n        ['monome2', 'racine', 'exp', 'inv'].includes(type)\n      const parenth = (expr: string, type: string) =>\n        noPar(type) ? expr : `(${expr})`\n      // On crée les expressions des fonctions : les polynômes dans dictFonctions ne sont pas des chaînes\n      const exprf1 = ['poly', 'mono'].includes(typef1.substring(0, 4))\n        ? (dictFonctions[typef1] as Polynome).toMathExpr()\n        : (dictFonctions[typef1] as string)\n      const exprf2 = ['poly', 'mono'].includes(typef2.substring(0, 4))\n        ? (dictFonctions[typef2] as Polynome).toMathExpr()\n        : (dictFonctions[typef2] as string)\n      terme1 = parenth(exprf1, typef1)\n      terme2 = parenth(exprf2, typef2)\n      // Expression finale de la fonction\n      expression = `${terme1}*${terme2}`\n      // Ensemble de dérivation\n      ensembleDerivation = listeTypeFonctions.includes('racine')\n        ? '\\\\mathbb{R}_+^*'\n        : '\\\\mathbb{R}'\n      ensembleDerivation = listeTypeFonctions.includes('inv')\n        ? '\\\\mathbb{R}^*'\n        : ensembleDerivation\n\n      // Enoncé\n      namef = [\n        'f',\n        'g',\n        'h',\n        'l',\n        'm',\n        'p',\n        'r',\n        's',\n        't',\n        'u',\n        'v',\n        'w',\n        'b',\n        'c',\n        'd',\n        'e',\n      ][i % 16]\n      texte = askFacto\n        ? 'Dans cette question, on demande la réponse sous forme factorisée.<br>'\n        : ''\n      texte = askFormule\n        ? `Dans cette question, on demande d'utiliser la formule de dérivation d'un produit${\n            askQuotient\n              ? \" et de mettre le résultat sous forme d'un quotient.\"\n              : '.'\n          }<br>`\n        : texte\n      texte += `$${namef}(x)=${engine.parse(expression).latex}$`\n      // Correction\n      texteCorr = `$${namef}$ est dérivable sur $${ensembleDerivation}$. Soit $x\\\\in${ensembleDerivation}$.<br>`\n      texteCorr +=\n        'On rappelle le cours : si $u,v$ sont  deux fonctions dérivables sur un même intervalle $I$ alors leur produit est dérivable sur $I$ et on a la formule : '\n      texteCorr += \"\\\\[(u\\\\times v)'=u'\\\\times v+u\\\\times v'.\\\\]\"\n      texteCorr += `Ici $${namef}=u\\\\times v$ avec : `\n      texteCorr += `\\\\[\\\\begin{aligned}u(x)&=${engine.parse(exprf1).latex}\\\\\\\\ v(x)&=${engine.parse(exprf2).latex}.\\\\end{aligned}\\\\]`\n      switch (listeTypeDeQuestions[i]) {\n        case 'inv/poly1': {\n          const b = (dictFonctions[typef2] as Polynome).monomes[0] // coeffs du poly1\n          const a = (dictFonctions[typef2] as Polynome).monomes[1] // coeffs du poly1\n          const f2 = dictFonctions[typef2] as Polynome\n          // Début correction\n          texteCorr += 'On utilise la formule rappelée plus haut et on a : '\n          texteCorr += `\\\\[${namef}'(x)=\\\\underbrace{-\\\\frac{1}{x^2}}_{u'(x)}\\\\times${engine.parse(terme2).latex}+\\\\frac{1}{x}\\\\times\\\\underbrace{${Number(a) > 0 ? a : `(${a})`}}_{v'(x)}.\\\\]`\n          texteCorr += `Ce qui donne, en simplifiant : \\\\[${namef}'(x)=\\\\frac{${f2.multiply(-1)}}{x^2}+\\\\frac{${a}}{x}.\\\\]`\n          texteCorr += 'On additionne les deux fractions pour obtenir : '\n          texteCorr += `\\\\[${namef}'(x)=\\\\frac{${f2.multiply(-1)}}{x^2}+\\\\frac{${Polynome.print([0, Number(a)])}}{x^2}=\\\\frac{${f2.multiply(-1)}${Polynome.print([0, Number(a)], true)}}{x^2}.\\\\]`\n          texteCorr += 'Des termes se simplifient au numérateur et on a : '\n          texteCorr += `\\\\[${namef}'(x)=\\\\frac{${Polynome.print([-b])}}{x^2}.\\\\]`\n          // Remarque sur la méthode alternative\n          const fExpand = engine.parse(`${a}${ecritureAlgebrique(b)}/x`).latex\n          texteCorr += `Remarque : on pourrait bien entendu développer avant de dériver.<br>Dans ce cas, $${namef}(x)=${fExpand}$.<br>`\n          const maReponse = engine\n            .box(['D', engine.parse(fExpand), 'x'])\n            .evaluate().latex\n          texteCorr += `Et donc $${namef}'(x)=${maReponse}$. Ce qui est bien cohérent avec le résultat trouvé plus haut.`\n          // Sans le replace { x} est mal interprété par le parser de mathLive\n          handleAnswers(this, i, {\n            reponse: { value: maReponse, compare: functionCompare },\n          })\n          break\n        }\n        case 'monome2/poly1': {\n          const mon2 = dictFonctions[typef1] as Polynome\n          const poly1 = dictFonctions[typef2] as Polynome\n          const a = poly1.monomes[1]\n          const polExpand = mon2.multiply(poly1)\n          // Début correction\n          texteCorr += `On utilise la formule rappelée plus haut et on a  \\\\[${namef}'(x)=\\\\underbrace{${mon2.derivee()}}_{u'(x)}\\\\times(${exprf2})+(${mon2.toMathExpr()})\\\\times\\\\underbrace{${Number(a) > 0 ? a.toString() : `(${a})`}}_{v'(x)}.\\\\]`\n          texteCorr += `On développe pour obtenir : \\\\[${namef}'(x)=${mon2.derivee().multiply(poly1)}${mon2.multiply(a).toMathExpr(true)}.\\\\]`\n          texteCorr += `Puis, en regroupant les termes de même degré : \\\\[${namef}'(x)=${polExpand.derivee()}.\\\\]`\n          // Remarque sur la méthode alternative\n          texteCorr += `Remarque : on pourrait bien entendu développer avant de dériver.<br>Dans ce cas, $${namef}(x)=${polExpand}$.<br>`\n          texteCorr += `Et donc $${namef}'(x)=${polExpand.derivee()}$. Ce qui est bien cohérent avec le résultat trouvé plus haut.`\n          handleAnswers(this, i, {\n            reponse: {\n              value: polExpand.derivee().toString(),\n              compare: functionCompare,\n            },\n          })\n          break\n        }\n        case 'monome2/racine': {\n          const mon2 = dictFonctions[typef1] as Polynome\n          const m = Number(mon2.monomes[2]) // coeff du monome2\n          texteCorr += 'On applique la  formule rappellée plus haut : '\n          texteCorr += `\\\\[${namef}'(x)=\\\\underbrace{${mon2.derivee()}}_{u'(x)}\\\\times\\\\sqrt{x}+(${mon2.toMathExpr()})\\\\times\\\\underbrace{\\\\frac{1}{2\\\\sqrt{x}}}_{v'(x)}.\\\\]`\n          texteCorr += \"On peut réduire un peu l'expression : \"\n          texteCorr += `\\\\[${namef}'(x)=${rienSi1(2 * m)}x\\\\sqrt{x}${signe(m)}` // attention l'équation finit ligne suivante\n          if (m % 2 !== 0) {\n            texteCorr += `\\\\frac{${rienSi1(Math.abs(m))}x^2}{2\\\\sqrt{x}}.\\\\]`\n            handleAnswers(this, i, {\n              reponse: {\n                value: `${rienSi1(2 * m)}x\\\\sqrt{x}${signe(m)}\\\\frac{${rienSi1(Math.abs(m))}x^2}{2\\\\sqrt{x}}`,\n                compare: functionCompare,\n              },\n            })\n            // Réponse réduite à ajouter\n          } else {\n            texteCorr += `\\\\frac{${Polynome.print([0, 0, Math.abs(m / 2)])}}{\\\\sqrt{x}}.\\\\]`\n            handleAnswers(this, i, {\n              reponse: {\n                value: `${rienSi1(2 * m)}x\\\\sqrt{x}${signe(m)}\\\\frac{${Polynome.print([0, 0, Math.abs(m / 2)])}}{\\\\sqrt{x}}`,\n                compare: functionCompare,\n              },\n            })\n            // Réponse réduite à ajouter\n          }\n          break\n        }\n        case 'racine/poly2centre': // traité ci-après\n        case 'racine/poly': {\n          const racineGauche = typef1 === 'racine'\n          const poly =\n            listeTypeDeQuestions[i] === 'racine/poly2centre'\n              ? dictFonctions.poly2centre\n              : dictFonctions.poly\n          const derivee = poly.derivee()\n          const tex = derivee.toLatex()\n          const neg = tex.startsWith('-')\n          // 1ère étape : application de la formule\n          let intermediaire\n          if (racineGauche)\n            intermediaire = `\\\\underbrace{\\\\frac{1}{2\\\\sqrt{x}}}_{u'(x)}\\\\times(${poly})+\\\\sqrt{x}\\\\times\\\\underbrace{(${derivee})}_{v'(x)}`\n          else\n            intermediaire = `\\\\underbrace{${derivee.isMon() ? derivee.toLatex() : '(' + derivee.toLatex() + ')'}}_{u'(x)}\\\\times\\\\sqrt{x}+(${poly})\\\\times\\\\underbrace{\\\\frac{1}{2\\\\sqrt{x}}}_{v'(x)}`\n          texteCorr += `On utilise la formule rappelée plus haut et on a \\\\[${namef}'(x)=${intermediaire}.\\\\]`\n          // 2ème étape : simplification\n          let interm2\n          if (racineGauche) {\n            interm2 = `\\\\frac{${poly}}{2\\\\sqrt{x}}${\n              derivee.isMon()\n                ? neg\n                  ? tex\n                  : '+' + tex\n                : '+' + `(${derivee.toLatex()})`\n            }\\\\sqrt{x}`\n          } else\n            interm2 = `${derivee.isMon() ? `${derivee.toLatex()}` : `(${derivee.toLatex()})`}\\\\sqrt{x}+\\\\frac{${poly}}{2\\\\sqrt{x}}`\n          texteCorr +=\n            \"L'énoncé ne demandant rien de plus, on se contente de simplifier l'expression :\"\n          texteCorr += `\\\\[${namef}'(x)=${interm2}\\\\]`\n          handleAnswers(this, i, {\n            reponse: { value: interm2, compare: functionCompare },\n          })\n          break\n        }\n        case 'exp/poly': // traité ci-après\n        case 'exp/poly2centre':\n          {\n            const expGauche = typef1 === 'exp'\n            const poly =\n              listeTypeDeQuestions[i] === 'exp/poly2centre'\n                ? dictFonctions.poly2centre\n                : dictFonctions.poly\n            const derivee = poly.derivee()\n            // 1ère étape : application de la formule\n            let intermediaire\n            if (expGauche)\n              intermediaire = `\\\\underbrace{e^x}_{u'(x)}\\\\times(${poly})+e^x\\\\times\\\\underbrace{(${derivee})}_{v'(x)}`\n            else\n              intermediaire = `\\\\underbrace{${derivee.isMon() ? `${derivee.toLatex()}` : `(${derivee.toLatex()})`}}_{u'(x)}\\\\times e^x+(${poly})\\\\times\\\\underbrace{e^x}_{v'(x)}`\n            texteCorr += `On utilise la formule rappelée plus haut et on a \\\\[${namef}'(x)=${intermediaire}.\\\\]`\n            // 2ème étape : Factorisation\n            const interm2 = `(${poly.add(derivee).toLatex()})`\n            const termeGauche = expGauche ? 'e^x' : interm2\n            const termeDroite = expGauche ? interm2 : 'e^x'\n            texteCorr += \"Comme demandé, on factorise l'expression par $e^x$ : \"\n            texteCorr += `\\\\[${namef}'(x)=${termeGauche}${termeDroite}\\\\]`\n            handleAnswers(this, i, {\n              reponse: {\n                value: `${termeGauche}${termeDroite}`,\n                compare: functionCompare,\n              },\n            })\n            // 3e étape : Simplification si nécessaire\n            const interm2Simp = `(${poly.add(derivee)})`\n            const termeGauche2 = expGauche ? 'e^x' : interm2Simp\n            const termeDroite2 = expGauche ? interm2Simp : 'e^x'\n            if (\n              `${termeGauche2}${termeDroite2}` !==\n              `${termeGauche}${termeDroite}`\n            ) {\n              texteCorr +=\n                \"On peut réduire ou réordonner l'expression entre parenthèses : \"\n              texteCorr += `\\\\[${namef}'(x)=${termeGauche2}${termeDroite2}\\\\]`\n              handleAnswers(this, i, {\n                reponse: {\n                  value: `${termeGauche2}${termeDroite2}`,\n                  compare: functionCompare,\n                },\n              })\n            }\n          }\n          break\n        default:\n          texteCorr += 'Correction non encore implémentée.'\n          break\n      }\n      texte = texte.replaceAll('\\\\frac', '\\\\dfrac')\n      texteCorr = texteCorr.replaceAll('\\\\frac', '\\\\dfrac')\n      if (this.interactif) {\n        texte +=\n          '<br><br>' +\n          ajouteChampTexteMathLive(this, i, '', {\n            texteAvant: `$${namef}'(x)=$`,\n          })\n      }\n\n      if (listeValeurs.indexOf(expression) === -1) {\n        listeValeurs.push(expression)\n        this.listeQuestions[i] = texte\n        this.listeCorrections[i] = texteCorr\n        i++\n      }\n      cpt++\n    }\n    listeQuestionsToContenu(this)\n  }\n}\n"],"names":["titre","dateDePublication","dateDeModifImportante","interactifReady","interactifType","uuid","refs","DeriveeProduit","Exercice","listeValeurs","listeTypeDeQuestions","gestionnaireFormulaireTexte","i","texte","texteCorr","terme1","terme2","expression","askFacto","askFormule","askQuotient","ensembleDerivation","namef","cpt","dictFonctions","Polynome","randint","listeTypeFonctions","f1","f2","typef1","typef2","noPar","type","parenth","expr","exprf1","exprf2","engine","b","a","fExpand","ecritureAlgebrique","maReponse","handleAnswers","functionCompare","mon2","poly1","polExpand","m","rienSi1","signe","racineGauche","poly","derivee","tex","neg","intermediaire","interm2","expGauche","termeGauche","termeDroite","interm2Simp","termeGauche2","termeDroite2","ajouteChampTexteMathLive","listeQuestionsToContenu"],"mappings":"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"}
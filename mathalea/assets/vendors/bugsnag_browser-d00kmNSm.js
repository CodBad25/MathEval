var rt={exports:{}};(function(nt,Sr){(function(A){nt.exports=A()})(function(){var A=["navigation","request","process","log","user","state","error","manual"],x=function(e,t,n){for(var r=n,a=0,i=e.length;a<i;a++)r=t(r,e[a],a,e);return r},S=function(e,t){return x(e,function(n,r,a,i){return t(r,a,i)?n.concat(r):n},[])},T=function(e,t){return x(e,function(n,r,a,i){return n===!0||r===t},!1)},B=function(e){return Object.prototype.toString.call(e)==="[object Array]"},at=!{toString:null}.propertyIsEnumerable("toString"),Y=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],w=function(e){var t=[],n;for(n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);if(!at)return t;for(var r=0,a=Y.length;r<a;r++)Object.prototype.hasOwnProperty.call(e,Y[r])&&t.push(Y[r]);return t},me=function(e,t){return e===void 0&&(e=1),function(n){return typeof n=="number"&&parseInt(""+n,10)===n&&n>=e&&n<=t}},Q=function(e){return typeof e=="function"||B(e)&&S(e,function(t){return typeof t=="function"}).length===e.length},F=function(e){return typeof e=="string"&&!!e.length},V={},ye=function(){return{unhandledExceptions:!0,unhandledRejections:!0}};V.schema={apiKey:{defaultValue:function(){return null},message:"is required",validate:F},appVersion:{defaultValue:function(){},message:"should be a string",validate:function(e){return e===void 0||F(e)}},appType:{defaultValue:function(){},message:"should be a string",validate:function(e){return e===void 0||F(e)}},autoDetectErrors:{defaultValue:function(){return!0},message:"should be true|false",validate:function(e){return e===!0||e===!1}},enabledErrorTypes:{defaultValue:function(){return ye()},message:"should be an object containing the flags { unhandledExceptions:true|false, unhandledRejections:true|false }",allowPartialObject:!0,validate:function(e){if(typeof e!="object"||!e)return!1;var t=w(e),n=w(ye());return!(S(t,function(r){return T(n,r)}).length<t.length||S(w(e),function(r){return typeof e[r]!="boolean"}).length>0)}},onError:{defaultValue:function(){return[]},message:"should be a function or array of functions",validate:Q},onSession:{defaultValue:function(){return[]},message:"should be a function or array of functions",validate:Q},onBreadcrumb:{defaultValue:function(){return[]},message:"should be a function or array of functions",validate:Q},endpoints:{defaultValue:function(){return{notify:"https://notify.bugsnag.com",sessions:"https://sessions.bugsnag.com"}},message:"should be an object containing endpoint URLs { notify, sessions }",validate:function(e){return e&&typeof e=="object"&&F(e.notify)&&F(e.sessions)&&S(w(e),function(t){return!T(["notify","sessions"],t)}).length===0}},autoTrackSessions:{defaultValue:function(e){return!0},message:"should be true|false",validate:function(e){return e===!0||e===!1}},enabledReleaseStages:{defaultValue:function(){return null},message:"should be an array of strings",validate:function(e){return e===null||B(e)&&S(e,function(t){return typeof t=="string"}).length===e.length}},releaseStage:{defaultValue:function(){return"production"},message:"should be a string",validate:function(e){return typeof e=="string"&&e.length}},maxBreadcrumbs:{defaultValue:function(){return 25},message:"should be a number ≤100",validate:function(e){return me(0,100)(e)}},enabledBreadcrumbTypes:{defaultValue:function(){return A},message:"should be null or a list of available breadcrumb types ("+A.join(",")+")",validate:function(e){return e===null||B(e)&&x(e,function(t,n){return t===!1?t:T(A,n)},!0)}},context:{defaultValue:function(){},message:"should be a string",validate:function(e){return e===void 0||typeof e=="string"}},user:{defaultValue:function(){return{}},message:"should be an object with { id, email, name } properties",validate:function(e){return e===null||e&&x(w(e),function(t,n){return t&&T(["id","email","name"],n)},!0)}},metadata:{defaultValue:function(){return{}},message:"should be an object",validate:function(e){return typeof e=="object"&&e!==null}},logger:{defaultValue:function(){},message:"should be null or an object with methods { debug, info, warn, error }",validate:function(e){return!e||e&&x(["debug","info","warn","error"],function(t,n){return t&&typeof e[n]=="function"},!0)}},redactedKeys:{defaultValue:function(){return["password"]},message:"should be an array of strings|regexes",validate:function(e){return B(e)&&e.length===S(e,function(t){return typeof t=="string"||t&&typeof t.test=="function"}).length}},plugins:{defaultValue:function(){return[]},message:"should be an array of plugin objects",validate:function(e){return B(e)&&e.length===S(e,function(t){return t&&typeof t=="object"&&typeof t.load=="function"}).length}},featureFlags:{defaultValue:function(){return[]},message:'should be an array of objects that have a "name" property',validate:function(e){return B(e)&&e.length===S(e,function(t){return t&&typeof t=="object"&&typeof t.name=="string"}).length}}};var m=function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$=function(e,t){return x(e,function(n,r,a,i){return n.concat(t(r,a,i))},[])};function Z(){return Z=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Z.apply(this,arguments)}var ee=V.schema,it={releaseStage:m({},ee.releaseStage,{defaultValue:function(){return/^localhost(:\d+)?$/.test(window.location.host)?"development":"production"}}),appType:Z({},ee.appType,{defaultValue:function(){return"browser"}}),logger:m({},ee.logger,{defaultValue:function(){return typeof console<"u"&&typeof console.debug=="function"?ot():void 0}})},ot=function(){var e={},t=console.log;return $(["debug","info","warn","error"],function(n){var r=console[n];e[n]=typeof r=="function"?r.bind(console,"[bugsnag]"):t.bind(console,"[bugsnag]")}),e},st=function(){function e(n,r,a,i){i===void 0&&(i=new Date),this.type=a,this.message=n,this.metadata=r,this.timestamp=i}var t=e.prototype;return t.toJSON=function(){return{type:this.type,name:this.message,timestamp:this.timestamp,metaData:this.metadata}},e}(),te=st,q={};(function(e,t){typeof q=="object"?q=t():e.StackFrame=t()})(this,function(){function e(c){return!isNaN(parseFloat(c))&&isFinite(c)}function t(c){return c.charAt(0).toUpperCase()+c.substring(1)}function n(c){return function(){return this[c]}}var r=["isConstructor","isEval","isNative","isToplevel"],a=["columnNumber","lineNumber"],i=["fileName","functionName","source"],o=["args"],u=r.concat(a,i,o);function s(c){if(c instanceof Object)for(var h=0;h<u.length;h++)c.hasOwnProperty(u[h])&&c[u[h]]!==void 0&&this["set"+t(u[h])](c[u[h]])}s.prototype={getArgs:function(){return this.args},setArgs:function(c){if(Object.prototype.toString.call(c)!=="[object Array]")throw new TypeError("Args must be an Array");this.args=c},getEvalOrigin:function(){return this.evalOrigin},setEvalOrigin:function(c){if(c instanceof s)this.evalOrigin=c;else if(c instanceof Object)this.evalOrigin=new s(c);else throw new TypeError("Eval Origin must be an Object or StackFrame")},toString:function(){var c=this.getFunctionName()||"{anonymous}",h="("+(this.getArgs()||[]).join(",")+")",_=this.getFileName()?"@"+this.getFileName():"",v=e(this.getLineNumber())?":"+this.getLineNumber():"",g=e(this.getColumnNumber())?":"+this.getColumnNumber():"";return c+h+_+v+g}};for(var d=0;d<r.length;d++)s.prototype["get"+t(r[d])]=n(r[d]),s.prototype["set"+t(r[d])]=function(c){return function(h){this[c]=!!h}}(r[d]);for(var f=0;f<a.length;f++)s.prototype["get"+t(a[f])]=n(a[f]),s.prototype["set"+t(a[f])]=function(c){return function(h){if(!e(h))throw new TypeError(c+" must be a Number");this[c]=Number(h)}}(a[f]);for(var l=0;l<i.length;l++)s.prototype["get"+t(i[l])]=n(i[l]),s.prototype["set"+t(i[l])]=function(c){return function(h){this[c]=String(h)}}(i[l]);return s});var re={};(function(e,t){typeof re=="object"?re=t(q):e.ErrorStackParser=t(e.StackFrame)})(this,function(t){var n=/(^|@)\S+\:\d+/,r=/^\s*at .*(\S+\:\d+|\(native\))/m,a=/^(eval@)?(\[native code\])?$/;return{parse:function(o){if(typeof o.stacktrace<"u"||typeof o["opera#sourceloc"]<"u")return this.parseOpera(o);if(o.stack&&o.stack.match(r))return this.parseV8OrIE(o);if(o.stack)return this.parseFFOrSafari(o);throw new Error("Cannot parse given Error object")},extractLocation:function(o){if(o.indexOf(":")===-1)return[o];var u=/(.+?)(?:\:(\d+))?(?:\:(\d+))?$/,s=u.exec(o.replace(/[\(\)]/g,""));return[s[1],s[2]||void 0,s[3]||void 0]},parseV8OrIE:function(o){var u=o.stack.split(`
`).filter(function(s){return!!s.match(r)},this);return u.map(function(s){s.indexOf("(eval ")>-1&&(s=s.replace(/eval code/g,"eval").replace(/(\(eval at [^\()]*)|(\)\,.*$)/g,""));var d=s.replace(/^\s+/,"").replace(/\(eval code/g,"("),f=d.match(/ (\((.+):(\d+):(\d+)\)$)/);d=f?d.replace(f[0],""):d;var l=d.split(/\s+/).slice(1),c=this.extractLocation(f?f[1]:l.pop()),h=l.join(" ")||void 0,_=["eval","<anonymous>"].indexOf(c[0])>-1?void 0:c[0];return new t({functionName:h,fileName:_,lineNumber:c[1],columnNumber:c[2],source:s})},this)},parseFFOrSafari:function(o){var u=o.stack.split(`
`).filter(function(s){return!s.match(a)},this);return u.map(function(s){if(s.indexOf(" > eval")>-1&&(s=s.replace(/ line (\d+)(?: > eval line \d+)* > eval\:\d+\:\d+/g,":$1")),s.indexOf("@")===-1&&s.indexOf(":")===-1)return new t({functionName:s});var d=/((.*".+"[^@]*)?[^@]*)(?:@)/,f=s.match(d),l=f&&f[1]?f[1]:void 0,c=this.extractLocation(s.replace(d,""));return new t({functionName:l,fileName:c[0],lineNumber:c[1],columnNumber:c[2],source:s})},this)},parseOpera:function(o){return!o.stacktrace||o.message.indexOf(`
`)>-1&&o.message.split(`
`).length>o.stacktrace.split(`
`).length?this.parseOpera9(o):o.stack?this.parseOpera11(o):this.parseOpera10(o)},parseOpera9:function(o){for(var u=/Line (\d+).*script (?:in )?(\S+)/i,s=o.message.split(`
`),d=[],f=2,l=s.length;f<l;f+=2){var c=u.exec(s[f]);c&&d.push(new t({fileName:c[2],lineNumber:c[1],source:s[f]}))}return d},parseOpera10:function(o){for(var u=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i,s=o.stacktrace.split(`
`),d=[],f=0,l=s.length;f<l;f+=2){var c=u.exec(s[f]);c&&d.push(new t({functionName:c[3]||void 0,fileName:c[2],lineNumber:c[1],source:s[f]}))}return d},parseOpera11:function(o){var u=o.stack.split(`
`).filter(function(s){return!!s.match(n)&&!s.match(/^Error created at/)},this);return u.map(function(s){var d=s.split("@"),f=this.extractLocation(d.pop()),l=d.shift()||"",c=l.replace(/<anonymous function(: (\w+))?>/,"$2").replace(/\([^\)]*\)/g,"")||void 0,h;l.match(/\(([^\)]*)\)/)&&(h=l.replace(/^[^\(]+\(([^\)]*)\)$/,"$1"));var _=h===void 0||h==="[arguments not available]"?void 0:h.split(",");return new t({functionName:c,args:_,fileName:f[0],lineNumber:f[1],columnNumber:f[2],source:s})},this)}}});var be=re,U=function(e,t,n,r){var a=r&&r.redactedKeys?r.redactedKeys:[],i=r&&r.redactedPaths?r.redactedPaths:[];return JSON.stringify(vt(e,a,i),t,n)},ut=20,ct=25e3,ft=8,K="...";function dt(e){return e instanceof Error||/^\[object (Error|(Dom)?Exception)\]$/.test(Object.prototype.toString.call(e))}function Se(e){return"[Throws: "+(e?e.message:"?")+"]"}function lt(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return!0;return!1}function gt(e,t){for(var n=0,r=e.length;n<r;n++)if(t.indexOf(e[n])===0)return!0;return!1}function ht(e,t){for(var n=0,r=e.length;n<r;n++)if(typeof e[n]=="string"&&e[n].toLowerCase()===t.toLowerCase()||e[n]&&typeof e[n].test=="function"&&e[n].test(t))return!0;return!1}function pt(e){return Object.prototype.toString.call(e)==="[object Array]"}function _t(e,t){try{return e[t]}catch(n){return Se(n)}}function vt(e,t,n){var r=[],a=0;function i(o,u){function s(){return u.length>ft&&a>ct}if(a++,u.length>ut||s())return K;if(o===null||typeof o!="object")return o;if(lt(r,o))return"[Circular]";if(r.push(o),typeof o.toJSON=="function")try{a--;var d=i(o.toJSON(),u);return r.pop(),d}catch(p){return Se(p)}var f=dt(o);if(f){a--;var l=i({name:o.name,message:o.message},u);return r.pop(),l}if(pt(o)){for(var c=[],h=0,_=o.length;h<_;h++){if(s()){c.push(K);break}c.push(i(o[h],u.concat("[]")))}return r.pop(),c}var v={};try{for(var g in o)if(Object.prototype.hasOwnProperty.call(o,g)){if(gt(n,u.join("."))&&ht(t,g)){v[g]="[REDACTED]";continue}if(s()){v[g]=K;break}v[g]=i(_t(o,g),u.concat(g))}}catch{}return r.pop(),v}return i(e,[])}function Ee(e,t,n,r){if(typeof n=="string"){r===void 0?r=null:r!==null&&typeof r!="string"&&(r=U(r));var a=t[n];if(typeof a=="number"){e[a]={name:n,variant:r};return}e.push({name:n,variant:r}),t[n]=e.length-1}}function mt(e,t,n){if(B(t)){for(var r=0;r<t.length;++r){var a=t[r];a===null||typeof a!="object"||Ee(e,n,a.name,a.variant)}return e}}function yt(e){return $(S(e,Boolean),function(t){var n=t.name,r=t.variant,a={featureFlag:n};return typeof r=="string"&&(a.variant=r),a})}function bt(e,t,n){var r=t[n];typeof r=="number"&&(e[r]=null,delete t[n])}var P={add:Ee,clear:bt,merge:mt,toEventApi:yt},X=function(e){return!!e&&(!!e.stack||!!e.stacktrace||!!e["opera#sourceloc"])&&typeof(e.stack||e.stacktrace||e["opera#sourceloc"])=="string"&&e.stack!==e.name+": "+e.message},St=Et;function Et(e){switch(Object.prototype.toString.call(e)){case"[object Error]":return!0;case"[object Exception]":return!0;case"[object DOMException]":return!0;default:return e instanceof Error}}var G=St,Ot=function(e,t,n,r){var a;if(t){var i;if(n===null)return Oe(e,t);typeof n=="object"&&(i=n),typeof n=="string"&&(i=(a={},a[n]=r,a)),i&&(t==="__proto__"||t==="constructor"||t==="prototype"||(e[t]||(e[t]={}),e[t]=m({},e[t],i)))}},Nt=function(e,t,n){if(typeof t=="string"){if(!n)return e[t];if(e[t])return e[t][n]}},Oe=function(e,t,n){if(typeof t=="string"){if(!n){delete e[t];return}t==="__proto__"||t==="constructor"||t==="prototype"||e[t]&&delete e[t][n]}},C={add:Ot,get:Nt,clear:Oe},ne={};(function(e,t){typeof ne=="object"?ne=t(q):e.StackGenerator=t(e.StackFrame)})(this,function(e){return{backtrace:function(n){var r=[],a=10;typeof n=="object"&&typeof n.maxStackSize=="number"&&(a=n.maxStackSize);for(var i=arguments.callee;i&&r.length<a&&i.arguments;){for(var o=new Array(i.arguments.length),u=0;u<o.length;++u)o[u]=i.arguments[u];/function(?:\s+([\w$]+))+\s*\(/.test(i.toString())?r.push(new e({functionName:RegExp.$1||void 0,args:o})):r.push(new e({args:o}));try{i=i.caller}catch{break}}return r}}});function ae(){return ae=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ae.apply(this,arguments)}var L=function(){function e(n,r,a,i,o){a===void 0&&(a=[]),i===void 0&&(i=Tt()),this.apiKey=void 0,this.context=void 0,this.groupingHash=void 0,this.originalError=o,this._handledState=i,this.severity=this._handledState.severity,this.unhandled=this._handledState.unhandled,this.app={},this.device={},this.request={},this.breadcrumbs=[],this.threads=[],this._metadata={},this._features=[],this._featuresIndex={},this._user={},this._session=void 0,this._correlation=void 0,this.errors=[xe(n,r,e.__type,a)]}var t=e.prototype;return t.addMetadata=function(r,a,i){return C.add(this._metadata,r,a,i)},t.setTraceCorrelation=function(r,a){typeof r=="string"&&(this._correlation=ae({traceId:r},typeof a=="string"?{spanId:a}:{}))},t.getMetadata=function(r,a){return C.get(this._metadata,r,a)},t.clearMetadata=function(r,a){return C.clear(this._metadata,r,a)},t.addFeatureFlag=function(r,a){a===void 0&&(a=null),P.add(this._features,this._featuresIndex,r,a)},t.addFeatureFlags=function(r){P.merge(this._features,r,this._featuresIndex)},t.getFeatureFlags=function(){return P.toEventApi(this._features)},t.clearFeatureFlag=function(r){P.clear(this._features,this._featuresIndex,r)},t.clearFeatureFlags=function(){this._features=[],this._featuresIndex={}},t.getUser=function(){return this._user},t.setUser=function(r,a,i){this._user={id:r,email:a,name:i}},t.toJSON=function(){return{payloadVersion:"4",exceptions:$(this.errors,function(r){return m({},r,{message:r.errorMessage})}),severity:this.severity,unhandled:this._handledState.unhandled,severityReason:this._handledState.severityReason,app:this.app,device:this.device,request:this.request,breadcrumbs:this.breadcrumbs,context:this.context,groupingHash:this.groupingHash,metaData:this._metadata,user:this._user,session:this._session,featureFlags:this.getFeatureFlags(),correlation:this._correlation}},e}(),xt=function(e){var t={file:e.fileName,method:$t(e.functionName),lineNumber:e.lineNumber,columnNumber:e.columnNumber,code:void 0,inProject:void 0};return t.lineNumber>-1&&!t.file&&!t.method&&(t.file="global code"),t},$t=function(e){return/^global code$/i.test(e)?"global code":e},Tt=function(){return{unhandled:!1,severity:"warning",severityReason:{type:"handledException"}}},Ne=function(e){return typeof e=="string"?e:""};function xe(e,t,n,r){return{errorClass:Ne(e),errorMessage:Ne(t),type:n,stacktrace:x(r,function(a,i){var o=xt(i);try{return JSON.stringify(o)==="{}"?a:a.concat(o)}catch{return a}},[])}}function $e(e){return e.cause?[e].concat($e(e.cause)):[e]}L.getStacktrace=function(e,t,n){if(X(e))return be.parse(e).slice(t);try{return S(ne.backtrace(),function(r){return(r.functionName||"").indexOf("StackGenerator$$")===-1}).slice(1+n)}catch{return[]}},L.create=function(e,t,n,r,a,i){a===void 0&&(a=0);var o=we(e,t,r,i),u=o[0],s=o[1],d;try{var f=L.getStacktrace(u,s>0?1+s+a:0,1+a);d=new L(u.name,u.message,f,n,e)}catch{d=new L(u.name,u.message,[],n,e)}if(u.name==="InvalidError"&&d.addMetadata(""+r,"non-error parameter",Te(e)),u.cause){var l,c=$e(u).slice(1),h=$(c,function(_){var v=G(_)&&X(_)?be.parse(_):[],g=we(_,!0,"error cause"),p=g[0];return p.name==="InvalidError"&&d.addMetadata("error cause",Te(_)),xe(p.name,p.message,L.__type,v)});(l=d.errors).push.apply(l,h)}return d};var Te=function(e){return e===null?"null":e===void 0?"undefined":e},we=function(e,t,n,r){var a,i=0,o=function(u){var s=n==="error cause"?"was":"received";r&&r.warn(n+" "+s+' a non-error: "'+u+'"');var d=new Error(n+" "+s+' a non-error. See "'+n+'" tab for more detail.');return d.name="InvalidError",d};if(!t)G(e)?a=e:(a=o(typeof e),i+=2);else switch(typeof e){case"string":case"number":case"boolean":a=new Error(String(e)),i+=1;break;case"function":a=o("function"),i+=2;break;case"object":e!==null&&G(e)?a=e:e!==null&&wt(e)?(a=new Error(e.message||e.errorMessage),a.name=e.name||e.errorClass,i+=1):(a=o(e===null?"null":"unsupported object"),i+=2);break;default:a=o("nothing"),i+=2}if(!X(a))try{throw a}catch(u){X(u)&&(a=u,i=1)}return[a,i]};L.__type="browserjs";var wt=function(e){return(typeof e.name=="string"||typeof e.errorClass=="string")&&(typeof e.message=="string"||typeof e.errorMessage=="string")},ie=L,Lt=function(e,t,n){var r=0,a=function(){if(r>=e.length)return n(null,!0);t(e[r],function(i,o){if(i)return n(i);if(o===!1)return n(null,!1);r++,a()})};a()},Rt=function(e,t,n,r){var a=function(i,o){if(typeof i!="function")return o(null);try{if(i.length!==2){var u=i(t);return u&&typeof u.then=="function"?u.then(function(s){return setTimeout(function(){return o(null,s)})},function(s){setTimeout(function(){return n(s),o(null,!0)})}):o(null,u)}i(t,function(s,d){if(s)return n(s),o(null);o(null,d)})}catch(s){n(s),o(null)}};Lt(e,a,r)},Le=function(e,t,n,r){for(var a=!1,i=e.slice();!a&&i.length;)try{a=i.pop()(t)===!1}catch(o){r.error("Error occurred in "+n+" callback, continuing anyway…"),r.error(o)}return a},oe=function(t,n){var r="000000000"+t;return r.substr(r.length-n)},Re=typeof window=="object"?window:self,Be=0;for(var Bt in Re)Object.hasOwnProperty.call(Re,Bt)&&Be++;var Pt=navigator.mimeTypes?navigator.mimeTypes.length:0,Mt=oe((Pt+navigator.userAgent.length).toString(36)+Be.toString(36),4),Pe=function(){return Mt},j=0,se=4,J=36,Me=Math.pow(J,se);function Ae(){return oe((Math.random()*Me<<0).toString(J),se)}function At(){return j=j<Me?j:0,j++,j-1}function Ce(){var e="c",t=new Date().getTime().toString(J),n=oe(At().toString(J),se),r=Pe(),a=Ae()+Ae();return e+t+n+r+a}Ce.fingerprint=Pe;var Ct=Ce,It=function(){function e(){this.id=Ct(),this.startedAt=new Date,this._handled=0,this._unhandled=0,this._user={},this.app={},this.device={}}var t=e.prototype;return t.getUser=function(){return this._user},t.setUser=function(r,a,i){this._user={id:r,email:a,name:i}},t.toJSON=function(){return{id:this.id,startedAt:this.startedAt,events:{handled:this._handled,unhandled:this._unhandled}}},t._track=function(r){this[r._handledState.unhandled?"_unhandled":"_handled"]+=1},e}(),ue=It,Dt=P.add,Ft=P.clear,ce=P.merge,R=function(){},jt=function(){function e(n,r,a,i){var o=this;r===void 0&&(r=V.schema),a===void 0&&(a=[]),this._notifier=i,this._config={},this._schema=r,this._delivery={sendSession:R,sendEvent:R},this._logger={debug:R,info:R,warn:R,error:R},this._plugins={},this._breadcrumbs=[],this._session=null,this._metadata={},this._featuresIndex={},this._features=[],this._context=void 0,this._user={},this._cbs={e:[],s:[],sp:[],b:[]},this.Client=e,this.Event=ie,this.Breadcrumb=te,this.Session=ue,this._config=this._configure(n,a),$(a.concat(this._config.plugins),function(d){d&&o._loadPlugin(d)}),this._depth=1;var u=this,s=this.notify;this.notify=function(){return s.apply(u,arguments)}}var t=e.prototype;return t.addMetadata=function(r,a,i){return C.add(this._metadata,r,a,i)},t.getMetadata=function(r,a){return C.get(this._metadata,r,a)},t.clearMetadata=function(r,a){return C.clear(this._metadata,r,a)},t.addFeatureFlag=function(r,a){a===void 0&&(a=null),Dt(this._features,this._featuresIndex,r,a)},t.addFeatureFlags=function(r){ce(this._features,r,this._featuresIndex)},t.clearFeatureFlag=function(r){Ft(this._features,this._featuresIndex,r)},t.clearFeatureFlags=function(){this._features=[],this._featuresIndex={}},t.getContext=function(){return this._context},t.setContext=function(r){this._context=r},t._configure=function(r,a){var i=x(a,function(d,f){return f&&f.configSchema?m({},d,f.configSchema):d},this._schema),o=x(w(i),function(d,f){var l=i[f].defaultValue(r[f]);if(r[f]!==void 0){var c=i[f].validate(r[f]);c?i[f].allowPartialObject?d.config[f]=m(l,r[f]):d.config[f]=r[f]:(d.errors[f]=i[f].message,d.config[f]=l)}else d.config[f]=l;return d},{errors:{},config:{}}),u=o.errors,s=o.config;if(i.apiKey){if(!s.apiKey)throw new Error("No Bugsnag API Key set");/^[0-9a-f]{32}$/i.test(s.apiKey)||(u.apiKey="should be a string of 32 hexadecimal characters")}return this._metadata=m({},s.metadata),ce(this._features,s.featureFlags,this._featuresIndex),this._user=m({},s.user),this._context=s.context,s.logger&&(this._logger=s.logger),s.onError&&(this._cbs.e=this._cbs.e.concat(s.onError)),s.onBreadcrumb&&(this._cbs.b=this._cbs.b.concat(s.onBreadcrumb)),s.onSession&&(this._cbs.s=this._cbs.s.concat(s.onSession)),w(u).length&&this._logger.warn(kt(u,r)),s},t.getUser=function(){return this._user},t.setUser=function(r,a,i){this._user={id:r,email:a,name:i}},t._loadPlugin=function(r){var a=r.load(this);return r.name&&(this._plugins["~"+r.name+"~"]=a),this},t.getPlugin=function(r){return this._plugins["~"+r+"~"]},t._setDelivery=function(r){this._delivery=r(this)},t.startSession=function(){var r=new ue;r.app.releaseStage=this._config.releaseStage,r.app.version=this._config.appVersion,r.app.type=this._config.appType,r._user=m({},this._user);var a=Le(this._cbs.s,r,"onSession",this._logger);return a?(this._logger.debug("Session not started due to onSession callback"),this):this._sessionDelegate.startSession(this,r)},t.addOnError=function(r,a){a===void 0&&(a=!1),this._cbs.e[a?"unshift":"push"](r)},t.removeOnError=function(r){this._cbs.e=S(this._cbs.e,function(a){return a!==r})},t._addOnSessionPayload=function(r){this._cbs.sp.push(r)},t.addOnSession=function(r){this._cbs.s.push(r)},t.removeOnSession=function(r){this._cbs.s=S(this._cbs.s,function(a){return a!==r})},t.addOnBreadcrumb=function(r,a){a===void 0&&(a=!1),this._cbs.b[a?"unshift":"push"](r)},t.removeOnBreadcrumb=function(r){this._cbs.b=S(this._cbs.b,function(a){return a!==r})},t.pauseSession=function(){return this._sessionDelegate.pauseSession(this)},t.resumeSession=function(){return this._sessionDelegate.resumeSession(this)},t.leaveBreadcrumb=function(r,a,i){if(r=typeof r=="string"?r:"",i=typeof i=="string"&&T(A,i)?i:"manual",a=typeof a=="object"&&a!==null?a:{},!!r){var o=new te(r,a,i),u=Le(this._cbs.b,o,"onBreadcrumb",this._logger);if(u){this._logger.debug("Breadcrumb not attached due to onBreadcrumb callback");return}this._breadcrumbs.push(o),this._breadcrumbs.length>this._config.maxBreadcrumbs&&(this._breadcrumbs=this._breadcrumbs.slice(this._breadcrumbs.length-this._config.maxBreadcrumbs))}},t._isBreadcrumbTypeEnabled=function(r){var a=this._config.enabledBreadcrumbTypes;return a===null||T(a,r)},t.notify=function(r,a,i){i===void 0&&(i=R);var o=ie.create(r,!0,void 0,"notify()",this._depth+1,this._logger);this._notify(o,a,i)},t._notify=function(r,a,i){var o=this;if(i===void 0&&(i=R),r.app=m({},r.app,{releaseStage:this._config.releaseStage,version:this._config.appVersion,type:this._config.appType}),r.context=r.context||this._context,r._metadata=m({},r._metadata,this._metadata),r._user=m({},r._user,this._user),r.breadcrumbs=this._breadcrumbs.slice(),ce(r._features,this._features,r._featuresIndex),this._config.enabledReleaseStages!==null&&!T(this._config.enabledReleaseStages,this._config.releaseStage))return this._logger.warn("Event not sent due to releaseStage/enabledReleaseStages configuration"),i(null,r);var u=r.severity,s=function(f){o._logger.error("Error occurred in onError callback, continuing anyway…"),o._logger.error(f)},d=[].concat(this._cbs.e).concat(a);Rt(d,r,s,function(f,l){if(f&&s(f),!l)return o._logger.debug("Event not sent due to onError callback"),i(null,r);o._isBreadcrumbTypeEnabled("error")&&e.prototype.leaveBreadcrumb.call(o,r.errors[0].errorClass,{errorClass:r.errors[0].errorClass,errorMessage:r.errors[0].errorMessage,severity:r.severity},"error"),u!==r.severity&&(r._handledState.severityReason={type:"userCallbackSetSeverity"}),r.unhandled!==r._handledState.unhandled&&(r._handledState.severityReason.unhandledOverridden=!0,r._handledState.unhandled=r.unhandled),o._session&&(o._session._track(r),r._session=o._session),o._delivery.sendEvent({apiKey:r.apiKey||o._config.apiKey,notifier:o._notifier,events:[r]},function(c){return i(c,r)})})},e}(),kt=function(e,t){var n=new Error(`Invalid configuration
`+$(w(e),function(r){return"  - "+r+" "+e[r]+", got "+Ht(t[r])}).join(`

`));return n},Ht=function(e){switch(typeof e){case"string":case"number":case"object":return JSON.stringify(e);default:return String(e)}},fe=jt,I={},Ie=["events.[].metaData","events.[].breadcrumbs.[].metaData","events.[].request"];I.event=function(e,t){var n=U(e,null,null,{redactedPaths:Ie,redactedKeys:t});return n.length>1e6&&(e.events[0]._metadata={notifier:`WARNING!
Serialized payload was `+n.length/1e6+`MB (limit = 1MB)
metadata was removed`},n=U(e,null,null,{redactedPaths:Ie,redactedKeys:t})),n},I.session=function(e,t){var n=U(e,null,null);return n};var de={};de=function(e,t){return t===void 0&&(t=window),{sendEvent:function(n,r){r===void 0&&(r=function(){});var a=De(e._config,"notify","4",t),i=I.event(n,e._config.redactedKeys),o=new t.XDomainRequest;o.onload=function(){r(null)},o.onerror=function(){var u=new Error("Event failed to send");e._logger.error("Event failed to send…",u),i.length>1e6&&e._logger.warn("Event oversized ("+(i.length/1e6).toFixed(2)+" MB)"),r(u)},o.open("POST",a),setTimeout(function(){try{o.send(i)}catch(u){e._logger.error(u),r(u)}},0)},sendSession:function(n,r){r===void 0&&(r=function(){});var a=De(e._config,"sessions","1",t),i=new t.XDomainRequest;i.onload=function(){r(null)},i.open("POST",a),setTimeout(function(){try{i.send(I.session(n,e._config.redactedKeys))}catch(o){e._logger.error(o),r(o)}},0)}}};var De=function(e,t,n,r){var a=JSON.parse(JSON.stringify(new Date)),i=Vt(e.endpoints[t],r.location.protocol);return i+"?apiKey="+encodeURIComponent(e.apiKey)+"&payloadVersion="+n+"&sentAt="+encodeURIComponent(a)},Vt=de._matchPageProtocol=function(e,t){return t==="http:"?e.replace(/^https:/,"http:"):e},qt=function(e,t){return t===void 0&&(t=window),{sendEvent:function(n,r){r===void 0&&(r=function(){});try{var a=e._config.endpoints.notify,i=new t.XMLHttpRequest,o=I.event(n,e._config.redactedKeys);i.onreadystatechange=function(){if(i.readyState===t.XMLHttpRequest.DONE){var u=i.status;if(u===0||u>=400){var s=new Error("Request failed with status "+u);e._logger.error("Event failed to send…",s),o.length>1e6&&e._logger.warn("Event oversized ("+(o.length/1e6).toFixed(2)+" MB)"),r(s)}else r(null)}},i.open("POST",a),i.setRequestHeader("Content-Type","application/json"),i.setRequestHeader("Bugsnag-Api-Key",n.apiKey||e._config.apiKey),i.setRequestHeader("Bugsnag-Payload-Version","4"),i.setRequestHeader("Bugsnag-Sent-At",new Date().toISOString()),i.send(o)}catch(u){e._logger.error(u)}},sendSession:function(n,r){r===void 0&&(r=function(){});try{var a=e._config.endpoints.sessions,i=new t.XMLHttpRequest;i.onreadystatechange=function(){if(i.readyState===t.XMLHttpRequest.DONE){var o=i.status;if(o===0||o>=400){var u=new Error("Request failed with status "+o);e._logger.error("Session failed to send…",u),r(u)}else r(null)}},i.open("POST",a),i.setRequestHeader("Content-Type","application/json"),i.setRequestHeader("Bugsnag-Api-Key",e._config.apiKey),i.setRequestHeader("Bugsnag-Payload-Version","1"),i.setRequestHeader("Bugsnag-Sent-At",new Date().toISOString()),i.send(I.session(n,e._config.redactedKeys))}catch(o){e._logger.error(o)}}}},Fe=new Date,Ut=function(){Fe=new Date},Kt={name:"appDuration",load:function(e){return e.addOnError(function(t){var n=new Date;t.app.duration=n-Fe},!0),{reset:Ut}}},Xt=function(e){return e===void 0&&(e=window),{load:function(t){t.addOnError(function(n){n.context===void 0&&(n.context=e.location.pathname)},!0)}}},le=function(t,n){var r="000000000"+t;return r.substr(r.length-n)},je=typeof window=="object"?window:self,ke=0;for(var Gt in je)Object.hasOwnProperty.call(je,Gt)&&ke++;var Jt=navigator.mimeTypes?navigator.mimeTypes.length:0,zt=le((Jt+navigator.userAgent.length).toString(36)+ke.toString(36),4),He=function(){return zt},k=0,ge=4,z=36,Ve=Math.pow(z,ge);function qe(){return le((Math.random()*Ve<<0).toString(z),ge)}function Wt(){return k=k<Ve?k:0,k++,k-1}function Ue(){var e="c",t=new Date().getTime().toString(z),n=le(Wt().toString(z),ge),r=He(),a=qe()+qe();return e+t+n+r+a}Ue.fingerprint=He;var Yt=Ue,Ke="bugsnag-anonymous-id",Qt=function(e){try{var t=e.localStorage,n=t.getItem(Ke);return n&&/^c[a-z0-9]{20,32}$/.test(n)||(n=Yt(),t.setItem(Ke,n)),n}catch{}},Zt=function(e,t){return e===void 0&&(e=navigator),t===void 0&&(t=window),{load:function(n){var r={locale:e.browserLanguage||e.systemLanguage||e.userLanguage||e.language,userAgent:e.userAgent};t&&t.screen&&t.screen.orientation&&t.screen.orientation.type?r.orientation=t.screen.orientation.type:t&&t.document&&(r.orientation=t.document.documentElement.clientWidth>t.document.documentElement.clientHeight?"landscape":"portrait"),n._config.generateAnonymousId&&(r.id=Qt(t)),n.addOnSession(function(a){a.device=m({},a.device,r),n._config.collectUserIp||Xe(a)}),n.addOnError(function(a){a.device=m({},a.device,r,{time:new Date}),n._config.collectUserIp||Xe(a)},!0)},configSchema:{generateAnonymousId:{validate:function(n){return n===!0||n===!1},defaultValue:function(){return!0},message:"should be true|false"}}}},Xe=function(e){var t=e.getUser();(!t||!t.id)&&e.setUser(e.device.id)},er=function(e){return e===void 0&&(e=window),{load:function(t){t.addOnError(function(n){n.request&&n.request.url||(n.request=m({},n.request,{url:e.location.href}))},!0)}}},tr={load:function(e){e._sessionDelegate=rr}},rr={startSession:function(e,t){var n=e;return n._session=t,n._pausedSession=null,n._config.enabledReleaseStages!==null&&!T(n._config.enabledReleaseStages,n._config.releaseStage)?(n._logger.warn("Session not sent due to releaseStage/enabledReleaseStages configuration"),n):(n._delivery.sendSession({notifier:n._notifier,device:t.device,app:t.app,sessions:[{id:t.id,startedAt:t.startedAt,user:t._user}]}),n)},resumeSession:function(e){return e._session?e:e._pausedSession?(e._session=e._pausedSession,e._pausedSession=null,e):e.startSession()},pauseSession:function(e){e._pausedSession=e._session,e._session=null}},nr={load:function(e){e._config.collectUserIp||e.addOnError(function(t){t._user&&typeof t._user.id>"u"&&delete t._user.id,t._user=m({id:"[REDACTED]"},t._user),t.request=m({clientIp:"[REDACTED]"},t.request)})},configSchema:{collectUserIp:{defaultValue:function(){return!0},message:"should be true|false",validate:function(e){return e===!0||e===!1}}}},Ge={};Ge.load=function(e){var t=/^(local-)?dev(elopment)?$/.test(e._config.releaseStage);t||!e._isBreadcrumbTypeEnabled("log")||$(ar,function(n){var r=console[n];console[n]=function(){for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];e.leaveBreadcrumb("Console output",x(i,function(u,s,d){var f="[Unknown value]";try{f=String(s)}catch{}if(f==="[object Object]")try{f=JSON.stringify(s)}catch{}return u["["+d+"]"]=f,u},{severity:n.indexOf("group")===0?"log":n}),"log"),r.apply(console,i)},console[n]._restore=function(){console[n]=r}})};var ar=S(["log","debug","info","warn","error"],function(e){return typeof console<"u"&&typeof console[e]=="function"}),Je=200,ze=5e5,ir=function(e,t){return e===void 0&&(e=document),t===void 0&&(t=window),{load:function(n){if(!n._config.trackInlineScripts)return;var r=t.location.href,a="",i=!!e.attachEvent,o=i?e.readyState==="complete":e.readyState!=="loading",u=function(){return e.documentElement.outerHTML};a=u();var s=e.onreadystatechange;e.onreadystatechange=function(){e.readyState==="interactive"&&(a=u(),o=!0);try{s.apply(this,arguments)}catch{}};var d=null,f=function(g){d=g},l=function(){var g=e.currentScript||d;if(!g&&!o){var p=e.scripts||e.getElementsByTagName("script");g=p[p.length-1]}return g},c=function(g){(!o||!a)&&(a=u());var p=["<!-- DOC START -->"].concat(a.split(`
`)),b=g-1,y=Math.max(b-3,0),N=Math.min(b+3,p.length);return x(p.slice(y,N),function(O,H,ve){return O[y+1+ve]=H.length<=Je?H:H.substr(0,Je),O},{})};n.addOnError(function(g){g.errors[0].stacktrace=S(g.errors[0].stacktrace,function(O){return!/__trace__$/.test(O.method)});var p=g.errors[0].stacktrace[0],b=function(O){return O.replace(/#.*$/,"").replace(/\?.*$/,"")};if(!(p&&p.file&&b(p.file)!==b(r))){var y=l();if(y){var N=y.innerHTML;g.addMetadata("script","content",N.length<=ze?N:N.substr(0,ze)),p&&p.lineNumber&&(p.code=c(p.lineNumber))}}},!0);var h=$(["setTimeout","setInterval","setImmediate","requestAnimationFrame"],function(g){return he(t,g,function(p){return v(p,function(b){return{get:function(){return b[0]},replace:function(y){b[0]=y}}})})}),_=h[0];$(["EventTarget","Window","Node","ApplicationCache","AudioTrackList","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],function(g){!t[g]||!t[g].prototype||!Object.prototype.hasOwnProperty.call(t[g].prototype,"addEventListener")||(he(t[g].prototype,"addEventListener",function(p){return v(p,We)}),he(t[g].prototype,"removeEventListener",function(p){return v(p,We,!0)}))});function v(g,p,b){return b===void 0&&(b=!1),function(){var y=[].slice.call(arguments);try{var N=p(y),O=N.get();if(b&&g.apply(this,y),typeof O!="function")return g.apply(this,y);if(O.__trace__)N.replace(O.__trace__);else{var H=l();O.__trace__=function(){f(H),_(function(){f(null)},0);var br=O.apply(this,arguments);return f(null),br},O.__trace__.__trace__=O.__trace__,N.replace(O.__trace__)}}catch{}if(g.apply)return g.apply(this,y);switch(y.length){case 1:return g(y[0]);case 2:return g(y[0],y[1]);default:return g()}}}},configSchema:{trackInlineScripts:{validate:function(n){return n===!0||n===!1},defaultValue:function(){return!0},message:"should be true|false"}}}};function he(e,t,n){var r=e[t];if(!r)return r;var a=n(r);return e[t]=a,r}function We(e){var t=!!e[1]&&typeof e[1].handleEvent=="function";return{get:function(){return t?e[1].handleEvent:e[1]},replace:function(n){t?e[1].handleEvent=n:e[1]=n}}}var or=function(e){return e===void 0&&(e=window),{load:function(t){"addEventListener"in e&&t._isBreadcrumbTypeEnabled("user")&&e.addEventListener("click",function(n){var r,a;try{r=ur(n.target),a=Ye(n.target,e)}catch{r="[hidden]",a="[hidden]",t._logger.error("Cross domain error when tracking click event. See docs: https://tinyurl.com/yy3rn63z")}t.leaveBreadcrumb("UI click",{targetText:r,targetSelector:a},"user")},!0)}}},sr=/^\s*([^\s][\s\S]{0,139}[^\s])?\s*/;function ur(e){var t=e.textContent||e.innerText||"";return!t&&(e.type==="submit"||e.type==="button")&&(t=e.value),t=t.replace(sr,"$1"),t.length>140?t.slice(0,135)+"(...)":t}function Ye(e,t){var n=[e.tagName];if(e.id&&n.push("#"+e.id),e.className&&e.className.length&&n.push("."+e.className.split(" ").join(".")),!t.document.querySelectorAll||!Array.prototype.indexOf)return n.join("");try{if(t.document.querySelectorAll(n.join("")).length===1)return n.join("")}catch{return n.join("")}if(e.parentNode.childNodes.length>1){var r=Array.prototype.indexOf.call(e.parentNode.childNodes,e)+1;n.push(":nth-child("+r+")")}return t.document.querySelectorAll(n.join("")).length===1?n.join(""):e.parentNode?Ye(e.parentNode,t)+" > "+n.join(""):n.join("")}var Qe={};Qe=function(e){e===void 0&&(e=window);var t={load:function(n){if("addEventListener"in e&&n._isBreadcrumbTypeEnabled("navigation")){var r=function(a){return function(){return n.leaveBreadcrumb(a,{},"navigation")}};e.addEventListener("pagehide",r("Page hidden"),!0),e.addEventListener("pageshow",r("Page shown"),!0),e.addEventListener("load",r("Page loaded"),!0),e.document.addEventListener("DOMContentLoaded",r("DOMContentLoaded"),!0),e.addEventListener("load",function(){return e.addEventListener("popstate",r("Navigated back"),!0)}),e.addEventListener("hashchange",function(a){var i=a.oldURL?{from:W(a.oldURL,e),to:W(a.newURL,e),state:et(e)}:{to:W(e.location.href,e)};n.leaveBreadcrumb("Hash changed",i,"navigation")},!0),e.history.replaceState&&Ze(n,e.history,"replaceState",e),e.history.pushState&&Ze(n,e.history,"pushState",e)}}};return t};var W=function(e,t){var n=t.document.createElement("A");return n.href=e,""+n.pathname+n.search+n.hash},cr=function(e,t,n,r){var a=W(e.location.href,e);return{title:n,state:t,prevState:et(e),to:r||a,from:a}},Ze=function(e,t,n,r){var a=t[n];t[n]=function(i,o,u){e.leaveBreadcrumb("History "+n,cr(r,i,o,u),"navigation"),typeof e.resetEventCount=="function"&&e.resetEventCount(),e._config.autoTrackSessions&&e.startSession(),a.apply(t,[i,o].concat(u!==void 0?u:[]))}},et=function(e){try{return e.history.state}catch{}},D="request",fr=function(e,t){e===void 0&&(e=[]),t===void 0&&(t=window);var n={load:function(r){if(!r._isBreadcrumbTypeEnabled("request"))return;var a=[r._config.endpoints.notify,r._config.endpoints.sessions].concat(e);i(),s();function i(){if("addEventListener"in t.XMLHttpRequest.prototype){var l=t.XMLHttpRequest.prototype.open;t.XMLHttpRequest.prototype.open=function(h,_){var v=this,g=!1,p=function(){return u(h,_)},b=function(){return o(h,_,v.status)};g&&(this.removeEventListener("load",b),this.removeEventListener("error",p)),this.addEventListener("load",b),this.addEventListener("error",p),g=!0,l.apply(this,arguments)}}}function o(l,c,h){if(c===void 0){r._logger.warn("The request URL is no longer present on this XMLHttpRequest. A breadcrumb cannot be left for this request.");return}if(!(typeof c=="string"&&T(a,c.replace(/\?.*$/,"")))){var _={status:h,request:l+" "+c};h>=400?r.leaveBreadcrumb("XMLHttpRequest failed",_,D):r.leaveBreadcrumb("XMLHttpRequest succeeded",_,D)}}function u(l,c){if(c===void 0){r._logger.warn("The request URL is no longer present on this XMLHttpRequest. A breadcrumb cannot be left for this request.");return}typeof c=="string"&&T(a,c.replace(/\?.*$/,""))||r.leaveBreadcrumb("XMLHttpRequest error",{request:l+" "+c},D)}function s(){if(!(!("fetch"in t)||t.fetch.polyfill)){var l=t.fetch;t.fetch=function(){var h=arguments,_=arguments[0],v=arguments[1],g,p=null;return _&&typeof _=="object"?(p=_.url,v&&"method"in v?g=v.method:_&&"method"in _&&(g=_.method)):(p=_,v&&"method"in v&&(g=v.method)),g===void 0&&(g="GET"),new Promise(function(b,y){l.apply(void 0,h).then(function(N){d(N,g,p),b(N)}).catch(function(N){f(g,p),y(N)})})}}}var d=function(l,c,h){var _={status:l.status,request:c+" "+h};l.status>=400?r.leaveBreadcrumb("fetch() failed",_,D):r.leaveBreadcrumb("fetch() succeeded",_,D)},f=function(l,c){r.leaveBreadcrumb("fetch() error",{request:l+" "+c},D)}}};return n},dr={load:function(e){var t=0;e.addOnError(function(n){if(t>=e._config.maxEvents)return e._logger.warn("Cancelling event send due to maxEvents per session limit of "+e._config.maxEvents+" being reached"),!1;t++}),e.resetEventCount=function(){t=0}},configSchema:{maxEvents:{defaultValue:function(){return 10},message:"should be a positive integer ≤100",validate:function(e){return me(1,100)(e)}}}},pe={};pe={load:function(e){e.addOnError(function(t){var n=x(t.errors,function(r,a){return r.concat(a.stacktrace)},[]);$(n,function(r){r.file=lr(r.file)})})}};var lr=pe._strip=function(e){return typeof e=="string"?e.replace(/\?.*$/,"").replace(/#.*$/,""):e},gr=function(e,t){return e===void 0&&(e=window),t===void 0&&(t="window onerror"),{load:function(n){if(!n._config.autoDetectErrors||!n._config.enabledErrorTypes.unhandledExceptions)return;function r(i,o,u,s,d){if(u===0&&/Script error\.?/.test(i))n._logger.warn("Ignoring cross-domain or eval script error. See docs: https://tinyurl.com/yy3rn63z");else{var f={severity:"error",unhandled:!0,severityReason:{type:"unhandledException"}},l;if(d)l=n.Event.create(d,!0,f,t,1),tt(l.errors[0].stacktrace,o,u,s);else if(typeof i=="object"&&i!==null&&(!o||typeof o!="string")&&!u&&!s&&!d){var c=i.type?"Event: "+i.type:"Error",h=i.message||i.detail||"";l=n.Event.create({name:c,message:h},!0,f,t,1),l.originalError=i,l.addMetadata(t,{event:i,extraParameters:o})}else l=n.Event.create(i,!0,f,t,1),tt(l.errors[0].stacktrace,o,u,s);n._notify(l)}typeof a=="function"&&a.apply(this,arguments)}var a=e.onerror;e.onerror=r}}},tt=function(e,t,n,r){e[0]||e.push({});var a=e[0];!a.file&&typeof t=="string"&&(a.file=t),!a.lineNumber&&_e(n)&&(a.lineNumber=n),a.columnNumber||(_e(r)?a.columnNumber=r:window.event&&_e(window.event.errorCharacter)&&(a.columnNumber=window.event.errorCharacter))},_e=function(e){return typeof e=="number"&&String.call(e)!=="NaN"},hr=function(e){e===void 0&&(e=window);var t={load:function(n){if(!(!n._config.autoDetectErrors||!n._config.enabledErrorTypes.unhandledRejections)){var r=function(a){var i=a.reason,o=!1;try{a.detail&&a.detail.reason&&(i=a.detail.reason,o=!0)}catch{}var u=n.Event.create(i,!1,{severity:"error",unhandled:!0,severityReason:{type:"unhandledPromiseRejection"}},"unhandledrejection handler",1,n._logger);o&&$(u.errors[0].stacktrace,pr(i)),n._notify(u,function(s){if(G(s.originalError)&&!s.originalError.stack){var d;s.addMetadata("unhandledRejection handler",(d={},d[Object.prototype.toString.call(s.originalError)]={name:s.originalError.name,message:s.originalError.message,code:s.originalError.code},d))}})};"addEventListener"in e?e.addEventListener("unhandledrejection",r):e.onunhandledrejection=function(a,i){r({detail:{reason:a,promise:i}})}}}};return t},pr=function(e){return function(t){t.file!==e.toString()&&t.method&&(t.method=t.method.replace(/^\s+/,""))}},M={},_r="Bugsnag JavaScript",vr="7.25.0",mr="https://github.com/bugsnag/bugsnag-js",yr=m({},V.schema,it),E={_client:null,createClient:function(e){typeof e=="string"&&(e={apiKey:e}),e||(e={});var t=[Kt,Zt(),Xt(),er(),dr,tr,nr,pe,gr(),hr(),Qe(),or(),fr(),Ge,ir()],n=new fe(e,yr,t,{name:_r,version:vr,url:mr});return n._setDelivery(window.XDomainRequest?de:qt),n._logger.debug("Loaded!"),n.leaveBreadcrumb("Bugsnag loaded",{},"state"),n._config.autoTrackSessions?n.startSession():n},start:function(e){return E._client?(E._client._logger.warn("Bugsnag.start() was called more than once. Ignoring."),E._client):(E._client=E.createClient(e),E._client)},isStarted:function(){return E._client!=null}};return $(["resetEventCount"].concat(w(fe.prototype)),function(e){/^_/.test(e)||(E[e]=function(){if(!E._client)return console.log("Bugsnag."+e+"() was called before Bugsnag.start()");E._client._depth+=1;var t=E._client[e].apply(E._client,arguments);return E._client._depth-=1,t})}),M=E,M.Client=fe,M.Event=ie,M.Session=ue,M.Breadcrumb=te,M.default=E,M})})(rt);var Er=rt.exports;export{Er as b};
//# sourceMappingURL=bugsnag_browser-d00kmNSm.js.map

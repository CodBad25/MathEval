var it=Object.defineProperty;var ot=(n,s,t)=>s in n?it(n,s,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[s]=t;var w=(n,s,t)=>ot(n,typeof s!="symbol"?s+"":s,t);import{Q as L,bI as A,a1 as tt,z as x,b_ as Q,V as z,x as st,f as X,A as rt,a4 as lt,ah as at,a5 as $,aa as y,a9 as R,aE as ht,aF as ct,a6 as nt,ax as Z,aW as E,G as I,bZ as B,Z as F,R as ut,c8 as bt}from"./index-DjA7ROjC.js";import{c as N}from"./style-bimy13bZ.js";import{a as pt,l as ft,b as xt}from"./reperes-1ikpRIBf.js";import{q as G}from"./vendors/mathjs-oaIJR0Fd.js";class dt extends L{constructor(s,t,{couleurDesPoints:e="red",couleurDuTrait:l="blue",styleDuTrait:i="",epaisseurDuTrait:h=2,styleDesPoints:o="x",tailleDesPoints:u=3}){super(),this.objets=[];const c=[];for(const[f,r]of s){const j=pt(f,r,t);c.push(j);const k=rt(j,e);k.style=o,k.taille=u,this.objets.push(k)}const b=lt(...c);b.epaisseur=h,b.color=z(l),i==="pointilles"&&(b.pointilles=5),this.objets.push(b),this.bordures=t.bordures}svg(s){let t="";if(this.objets==null)return t;for(const e of this.objets)t+=`
	`+e.svg(s);return t}tikz(){let s="";if(this.objets==null)return s;for(const t of this.objets)s+=`
	`+t.tikz();return s}svgml(s,t){let e="";if(this.objets==null)return e;for(const l of this.objets)typeof l.svgml>"u"?e+=`
	`+l.svg(s):e+=`
	`+l.svgml(s,t);return e}tikzml(s){let t="";if(this.objets==null)return t;for(const e of this.objets)typeof e.tikzml>"u"?t+=`
	`+e.tikz():t+=`
	`+e.tikzml(s);return t}}function Rt(n,s,{couleurDesPoints:t="red",couleurDuTrait:e="blue",styleDuTrait:l="",epaisseurDuTrait:i=2,styleDesPoints:h="x",tailleDesPoints:o=3}){return new dt(n,s,{couleurDesPoints:t,couleurDuTrait:e,styleDuTrait:l,epaisseurDuTrait:i,styleDesPoints:h,tailleDesPoints:o})}class mt extends L{constructor(t,e,l="",{epaisseur:i=.6,couleurDeRemplissage:h="blue",color:o="black",opaciteDeRemplissage:u=.3,angle:c=66,unite:b=1,hachures:f=!1}){super();w(this,"p");w(this,"texte");this.p=e===0?A(t,0):tt([x(t-i/2,0),x(t-i/2,e*b),x(t+i/2,e*b),x(t+i/2,0)]),this.p instanceof Q&&(this.p.couleurDeRemplissage=z(h),this.p.opaciteDeRemplissage=u,this.p.color=z(o),f&&(this.p.hachures=f));let r;this.texte=st(l,t,-.2,c,"black",1,"gauche"),this.p instanceof Q?r=X([this.p,this.texte],{rxmin:0,rxmax:0,rymin:0,rymax:0}):r=X([this.texte],{rxmin:0,rxmax:0,rymin:0,rymax:0}),this.bordures=[r.xmin,r.ymin,r.xmax,r.ymax]}tikz(){return this.p.tikz()+`
`+this.texte.tikz()}svg(t){return this.p.svg(t)+`
`+this.texte.svg(t)}}function jt(n,s,t="",{epaisseur:e=.6,couleurDeRemplissage:l="blue",color:i="black",opaciteDeRemplissage:h=.3,angle:o=66,unite:u=1,hachures:c=!1}){return new mt(n,s,t,{epaisseur:e,couleurDeRemplissage:l,color:i,opaciteDeRemplissage:h,angle:o,unite:u,hachures:c})}class kt extends L{constructor(t,e,l="",{epaisseur:i=.6,couleurDeRemplissage:h="blue",color:o="black",opaciteDeRemplissage:u=.3,unite:c=1,angle:b=0,hachures:f=!1}){super();w(this,"p");w(this,"texte");this.p=t===0?A(0,e):tt([x(0,e-i/2),x(0,e+i/2),x(c*t,e+i/2),x(c*t,e-i/2)]),this.p instanceof Q&&(this.p.couleurDeRemplissage=z(h),this.p.opaciteDeRemplissage=u,this.p.color=z(o),f&&(this.p.hachures=f)),this.texte=st(l,-.2,e,b,"black",1,"gauche")}tikz(){return this.p.tikz()+`
`+this.texte.tikz()}svg(t){return this.p.svg(t)+`
`+this.texte.svg(t)}}function Ht(n,s,t="",{epaisseur:e=.6,couleurDeRemplissage:l="blue",color:i="black",opaciteDeRemplissage:h=.3,unite:o=1,angle:u=0,hachures:c=!1}){return new kt(n,s,t,{epaisseur:e,couleurDeRemplissage:l,color:i,opaciteDeRemplissage:h,unite:o,angle:u,hachures:c})}class gt extends L{constructor(s,t,{reperageTraitPointille:e=!1,couleurDeRemplissage:l="blue",titreAxeVertical:i="",titre:h="",hauteurDiagramme:o=5,coeff:u=2,axeVertical:c=!1,etiquetteValeur:b=!0,labelAxeVert:f=!1}){super(),this.objets=[];for(let r=0;r<s.length;r++){const j=r*u,k=s[r]*o/G(s);if(this.objets.push(jt(j,k,t[r],{couleurDeRemplissage:l})),e){const T=ut(-1,k,j,k);T.pointilles=5,T.epaisseur=.2,this.objets.push(T)}b&&s[r]!==0&&this.objets.push(F(bt(s[r]),x(j,k+.5)));const O=[1,2,5,10,20],V=[1,2,5,5,5];let m=1,p=1,g=1;for(;G(s)/p>5&&m<5;)m+=1,p=O[m-1],g=V[m-1];for(m===5&&(m=2);G(s)/p>5;)m=m+1,p=m*10,g=5;f&&this.objets.push(ft(0,G(s),p*o/Math.max(...s),"black",-3,Math.max(...s)/o)),c&&this.objets.push(xt(0,o+1,.2,p*o/Math.max(...s),.2,"black",g,i))}h!==""&&this.objets.push(F(h,x(-3,o+1),0,"black",1,"droite",!1,1)),this.bordures=[1e3,1e3,-1e3,-1e3];for(const r of this.objets)r.bordures!==void 0&&(this.bordures=[Math.min(this.bordures[0],r.bordures[0]),Math.min(this.bordures[1],r.bordures[1]),Math.max(this.bordures[2],r.bordures[2]),Math.max(this.bordures[3],r.bordures[3])])}svg(s){let t="";if(this.objets==null)return t;for(const e of this.objets)t+=`
	`+e.svg(s);return t}tikz(){let s="";if(this.objets==null)return s;for(const t of this.objets)s+=`
	`+t.tikz();return s}}function Tt(n,s,{reperageTraitPointille:t=!1,couleurDeRemplissage:e="blue",titreAxeVertical:l="",titre:i="",hauteurDiagramme:h=5,coeff:o=2,axeVertical:u=!1,etiquetteValeur:c=!0,labelAxeVert:b=!1}={}){return new gt(n,s,{reperageTraitPointille:t,couleurDeRemplissage:e,titreAxeVertical:l,titre:i,hauteurDiagramme:h,coeff:o,axeVertical:u,etiquetteValeur:c,labelAxeVert:b})}class vt extends L{constructor({effectifs:t=[],x:e=0,y:l=0,rayon:i=4,labels:h=[],semi:o=!1,legendeAffichage:u=!0,legendePosition:c="droite",mesures:b=[],visibles:f=[],pourcents:r=[],valeurs:j=[],hachures:k=[],remplissage:O=[]}={}){super();w(this,"x");w(this,"y");this.objets=[];const m=at([0,1,3,4,5,6,7,8,9,10],t.length);this.bordures=[1e3,1e3,-1e3,-1e3],this.x=e,this.y=l;const p=x(this.x+i,this.y+(o?0:i)),g=x(this.x+2*i,o?this.y:this.y+i),T=o?$(y(p,R(i,0)),p,180,!0,"white","black"):ht(p,i,"black");let q;switch(c){case"droite":q={x:this.x+2*i+1,y:this.y};break;case"dessus":q={x:this.x,y:this.y+(o?i+1:2*i+1)};break;case"dessous":default:q={x:this.x,y:this.y-1.5};break}let v=x(q.x,q.y);const et=o?180:360,W=t.reduce((a,d)=>a+d,0),_=[],J=[],K=[],S=[],U=[];let C=0,H=0;for(let a=0,d,M,D,Y,P;a<t.length;a++){switch(M=et*t[a]/W,d=$(ct(g,p,C),p,M,!0),k[a]?(P=nt(m[a]),d.hachures=P,d.couleurDesHachures=z(N(a+1)),d.couleurDeRemplissage=z(N(a+2))):(P="",d.hachures=""),d.opaciteDeRemplissage=.7,O[a]&&(d.couleurDeRemplissage=z(N(a+1))),f[a]&&_.push(d),j[a]&&K.push(Z(I(t[a]),E(g,p,C+M*3/4,.8),"black",20,12,"yellow",8)),r[a]&&S.push(Z(I(100*t[a]/W,0)+"\\%",E(g,p,C+M/4,.8),"black",20,12,"yellow",8)),b[a]&&U.push(Z(I(M,0)+"^\\circ",E(g,p,C+M/2,.6),"black",20,12,"yellow",8)),C+=M,c){case"droite":D=B(y(v,R(0,1.5*a)),y(v,R(1,1.5*a)),"black"),Y=F(h[a],y(v,R(1.2,a*1.5+.5)),0,"black",1.5,"gauche",!1),H=Math.max(H,h[a].length*.6);break;default:D=B(v,y(v,R(1,0)),"black"),Y=F(h[a],y(v,R(1.2,.5)),0,"black",1.5,"gauche",!1),v=y(v,R(h[a].length*.6+1,0)),H=H+h[a].length*.6+2.2;break}D.couleurDeRemplissage=d.couleurDeRemplissage,D.couleurDesHachures=d.couleurDesHachures,D.hachures=P,D.opaciteDeRemplissage=.7,J.push(D,Y)}this.objets.push(T),this.objets.push(..._),u&&this.objets.push(...J),this.objets.push(...K,...S,...U),this.bordures[0]=this.x-.5,this.bordures[1]=this.y-.5-(u&&c==="dessous"?2:0),this.bordures[2]=this.x+i*2+1+(u?c==="droite"?H:Math.max(H,this.x+i*2+1)-(this.x+i*2+1):0),this.bordures[3]=this.y+(o?i:i*2)+(u?c==="dessus"?2:c==="droite"?Math.max(this.y+(o?i:i*2),t.length*1.5)-(this.y+(o?i:i*2)):0:0)}svg(t){let e="";if(this.objets==null)return e;for(const l of this.objets)e+=`
	`+l.svg(t);return e}ttikz(){let t="";if(this.objets==null)return t;for(const e of this.objets)t+=`
	`+e.tikz();return t}}function qt({effectifs:n,x:s=0,y:t=0,rayon:e=4,labels:l=[],semi:i=!1,legendeAffichage:h=!0,legendePosition:o="droite",mesures:u=[],visibles:c=[],pourcents:b=[],valeurs:f=[],hachures:r=[],remplissage:j=[]}={}){return new vt({effectifs:n,x:s,y:t,rayon:e,labels:l,semi:i,legendeAffichage:h,legendePosition:o,mesures:u,visibles:c,pourcents:b,valeurs:f,hachures:r,remplissage:j})}export{jt as a,Rt as b,Tt as c,qt as d,Ht as t};
//# sourceMappingURL=diagrammes-Ca68zVYD.js.map

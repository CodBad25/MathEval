{"version":3,"file":"can1P05-nKBdMwK5.js","sources":["../../src/exercices/can/1e/can1P05.ts"],"sourcesContent":["import { choice } from '../../../lib/outils/arrayOutils'\nimport { texNombre } from '../../../lib/outils/texNombre'\nimport Exercice from '../../Exercice'\nimport { mathalea2d } from '../../../modules/2dGeneralites'\nimport { listeQuestionsToContenu, randint } from '../../../modules/outils'\nimport Decimal from 'decimal.js'\nimport { Arbre } from '../../../modules/arbres'\n\nimport { ajouteChampTexteMathLive } from '../../../lib/interactif/questionMathLive'\n\nimport { setReponse } from '../../../lib/interactif/gestionInteractif'\n\nexport const titre =\n  'Utiliser la formule des probabilités totales dans un arbre'\nexport const dateDePublication = '05/07/2022'\nexport const interactifReady = true\nexport const interactifType = 'mathLive'\nexport const amcReady = true\nexport const amcType = 'AMCNum'\n\n/**\n *\n * @author Gilles Mora\n\n */\nexport const uuid = 'ee478'\n\nexport const refs = {\n  'fr-fr': ['can1P05'],\n  'fr-ch': [],\n}\nexport default class CalculProbaFormuleProbaTotale extends Exercice {\n  constructor() {\n    super()\n\n    this.sup = true\n    this.keyboard = [\n      'numbers',\n      'fullOperations',\n      'variables',\n      'trigo',\n      'advanced',\n    ]\n\n    this.nbQuestions = 1\n  }\n\n  nouvelleVersion() {\n    for (\n      let i = 0,\n        cpt = 0,\n        reponse1,\n        reponse2,\n        pA,\n        pBsachantA,\n        pBbarresachantAbarre,\n        pBbarresachantA,\n        pAbarre,\n        pBsachantAbarre,\n        omega,\n        texte,\n        texteCorr,\n        objets;\n      i < this.nbQuestions && cpt < 50;\n\n    ) {\n      objets = []\n      // On choisit les probas de l'arbre\n      pA = new Decimal(randint(1, 9, 5)).div(10)\n      pAbarre = new Decimal(pA).mul(-1).add(1)\n      pBsachantA = new Decimal(randint(1, 9, 5)).div(10)\n      pBbarresachantA = new Decimal(pBsachantA).mul(-1).add(1)\n      pBsachantAbarre = new Decimal(randint(1, 9, 5)).div(10)\n      pBbarresachantAbarre = new Decimal(pBsachantAbarre).mul(-1).add(1)\n      reponse1 = new Decimal(pA)\n        .mul(pBsachantA)\n        .add(new Decimal(pAbarre).mul(pBsachantAbarre))\n      reponse2 = new Decimal(pA)\n        .mul(pBbarresachantA)\n        .add(new Decimal(pAbarre).mul(pBbarresachantAbarre))\n      switch (\n        choice([1, 2]) //\n      ) {\n        case 1:\n          // On définit l'arbre complet\n          omega = new Arbre({\n            racine: true,\n            rationnel: false,\n            nom: '',\n            proba: 1,\n            visible: false,\n            alter: '',\n            enfants: [\n              new Arbre({\n                rationnel: false,\n                nom: 'A',\n                proba: pA,\n                alter: '',\n                enfants: [\n                  new Arbre({\n                    rationnel: false,\n                    nom: 'B',\n                    proba: pBsachantA,\n                    alter: '',\n                  }),\n                  new Arbre({\n                    rationnel: false,\n                    nom: '\\\\overline{B}',\n                    proba: pBbarresachantA,\n                  }),\n                ],\n              }),\n              new Arbre({\n                rationnel: false,\n                nom: '\\\\overline{A}',\n                proba: pAbarre,\n                enfants: [\n                  new Arbre({\n                    rationnel: false,\n                    nom: 'B',\n                    proba: pBsachantAbarre,\n                  }),\n                  new Arbre({\n                    rationnel: false,\n                    nom: '\\\\overline{B}',\n                    proba: pBbarresachantAbarre,\n                  }),\n                ],\n              }),\n            ],\n          })\n\n          omega.setTailles() // On calcule les tailles des arbres.\n          objets = omega.represente(0, 7, 0, 1.5, true, 1) // On crée l'arbre complet echelle 1.4 feuilles verticales sens gauche-droite\n          texte = `On donne l'arbre de probabilités ci-dessous :<br>\n          \n          `\n          texte += mathalea2d(\n            {\n              xmin: -0.1,\n              xmax: 14,\n              ymin: 0,\n              ymax: 7,\n              style: 'inline',\n              scale: 0.5,\n            },\n            ...objets,\n          )\n\n          if (this.interactif) {\n            texte += '<br>$P(B)=$ '\n            texte += ajouteChampTexteMathLive(this, i, ' lycee')\n          } else {\n            texte += `<br>\n          \n          Calculer $P(B)$. `\n          }\n\n          texteCorr = ` D'après la formule des probabilités totales, <br>\n         $\\\\begin{aligned}\n      P(B)&=P(A\\\\cap B)+P(\\\\overline{A}\\\\cap B)\\\\\\\\\n      &= P(A)\\\\times P_{A}(B)+P(\\\\overline{A})\\\\times P_{\\\\overline{A}}(B)\\\\\\\\\n      &=${texNombre(pA, 1)}\\\\times ${texNombre(pBsachantA, 1)}+${texNombre(pAbarre, 1)}\\\\times ${texNombre(pBsachantAbarre, 1)}\\\\\\\\\n      &=${texNombre(reponse1, 2)}\n      \\\\end{aligned}$\n      `\n          setReponse(this, i, reponse1)\n          this.canEnonce = texte\n          this.canReponseACompleter = ''\n          break\n        case 2:\n          // On définit l'arbre complet\n          omega = new Arbre({\n            racine: true,\n            rationnel: false,\n            nom: '',\n            proba: 1,\n            visible: false,\n            alter: '',\n            enfants: [\n              new Arbre({\n                rationnel: false,\n                nom: 'A',\n                proba: pA,\n                alter: '',\n                enfants: [\n                  new Arbre({\n                    rationnel: false,\n                    nom: 'B',\n                    proba: pBsachantA,\n                    alter: '',\n                  }),\n                  new Arbre({\n                    rationnel: false,\n                    nom: '\\\\overline{B}',\n                    proba: pBbarresachantA,\n                  }),\n                ],\n              }),\n              new Arbre({\n                rationnel: false,\n                nom: '\\\\overline{A}',\n                proba: pAbarre,\n                enfants: [\n                  new Arbre({\n                    rationnel: false,\n                    nom: 'B',\n                    proba: pBsachantAbarre,\n                  }),\n                  new Arbre({\n                    rationnel: false,\n                    nom: '\\\\overline{B}',\n                    proba: pBbarresachantAbarre,\n                  }),\n                ],\n              }),\n            ],\n          })\n\n          omega.setTailles() // On calcule les tailles des arbres.\n          objets = omega.represente(0, 7, 0, 1.5, true, 1) // On crée l'arbre complet echelle 1.4 feuilles verticales sens gauche-droite\n          texte = `On donne l’arbre de probabilités ci-dessous :<br>\n\n         `\n          texte += mathalea2d(\n            {\n              xmin: -0.1,\n              xmax: 14,\n              ymin: 0,\n              ymax: 7,\n              style: 'inline',\n              scale: 0.5,\n            },\n            ...objets,\n          )\n\n          if (this.interactif) {\n            texte += '<br> $P(\\\\overline{B})=$ '\n            texte += ajouteChampTexteMathLive(this, i, ' lycee')\n          } else {\n            texte += `<br>\n          \n          Calculer $P(\\\\overline{B})$. `\n          }\n\n          texteCorr = ` D'après la formule des probabilités totales, <br>\n           $\\\\begin{aligned}\n        P(\\\\overline{B})&=P(A\\\\cap \\\\overline{B})+P(\\\\overline{A}\\\\cap \\\\overline{B})\\\\\\\\\n        &= P(A)\\\\times P_{A}(\\\\overline{B})+P(\\\\overline{A})\\\\times P_{\\\\overline{A}}(\\\\overline{B})\\\\\\\\\n        &=${texNombre(pA, 1)}\\\\times ${texNombre(pBbarresachantA, 1)}+${texNombre(pAbarre, 1)}\\\\times ${texNombre(pBbarresachantAbarre, 1)}\\\\\\\\\n        &=${texNombre(reponse2, 2)}\n        \\\\end{aligned}$\n        `\n          setReponse(this, i, reponse2)\n          this.canEnonce = texte\n          this.canReponseACompleter = ''\n          break\n      }\n      if (this.questionJamaisPosee(i, pA, pBsachantA, pBsachantAbarre)) {\n        this.listeQuestions[i] = texte\n        this.listeCorrections[i] = texteCorr\n        i++\n      }\n      cpt++\n    }\n    listeQuestionsToContenu(this)\n  }\n}\n"],"names":["titre","dateDePublication","interactifReady","interactifType","amcReady","amcType","uuid","refs","CalculProbaFormuleProbaTotale","Exercice","i","cpt","reponse1","reponse2","pA","pBsachantA","pBbarresachantAbarre","pBbarresachantA","pAbarre","pBsachantAbarre","omega","texte","texteCorr","objets","Decimal","randint","choice","Arbre","mathalea2d","ajouteChampTexteMathLive","texNombre","setReponse","listeQuestionsToContenu"],"mappings":"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"}
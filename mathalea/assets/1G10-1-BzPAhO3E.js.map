{"version":3,"file":"1G10-1-BzPAhO3E.js","sources":["../../src/exercices/1e/1G10-1.ts"],"sourcesContent":["import { point, tracePoint } from '../../lib/2d/points.js'\nimport { droite } from '../../lib/2d/droites.js'\nimport { vecteur, longueur } from '../../lib/2d/segmentsVecteurs.js'\nimport { grille } from '../../lib/2d/reperes.js'\nimport { projectionOrtho } from '../../lib/2d/transformations.js'\nimport { miseEnEvidence, texteGras } from '../../lib/outils/embellissements.js'\nimport Exercice from '../Exercice.js'\nimport { listeQuestionsToContenu, randint } from '../../modules/outils.js'\nimport {\n  fixeBordures,\n  mathalea2d,\n  colorToLatexOrHTML,\n} from '../../modules/2dGeneralites.js'\nimport { labelPoint } from '../../lib/2d/textes.js'\nimport { codageAngleDroit } from '../../lib/2d/angles.js'\nimport { combinaisonListes } from '../../lib/outils/arrayOutils'\nimport { ajouteChampTexteMathLive } from '../../lib/interactif/questionMathLive'\nimport { KeyboardType } from '../../lib/interactif/claviers/keyboard'\nimport { handleAnswers } from '../../lib/interactif/gestionInteractif'\n\nexport const titre = 'Calculer des produits scalaires par projection'\nexport const interactifReady = true\nexport const interactifType = 'mathLive'\nexport const uuid = 'c88fa'\nexport const ref = '1G10-1'\nexport const refs = {\n  'fr-fr': [],\n  'fr-ch': [],\n}\nexport default class SuperExoMathalea2d extends Exercice {\n  constructor() {\n    super()\n    this.nbQuestions = 1\n  }\n\n  nouvelleVersion() {\n    const casDisponibles = ['horizontale', 'verticale', 'angle droit penché ']\n    const casProjection = combinaisonListes(casDisponibles, this.nbQuestions)\n    const casPositionH = randint(1, 3) // de même sens, de sens opposé ou projeté nul\n\n    for (let i = 0, cpt = 0; i < this.nbQuestions && cpt < 50; ) {\n      let x1 = 0\n      let y1 = 0\n      let x2 = 0\n      let y2 = 0\n      const objetsEnonce = []\n      const objetsCorrection = []\n\n      const A = point(0, 0, 'A')\n      function generateur() {\n        return randint(3, 5) * randint(-1, 1, [0])\n      }\n      switch (casProjection[i]) {\n        case 'horizontale':\n          x1 = generateur()\n          y1 = 0\n          break\n        case 'verticale':\n          y1 = generateur()\n          x1 = 0\n          break\n        default: {\n          // case 'angle droit penché'\n          const germes = [\n            [1, 1],\n            [1, 2],\n            [2, 1],\n            [3, 2],\n            [2, 3],\n          ]\n          const couple = germes[randint(0, germes.length - 1)] // On tire un germe au hasard\n          let coeff = randint(-1, 1, [0]) * randint(1, 2)\n          x1 = couple[0] * coeff\n          y1 = couple[1] * coeff\n          coeff = randint(1, 2) * randint(-1, 1, [0])\n          x2 = -couple[1] * coeff\n          y2 = couple[0] * coeff\n        }\n      }\n\n      if (casProjection[i] !== 'angle droit penché') {\n        switch (casPositionH) {\n          case 1:\n            if (x1 === 0) {\n              // @remi : Jamais de == car '0' == 0 est vrai donc on utilise ===\n              x2 = generateur()\n              y2 = (randint(3, 5) * y1) / Math.abs(y1)\n            } else {\n              x2 = (randint(3, 5) * x1) / Math.abs(x1)\n              y2 = generateur()\n            }\n            break\n          case 2:\n            if (x1 === 0) {\n              x2 = generateur()\n              y2 = (-randint(3, 5) * y1) / Math.abs(y1)\n            } else {\n              x2 = (-randint(3, 5) * x1) / Math.abs(x1)\n              y2 = generateur()\n            }\n            break\n          default: // case 3:\n            if (x1 === 0) {\n              x2 = generateur()\n              y2 = 0\n            } else {\n              x2 = 0\n              y2 = generateur()\n            }\n            break\n        }\n      }\n      let B,\n        C,\n        H,\n        d1,\n        d2,\n        monCodage,\n        pointProjete,\n        surDroite,\n        autrePoint,\n        AH,\n        autreLongueur\n      if (randint(0, 1) > 0) {\n        pointProjete = 'B'\n        autrePoint = 'C'\n        surDroite = '(AC)'\n\n        B = point(x2, y2, 'B')\n        C = point(x1, y1, 'C')\n        autreLongueur = longueur(A, C)\n\n        d1 = droite(A, C)\n        d1.pointilles = 1\n        d1.color = colorToLatexOrHTML('green')\n\n        H = projectionOrtho(B, d1, 'H')\n        AH = longueur(A, H)\n        monCodage = codageAngleDroit(A, H, B)\n\n        d2 = droite(B, H)\n        d2.pointilles = 1\n        d2.color = colorToLatexOrHTML('blue')\n      } else {\n        pointProjete = 'C'\n        autrePoint = 'B'\n        surDroite = '(AB)'\n\n        C = point(x2, y2, 'C')\n        B = point(x1, y1, 'B')\n        autreLongueur = longueur(A, B)\n\n        d1 = droite(A, B)\n        d1.pointilles = 1\n        d1.color = colorToLatexOrHTML('blue')\n\n        H = projectionOrtho(C, d1, 'H')\n        monCodage = codageAngleDroit(A, H, C)\n        AH = longueur(A, H)\n\n        d2 = droite(C, H)\n        d2.pointilles = 1\n        d2.color = colorToLatexOrHTML('green')\n      }\n      if (casPositionH === 3 || casProjection[i] === 'angle droit penché') {\n        monCodage = codageAngleDroit(B, A, C)\n      }\n\n      const g = grille(-8, -6, 8, 6)\n      const u = vecteur(A, B)\n      const v = vecteur(A, C)\n      const w = vecteur(A, H)\n\n      const U = u.representant(A)\n      U.color = colorToLatexOrHTML('blue')\n      const V = v.representant(A)\n      V.color = colorToLatexOrHTML('green')\n      const W = w.representant(A)\n      W.color = colorToLatexOrHTML('red')\n      if (casProjection[i] === 'angle droit penché') {\n        monCodage.color = colorToLatexOrHTML('red')\n        objetsEnonce.push(\n          g,\n          tracePoint(A, B, C),\n          labelPoint(A, B, C),\n          U,\n          V,\n          monCodage,\n        )\n      } else {\n        objetsEnonce.push(g, tracePoint(A, B, C), labelPoint(A, B, C), U, V)\n      }\n\n      // (fixeBordures(ObjetsEnonce) va fixer les limites optimales de xmin, xmax, ymin, ymax à partir des bordures des objets)\n      const paramsEnonce = Object.assign({}, fixeBordures(objetsEnonce), {\n        pixelsParCm: 20,\n        scale: 1,\n        mainlevee: false,\n      })\n\n      let texte =\n        'Calculer le produit scalaire des vecteurs $\\\\overrightarrow{AB}$ et $\\\\overrightarrow{AC}$ en utilisant le quadrillage.<br>'\n      texte += \"L'unité correspond au côté d'un carreau de quadrillage.\"\n\n      let texteCorr = ''\n\n      if (casPositionH === 3 || casProjection[i] === 'angle droit penché') {\n        texteCorr += `Comme les deux vecteurs $\\\\overrightarrow{AB}$ et $\\\\overrightarrow{AC}$ sont ${texteGras('orthogonaux')}, je déduis que $${miseEnEvidence('\\\\overrightarrow{AB} \\\\cdot \\\\overrightarrow{AC} = 0', 'black')}$.`\n        objetsCorrection.push(\n          g,\n          tracePoint(A, B, C),\n          labelPoint(A, B, C),\n          U,\n          V,\n          W,\n          d1,\n          d2,\n          monCodage,\n        )\n      } else if (casPositionH === 2) {\n        texteCorr += `Soit $H$ le projeté orthogonal de  $${pointProjete}$ sur $${surDroite}$. Les vecteurs $\\\\overrightarrow{AH}$ et $\\\\overrightarrow{A${autrePoint}}$ sont ${texteGras('de sens opposés')}.<br> J'en déduis que $\\\\overrightarrow{AB} \\\\cdot \\\\overrightarrow{AC} = - AH \\\\times A${autrePoint} = -${AH} \\\\times ${autreLongueur}= ${miseEnEvidence(`${-AH * autreLongueur}`, 'black')}$.`\n        objetsCorrection.push(\n          g,\n          tracePoint(A, B, C),\n          labelPoint(A, B, C, H),\n          U,\n          V,\n          W,\n          d1,\n          d2,\n          monCodage,\n        )\n      } else if (casPositionH === 1) {\n        texteCorr += `Soit $H$ le projeté orthogonal de  $${pointProjete}$ sur $${surDroite}$. Les vecteurs $\\\\overrightarrow{AH}$ et $\\\\overrightarrow{A${autrePoint}}$ sont ${texteGras('de même sens')}.<br> J'en déduis que $\\\\overrightarrow{AB} \\\\cdot \\\\overrightarrow{AC} =  AH \\\\times A${autrePoint} = ${AH} \\\\times ${autreLongueur}= ${miseEnEvidence(`${AH * autreLongueur}`, 'black')}$.`\n        objetsCorrection.push(\n          g,\n          tracePoint(A, B, C),\n          labelPoint(A, B, C, H),\n          U,\n          V,\n          W,\n          d1,\n          d2,\n          monCodage,\n        )\n      }\n\n      const paramsCorrection = Object.assign(\n        {},\n        fixeBordures(objetsCorrection),\n        { pixelsParCm: 20, scale: 1, mainlevee: false },\n      )\n      texte += mathalea2d(paramsEnonce, objetsEnonce)\n      if (this.interactif) {\n        texte += '<br><br>$\\\\overrightarrow{AB} \\\\cdot \\\\overrightarrow{AC} = $'\n        texte += ajouteChampTexteMathLive(this, i, KeyboardType.clavierDeBase)\n        handleAnswers(this, i, { reponse: { value: x1 * x2 + y1 * y2 } })\n      }\n      texteCorr += mathalea2d(paramsCorrection, objetsCorrection)\n      if (this.questionJamaisPosee(i, x1, x2, y1, y2)) {\n        this.listeQuestions[i] = texte\n        this.listeCorrections[i] = texteCorr\n        i++\n      }\n      cpt++\n    }\n    listeQuestionsToContenu(this)\n  }\n}\n"],"names":["titre","interactifReady","interactifType","uuid","ref","refs","SuperExoMathalea2d","Exercice","casProjection","combinaisonListes","casPositionH","randint","i","cpt","generateur","x1","y1","x2","y2","objetsEnonce","objetsCorrection","A","point","germes","couple","coeff","B","C","H","d1","d2","monCodage","pointProjete","surDroite","autrePoint","AH","autreLongueur","longueur","droite","colorToLatexOrHTML","projectionOrtho","codageAngleDroit","g","grille","u","vecteur","v","w","U","V","W","tracePoint","labelPoint","paramsEnonce","fixeBordures","texte","texteCorr","texteGras","miseEnEvidence","paramsCorrection","mathalea2d","ajouteChampTexteMathLive","KeyboardType","handleAnswers","listeQuestionsToContenu"],"mappings":"s4FAoBO,MAAMA,GAAQ,iDACRC,GAAkB,GAClBC,GAAiB,WACjBC,GAAO,QACPC,GAAM,SACNC,GAAO,CAClB,QAAS,CAAA,EACT,QAAS,CAAA,CACX,EACA,MAAqBC,WAA2BC,CAAS,CACvD,aAAc,CACZ,MAAA,EACA,KAAK,YAAc,CACrB,CAEA,iBAAkB,CAEhB,MAAMC,EAAgBC,EADC,CAAC,cAAe,YAAa,qBAAqB,EACjB,KAAK,WAAW,EAClEC,EAAeC,EAAQ,EAAG,CAAC,EAEjC,QAASC,EAAI,EAAGC,EAAM,EAAGD,EAAI,KAAK,aAAeC,EAAM,IAAM,CAS3D,IAASC,EAAT,UAAsB,CACpB,OAAOH,EAAQ,EAAG,CAAC,EAAIA,EAAQ,GAAI,EAAG,CAAC,CAAC,CAAC,CAC3C,EAVII,EAAK,EACLC,EAAK,EACLC,EAAK,EACLC,EAAK,EACT,MAAMC,EAAe,CAAA,EACfC,EAAmB,CAAA,EAEnBC,EAAIC,EAAM,EAAG,EAAG,GAAG,EAIzB,OAAQd,EAAcI,CAAC,EAAA,CACrB,IAAK,cACHG,EAAKD,EAAA,EACLE,EAAK,EACL,MACF,IAAK,YACHA,EAAKF,EAAA,EACLC,EAAK,EACL,MACF,QAAS,CAEP,MAAMQ,EAAS,CACb,CAAC,EAAG,CAAC,EACL,CAAC,EAAG,CAAC,EACL,CAAC,EAAG,CAAC,EACL,CAAC,EAAG,CAAC,EACL,CAAC,EAAG,CAAC,CAAA,EAEDC,EAASD,EAAOZ,EAAQ,EAAGY,EAAO,OAAS,CAAC,CAAC,EACnD,IAAIE,EAAQd,EAAQ,GAAI,EAAG,CAAC,CAAC,CAAC,EAAIA,EAAQ,EAAG,CAAC,EAC9CI,EAAKS,EAAO,CAAC,EAAIC,EACjBT,EAAKQ,EAAO,CAAC,EAAIC,EACjBA,EAAQd,EAAQ,EAAG,CAAC,EAAIA,EAAQ,GAAI,EAAG,CAAC,CAAC,CAAC,EAC1CM,EAAK,CAACO,EAAO,CAAC,EAAIC,EAClBP,EAAKM,EAAO,CAAC,EAAIC,CACnB,CAAA,CAGF,GAAIjB,EAAcI,CAAC,IAAM,qBACvB,OAAQF,EAAA,CACN,IAAK,GACCK,IAAO,GAETE,EAAKH,EAAA,EACLI,EAAMP,EAAQ,EAAG,CAAC,EAAIK,EAAM,KAAK,IAAIA,CAAE,IAEvCC,EAAMN,EAAQ,EAAG,CAAC,EAAII,EAAM,KAAK,IAAIA,CAAE,EACvCG,EAAKJ,EAAA,GAEP,MACF,IAAK,GACCC,IAAO,GACTE,EAAKH,EAAA,EACLI,EAAM,CAACP,EAAQ,EAAG,CAAC,EAAIK,EAAM,KAAK,IAAIA,CAAE,IAExCC,EAAM,CAACN,EAAQ,EAAG,CAAC,EAAII,EAAM,KAAK,IAAIA,CAAE,EACxCG,EAAKJ,EAAA,GAEP,MACF,QACMC,IAAO,GACTE,EAAKH,EAAA,EACLI,EAAK,IAELD,EAAK,EACLC,EAAKJ,EAAA,GAEP,KAAA,CAGN,IAAIY,EACFC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACEzB,EAAQ,EAAG,CAAC,EAAI,GAClBqB,EAAe,IACfE,EAAa,IACbD,EAAY,OAEZP,EAAIJ,EAAML,EAAIC,EAAI,GAAG,EACrBS,EAAIL,EAAMP,EAAIC,EAAI,GAAG,EACrBoB,EAAgBC,EAAShB,EAAGM,CAAC,EAE7BE,EAAKS,EAAOjB,EAAGM,CAAC,EAChBE,EAAG,WAAa,EAChBA,EAAG,MAAQU,EAAmB,OAAO,EAErCX,EAAIY,EAAgBd,EAAGG,EAAI,GAAG,EAC9BM,EAAKE,EAAShB,EAAGO,CAAC,EAClBG,EAAYU,EAAiBpB,EAAGO,EAAGF,CAAC,EAEpCI,EAAKQ,EAAOZ,EAAGE,CAAC,EAChBE,EAAG,WAAa,EAChBA,EAAG,MAAQS,EAAmB,MAAM,IAEpCP,EAAe,IACfE,EAAa,IACbD,EAAY,OAEZN,EAAIL,EAAML,EAAIC,EAAI,GAAG,EACrBQ,EAAIJ,EAAMP,EAAIC,EAAI,GAAG,EACrBoB,EAAgBC,EAAShB,EAAGK,CAAC,EAE7BG,EAAKS,EAAOjB,EAAGK,CAAC,EAChBG,EAAG,WAAa,EAChBA,EAAG,MAAQU,EAAmB,MAAM,EAEpCX,EAAIY,EAAgBb,EAAGE,EAAI,GAAG,EAC9BE,EAAYU,EAAiBpB,EAAGO,EAAGD,CAAC,EACpCQ,EAAKE,EAAShB,EAAGO,CAAC,EAElBE,EAAKQ,EAAOX,EAAGC,CAAC,EAChBE,EAAG,WAAa,EAChBA,EAAG,MAAQS,EAAmB,OAAO,IAEnC7B,IAAiB,GAAKF,EAAcI,CAAC,IAAM,wBAC7CmB,EAAYU,EAAiBf,EAAGL,EAAGM,CAAC,GAGtC,MAAMe,EAAIC,GAAO,GAAI,GAAI,EAAG,CAAC,EACvBC,EAAIC,EAAQxB,EAAGK,CAAC,EAChBoB,EAAID,EAAQxB,EAAGM,CAAC,EAChBoB,EAAIF,EAAQxB,EAAGO,CAAC,EAEhBoB,EAAIJ,EAAE,aAAavB,CAAC,EAC1B2B,EAAE,MAAQT,EAAmB,MAAM,EACnC,MAAMU,EAAIH,EAAE,aAAazB,CAAC,EAC1B4B,EAAE,MAAQV,EAAmB,OAAO,EACpC,MAAMW,EAAIH,EAAE,aAAa1B,CAAC,EAC1B6B,EAAE,MAAQX,EAAmB,KAAK,EAC9B/B,EAAcI,CAAC,IAAM,sBACvBmB,EAAU,MAAQQ,EAAmB,KAAK,EAC1CpB,EAAa,KACXuB,EACAS,EAAW9B,EAAGK,EAAGC,CAAC,EAClByB,EAAW/B,EAAGK,EAAGC,CAAC,EAClBqB,EACAC,EACAlB,CAAA,GAGFZ,EAAa,KAAKuB,EAAGS,EAAW9B,EAAGK,EAAGC,CAAC,EAAGyB,EAAW/B,EAAGK,EAAGC,CAAC,EAAGqB,EAAGC,CAAC,EAIrE,MAAMI,EAAe,OAAO,OAAO,CAAA,EAAIC,EAAanC,CAAY,EAAG,CACjE,YAAa,GACb,MAAO,EACP,UAAW,EAAA,CACZ,EAED,IAAIoC,EACF,8HACFA,GAAS,0DAET,IAAIC,EAAY,GAEZ9C,IAAiB,GAAKF,EAAcI,CAAC,IAAM,sBAC7C4C,GAAa,iFAAiFC,EAAU,aAAa,CAAC,oBAAoBC,EAAe,uDAAwD,OAAO,CAAC,KACzNtC,EAAiB,KACfsB,EACAS,EAAW9B,EAAGK,EAAGC,CAAC,EAClByB,EAAW/B,EAAGK,EAAGC,CAAC,EAClBqB,EACAC,EACAC,EACArB,EACAC,EACAC,CAAA,GAEOrB,IAAiB,GAC1B8C,GAAa,uCAAuCxB,CAAY,UAAUC,CAAS,gEAAgEC,CAAU,WAAWuB,EAAU,iBAAiB,CAAC,2FAA2FvB,CAAU,OAAOC,CAAE,YAAYC,CAAa,KAAKsB,EAAe,GAAG,CAACvB,EAAKC,CAAa,GAAI,OAAO,CAAC,KACjYhB,EAAiB,KACfsB,EACAS,EAAW9B,EAAGK,EAAGC,CAAC,EAClByB,EAAW/B,EAAGK,EAAGC,EAAGC,CAAC,EACrBoB,EACAC,EACAC,EACArB,EACAC,EACAC,CAAA,GAEOrB,IAAiB,IAC1B8C,GAAa,uCAAuCxB,CAAY,UAAUC,CAAS,gEAAgEC,CAAU,WAAWuB,EAAU,cAAc,CAAC,0FAA0FvB,CAAU,MAAMC,CAAE,YAAYC,CAAa,KAAKsB,EAAe,GAAGvB,EAAKC,CAAa,GAAI,OAAO,CAAC,KAC3XhB,EAAiB,KACfsB,EACAS,EAAW9B,EAAGK,EAAGC,CAAC,EAClByB,EAAW/B,EAAGK,EAAGC,EAAGC,CAAC,EACrBoB,EACAC,EACAC,EACArB,EACAC,EACAC,CAAA,GAIJ,MAAM4B,EAAmB,OAAO,OAC9B,CAAA,EACAL,EAAalC,CAAgB,EAC7B,CAAE,YAAa,GAAI,MAAO,EAAG,UAAW,EAAA,CAAM,EAEhDmC,GAASK,EAAWP,EAAclC,CAAY,EAC1C,KAAK,aACPoC,GAAS,gEACTA,GAASM,EAAyB,KAAMjD,EAAGkD,GAAa,aAAa,EACrEC,GAAc,KAAMnD,EAAG,CAAE,QAAS,CAAE,MAAOG,EAAKE,EAAKD,EAAKE,CAAA,CAAG,CAAG,GAElEsC,GAAaI,EAAWD,EAAkBvC,CAAgB,EACtD,KAAK,oBAAoBR,EAAGG,EAAIE,EAAID,EAAIE,CAAE,IAC5C,KAAK,eAAeN,CAAC,EAAI2C,EACzB,KAAK,iBAAiB3C,CAAC,EAAI4C,EAC3B5C,KAEFC,GACF,CACAmD,GAAwB,IAAI,CAC9B,CACF"}
var G=Object.defineProperty;var J=(n,a,r)=>a in n?G(n,a,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[a]=r;var h=(n,a,r)=>J(n,typeof a!="symbol"?a+"":a,r);import{Q as M,r as x,b2 as v,ba as p,R}from"./index-DjA7ROjC.js";import{t as P,g as w,h as b,O as A}from"./2dLutin-Cw_yepyY.js";const m=[["Blanc","Blanc","Blanc","Blanc","Blanc","Blanc","Blanc","Blanc","Blanc","Blanc","Blanc","Blanc","Blanc","Blanc","Blanc","Blanc"],["Blanc","Noir","Jaune","Bleu","Vert","Orange","Rouge","Orange","Noir","Jaune","Gris","Vert","Rose","Noir","Jaune","Blanc"],["Blanc","Rouge","Bleu","Orange","Jaune","Rose","Gris","Jaune","Rose","Gris","Jaune","Bleu","Rouge","Gris","Rouge","Blanc"],["Blanc","Rose","Vert","Gris","Rouge","Noir","Bleu","Vert","Noir","Vert","Bleu","Rose","Gris","Vert","Orange","Blanc"],["Blanc","Vert","Bleu","Rose","Vert","Bleu","Orange","Gris","Rouge","Orange","Jaune","Gris","Rouge","Rose","Bleu","Blanc"],["Blanc","Noir","Orange","Rouge","Orange","Jaune","Rouge","Blanc","Blanc","Noir","Gris","Orange","Noir","Jaune","Rose","Blanc"],["Blanc","Rose","Gris","Noir","Bleu","Vert","Bleu","Blanc","Blanc","Rouge","Bleu","Gris","Vert","Rouge","Noir","Blanc"],["Blanc","Noir","Rouge","Rose","Vert","Orange","Rose","Noir","Orange","Vert","Jaune","Rose","Noir","Rose","Vert","Blanc"],["Blanc","Orange","Gris","Rouge","Jaune","Noir","Vert","Rouge","Rose","Noir","Bleu","Vert","Jaune","Orange","Gris","Blanc"],["Blanc","Bleu","Jaune","Orange","Vert","Gris","Jaune","Gris","Orange","Gris","Rose","Bleu","Rouge","Bleu","Orange","Blanc"],["Blanc","Rose","Bleu","Jaune","Rose","Orange","Rouge","Bleu","Noir","Jaune","Gris","Vert","Jaune","Noir","Rouge","Blanc"],["Blanc","Blanc","Blanc","Blanc","Blanc","Blanc","Blanc","Blanc","Blanc","Blanc","Blanc","Blanc","Blanc","Blanc","Blanc","Blanc"]];function S(n,a,r){let o=!1,t;const e=j({x:0,y:0,orientation:0,plateau:r.plateauNLC,relatif:r.relatif,nx:r.nx,ny:r.ny,pas:r.pas});e.currentPos.x=r.currentPos.x,e.currentPos.y=r.currentPos.y,e.currentOrientation=r.currentOrientation;for(let s=0;s<n;s++)if(t=T(a,e),t[0])e.currentPos.x=t[1],e.currentPos.y=t[2],e.currentOrientation=t[3];else{o=!0;break}return[!o,e.currentPos.x,e.currentPos.y,e.currentOrientation]}function I(n,a,r){const o=function(u,f,B,k){switch(k){case 0:case 360:B+=u;break;case 90:case-270:f+=u;break;case 180:case-180:B-=u;break;case 270:case-90:f-=u;break}return[f,B]};let t=r.currentPos.x,e=r.currentPos.y,s=r.currentOrientation,i;switch(n){case"AV20":[t,e]=o(20,t,e,s),i="\\blockmove{avancer de \\ovalnum{20} pas}",a!==void 0&&b(20,a);break;case"AV30":[t,e]=o(30,t,e,s),i="\\blockmove{avancer de \\ovalnum{30} pas}",a!==void 0&&b(30,a);break;case"AV40":[t,e]=o(40,t,e,s),i="\\blockmove{avancer de \\ovalnum{40} pas}",a!==void 0&&b(40,a);break;case"AV60":[t,e]=o(60,t,e,s),i="\\blockmove{avancer de \\ovalnum{60} pas}",a!==void 0&&b(60,a);break;case"AV80":[t,e]=o(80,t,e,s),i="\\blockmove{avancer de \\ovalnum{80} pas}",a!==void 0&&b(80,a);break;case"AV90":[t,e]=o(90,t,e,s),i="\\blockmove{avancer de \\ovalnum{90} pas}",a!==void 0&&b(90,a);break;case"AV100":[t,e]=o(100,t,e,s),i="\\blockmove{avancer de \\ovalnum{100} pas}",a!==void 0&&b(100,a);break;case"AV120":[t,e]=o(120,t,e,s),i="\\blockmove{avancer de \\ovalnum{120} pas}",a!==void 0&&b(120,a);break;case"AV150":[t,e]=o(150,t,e,s),i="\\blockmove{avancer de \\ovalnum{150} pas}",a!==void 0&&b(150,a);break;case"TD90":s===180?s=-90:s+=90,i="\\blockmove{tourner \\turnright{} de \\ovalnum{90} degrés}",a!==void 0&&P(90,a);break;case"TG90":s===-90?s=180:s-=90,i="\\blockmove{tourner \\turnleft{} de \\ovalnum{90} degrés}",a!==void 0&&w(90,a);break;case"TD180":case"TG180":s===0?s=180:s===-90?s=90:s===90?s=-90:s=0,i="\\blockmove{tourner \\turnright{} de \\ovalnum{180} degrés}",a!==void 0&&P(180,a);break;case"NLC":default:i="\\blocklist{Note la couleur}";break}return r.testCoords(t,e)?[!0,t,e,s,i,a]:[!1,r.currentPos.x,r.currentPos.y,r.currentOrientation,i,a]}function T(n,a){let r=!1,o;const t=j({x:0,y:0,orientation:0,plateau:a.plateauNLC,relatif:a.relatif,nx:a.nx,ny:a.ny,pas:a.pas});t.currentPos.x=a.currentPos.x,t.currentPos.y=a.currentPos.y,t.currentOrientation=a.currentOrientation;for(let e=0;e<n.length;e++)if(o=I(n[e],t.objetLutin,t),o[0])t.currentPos.x=o[1],t.currentPos.y=o[2],t.currentOrientation=o[3];else{r=!0;break}return[!r,t.currentPos.x,t.currentPos.y,t.currentOrientation]}function C(n){switch(n){case"Blanc":return"white";case"Bleu":return"DodgerBlue";case"Noir":return"black";case"Rouge":return"red";case"Jaune":return"yellow";case"Rose":return"HotPink";case"Vert":return"green";case"Orange":return"DarkOrange";case"Gris":return"gray"}}function L(n){switch(n){case"Blanc":return"0";case"Bleu":return"3";case"Noir":return"1";case"Rouge":return"2";case"Jaune":return"6";case"Rose":return"5";case"Vert":return"7";case"Orange":return"4";case"Gris":return"8"}}class D{constructor({x:a=15,y:r=15,orientation:o=90,relatif:t=!0,nx:e=16,ny:s=12,pas:i=30,plateau:u=m}){h(this,"objetLutin");h(this,"plateauNLC");h(this,"currentPos");h(this,"currentOrientation");h(this,"codeScratch");h(this,"currentIndex");h(this,"relatif");h(this,"pas");h(this,"nx");h(this,"ny");this.plateauNLC=u,this.currentPos={x:a,y:r},this.currentOrientation=o,this.codeScratch="",this.currentIndex=0,this.relatif=t,this.pas=i,this.nx=e,this.ny=s,this.objetLutin=new A,this.objetLutin.x=a,this.objetLutin.y=r,this.objetLutin.orientation=o}nlc(){return this.plateauNLC[Math.ceil(((this.relatif?(this.ny-1)*this.pas>>1:(this.ny-1)*this.pas)-this.currentPos.y)/this.pas)][Math.ceil(((this.relatif?(this.nx-1)*this.pas>>1:-this.pas>>1)+this.currentPos.x)/this.pas)]}testCoords(a,r){return!(a<(this.relatif?(1-this.nx)*this.pas>>1:this.pas>>1)||a>(this.relatif?this.nx*this.pas>>1:(this.nx-.5)*this.pas)||r<(this.relatif?(1-this.ny)*this.pas>>1:this.pas>>1)||r>(this.relatif?this.ny*this.pas>>1:(this.ny-.5)*this.pas))}}function j({x:n=15,y:a=15,orientation:r=90,plateau:o=m,relatif:t=!0,nx:e=16,ny:s=12,pas:i=30}={}){return new D({x:n,y:a,orientation:r,relatif:t,plateau:o,nx:e,ny:s,pas:i})}class V extends M{constructor({type:r=1,melange:o=!1,scale:t=.5,relatif:e=!0,pas:s=30,nx:i=16,ny:u=12,plateau:f=m}={}){super();h(this,"relatif");h(this,"pas");h(this,"type");h(this,"scale");h(this,"nx");h(this,"ny");h(this,"plateauNLC");if(this.relatif=e,this.pas=s,this.type=1,this.scale=t,this.nx=i,this.ny=u,this.plateauNLC=f,this.objets=[],o)for(let l=0,c,d,g,y,O;l<20;l++)g=x(1,this.ny-2),y=x(1,this.ny-2,g),c=x(1,this.nx-2),d=x(1,this.nx-2),O=this.plateauNLC[g][c],this.plateauNLC[g][c]=this.plateauNLC[y][d],this.plateauNLC[y][d]=O;this.objets=[];let B;for(let l=0;l<this.nx;l++)for(let c=0;c<this.ny;c++){switch(r){case 1:B=new v({xMin:l*1.5+(i>>1)*(e?-1.5:0),yMin:c*1.5+(u>>1)*(e?-1.5:0),xMax:(l+1)*1.5+(i>>1)*(e?-1.5:0),yMax:(c+1)*1.5+(u>>1)*(e?-1.5:0)}).addColor({color:"black",opacity:.8,backgroudOpacity:.7,colorBackground:C(this.plateauNLC[u-1-c][l])});break;case 2:B=new v({xMin:l*1.5+(i>>1)*(e?-1.5:0),yMin:c*1.5+(u>>1)*(e?-1.5:0),xMax:(l+1)*1.5+(i>>1)*(e?-1.5:0),yMax:(c+1)*1.5+(u>>1)*(e?-1.5:0)}).addColor({color:"black",opacity:.8,backgroudOpacity:.7,colorBackground:C(this.plateauNLC[u-1-c][l])}).addTextIn({size:1.2,textIn:L(this.plateauNLC[u-1-c][l]),color:"black",opacity:.8});break;case 3:B=new v({xMin:l*1.5+(i>>1)*(e?-1.5:0),yMin:c*1.5+(u>>1)*(e?-1.5:0),xMax:(l+1)*1.5+(i>>1)*(e?-1.5:0),yMax:(c+1)*1.5+(u>>1)*(e?-1.5:0)}).addColor({color:"black",opacity:.8,backgroudOpacity:1,colorBackground:"white"}).addTextIn({color:"black",opacity:.9,textIn:this.plateauNLC[u-1-c][l],size:.9});break;case 4:default:B=new v({xMin:l*1.5+(i>>1)*(e?-1.5:0),yMin:c*1.5+(u>>1)*(e?-1.5:0),xMax:(l+1)*1.5+(i>>1)*(e?-1.5:0),yMax:(c+1)*1.5+(u>>1)*(e?-1.5:0)}).addColor({color:"black",backgroudOpacity:1,colorBackground:"white",opacity:.8}).addTextIn({size:1.2,color:"black",opacity:.9,textIn:L(this.plateauNLC[u-1-c][l])});break}const d=B.render();this.objets.push(...Array.isArray(d)?d:[d])}this.relatif&&this.objets.push(p(`-${this.pas}`,-1.6,-.4,0,"black",1.2,"milieu",!0,t)),this.objets.push(p(`${this.pas}`,1.5,-.4,0,"black",1.2,"milieu",!0,t)),this.objets.push(p("0",-.3,-.4,0,"black",1.2,"milieu",!0,t)),this.relatif&&this.objets.push(p(`-${this.pas}`,-.5,-1.5,0,"black",1.2,"milieu",!0,t)),this.objets.push(p(`${this.pas}`,-.5,1.5,0,"black",1.2,"milieu",!0,t)),this.objets.push(p("x",this.nx*(this.relatif?.75:1.5)+.7,(this.relatif,-.6),0,"purple",1.2,"milieu",!0,t)),this.objets.push(p("y",-.4,this.ny*(this.relatif?.75:1.5)+.7,0,"purple",1.2,"milieu",!0,t)),this.relatif&&(this.objets.push(p("+",(this.nx>>1)*1.5+.8,0,0,"purple",1.2,"milieu",!0,t)),this.objets.push(p("-",-(this.nx>>1)*1.5-.5,.2,0,"purple",1.2,"milieu",!0,t)),this.objets.push(p("+",0,(this.ny>>1)*1.5+.8,0,"purple",1.2,"milieu",!0,t)),this.objets.push(p("-",0,-(this.ny>>1)*1.5-.5,0,"purple",1.2,"milieu",!0,t)));const k=R(0,(this.ny>>1)*(this.relatif?-1.5:0),0,(this.ny>>1)*(this.relatif?1.5:3)+.5,"purple");k.styleExtremites="->";const N=R((this.nx>>1)*(this.relatif?-1.5:0),0,(this.nx>>1)*(this.relatif?1.5:3)+.5,0,"purple");N.styleExtremites="->",this.objets.push(k),this.objets.push(N)}}function q({type:n=1,melange:a=!1,scale:r=.5,relatif:o=!0,pas:t=30,nx:e=16,ny:s=12,plateau:i}={}){return i!==void 0?new V({type:n,melange:a,scale:r,relatif:o,pas:t,nx:e,ny:s,plateau:i}):new V({type:n,melange:a,scale:r,relatif:o,pas:t,nx:e,ny:s})}export{V as P,I as a,L as b,S as c,C as d,m as e,j as n,q as p,T as t};
//# sourceMappingURL=noteLaCouleur-B6V56ecr.js.map

var f=Object.defineProperty;var w=(m,h,e)=>h in m?f(m,h,{enumerable:!0,configurable:!0,writable:!0,value:e}):m[h]=e;var u=(m,h,e)=>w(m,typeof h!="symbol"?h+"":h,e);import{H as p}from"./horloge-CYEVKMWI.js";import{E as S,r as g,bk as v,P as b,m as A,aN as M,o as k}from"./index-DjA7ROjC.js";/* empty css                         */import"./vendors/svelte-DYHmJxok.js";import"./vendors/ua-parser-js-IGXSU7q4.js";import"./vendors/instrumenpoche-CSnohZOK.js";import"./vendors/sesajstools-DShOIGrY.js";import"./vendors/ansi-styles-C5UZWym2.js";import"./vendors/decimal.js-16C9rIKp.js";import"./vendors/katex-DRsvfONx.js";import"./vendors/seedrandom-CNNRxp22.js";import"./vendors/crypto-js-jSnn2346.js";import"./vendors/apigeom-w0ofBCni.js";import"./vendors/mathjs-oaIJR0Fd.js";import"./vendors/babel_runtime-91SaXnVV.js";import"./vendors/javascript-natural-sort-CZcnv-xn.js";import"./vendors/escape-latex-D2RmlMiC.js";import"./vendors/complex.js-CUuq6tox.js";import"./vendors/typed-function-DLw9ktPY.js";import"./vendors/fraction.js-CAdrwJ1J.js";import"./vendors/tiny-emitter-DDQe9_b_.js";import"./vendors/xstate-CiXeYAGM.js";import"./vendors/earcut-jJVragJp.js";import"./vendors/roughjs-GtHDBO_d.js";import"./json/referentielStaticCH-BvJ6T55O.js";import"./json/referentielStaticFR-CRF_Hjtf.js";import"./json/uuidsToUrlFR-BAWSFQnt.js";import"./vendors/cortex-js_compute-engine-CK5Y8453.js";import"./vendors/mathlive-DtHmjDB4.js";import"./vendors/bugsnag_js-CkCWaA3t.js";import"./vendors/bugsnag_browser-d00kmNSm.js";import"./vendors/big-integer-Cu-VsFVy.js";import"./json/codeToLevelList-Cc4cPPvZ.js";import"./json/codeToThemeList-xPVrG8Yb.js";import"./vendors/mixer_postmessage-rpc-Knoq2TfA.js";import"./vendors/eventemitter3-6E4L_h32.js";import"./vendors/scratchblocks-BVGw3YSR.js";import"./json/scratchFr-DbCU7OC2.js";import"./json/refToUuidFR-BGtQQjtA.js";import"./json/refToUuidCH-Dm7pY6Rc.js";import"./vendors/loadjs-BzrfRgSk.js";import"./vendors/svelte-gestures-u4km4ICX.js";import"./vendors/tw-elements-Cl8JxGRl.js";import"./json/uuidsRessources-CtbQ0Y2s.js";import"./json/referentielProfs-Cey1_luL.js";import"./json/referentielBibliotheque-BkZtqQRj.js";import"./vendors/jszip-CxmGZ1c2.js";import"./vendors/jszip-utils-D5kR6ObF.js";import"./vendors/file-saver-FyOmtGcA.js";import"./vendors/copy-image-clipboard-Cf9y-QAU.js";import"./vendors/qrcode-SHonoxyK.js";import"./vendors/dijkstrajs-D_NXgYpA.js";import"./vendors/svelte-french-toast-BHXPj9o3.js";import"./vendors/svelte-writable-derived-Cn90q3ND.js";import"./vendors/brace-BiTXuHwf.js";import"./json/referentielAppsTierce-SxU58PZT.js";import"./vendors/sortablejs-C83syoBY.js";import"./json/carouselContent-BScQaKkw.js";import"./json/levelsThemesList-HiwLnYG4.js";import"./json/levelsThemesListCH-CWlgSx1G.js";import"./json/referentiel2022CH-B8vRIdSG.js";import"./json/referentiel2022FR-Bx-nUux7.js";import"./json/referentielGeometrieDynamique-BJ2PHXsv.js";import"./json/referentielRessources-BU2QQoSD.js";import"./json/referentielsActivation-CpD_hoec.js";class x extends HTMLElement{constructor(){super();u(this,"svgHandHour");u(this,"svgHandMinute");u(this,"svgHandSecond");u(this,"radius",200);u(this,"showHands",!0);u(this,"showSecond",!1);u(this,"draggingHand");u(this,"previousMinute",0);u(this,"previousSecond",0);u(this,"_isDynamic",!0);u(this,"_currentAction");this.hour=this.getAttribute("hour")?Number(this.getAttribute("hour")):12,this.minute=this.getAttribute("minute")?Number(this.getAttribute("minute")):0,this.svgHandHour=document.createElementNS("http://www.w3.org/2000/svg","line"),this.svgHandMinute=document.createElementNS("http://www.w3.org/2000/svg","line"),this.svgHandSecond=document.createElementNS("http://www.w3.org/2000/svg","line"),this.showHands=this.getAttribute("showHands")!=="false",this.showSecond=this.hasAttribute("showSecond")?this.getAttribute("showSecond")!=="false":!1,this.isDynamic=this.getAttribute("isDynamic")!=="false",this.draggingHand=!1}connectedCallback(){const e=document.createElement("div");e.className="flex flex-wrap items-center";const s=document.createElement("div");s.className="flex-1 flex justify-center items-center p-8";const t=document.createElementNS("http://www.w3.org/2000/svg","svg");s.appendChild(t),t.setAttribute("width","200"),t.setAttribute("height","200"),t.setAttribute("viewBox","-200 -200 400 400");const a=document.createElementNS("http://www.w3.org/2000/svg","circle");a.setAttribute("cx","0"),a.setAttribute("cy","0"),a.setAttribute("r","200"),a.setAttribute("stroke","black"),a.setAttribute("stroke-opacity","0.8"),a.setAttribute("fill","none"),t.appendChild(a);const o=document.createElementNS("http://www.w3.org/2000/svg","circle");o.setAttribute("cx","0"),o.setAttribute("cy","0"),o.setAttribute("r","10"),o.setAttribute("stroke","black"),o.setAttribute("fill","black"),t.appendChild(o);for(let i=1;i<=12;i++){const r=i/12*2*Math.PI,n=Math.sin(r)*160,c=-Math.cos(r)*160,d=document.createElementNS("http://www.w3.org/2000/svg","text");d.setAttribute("x",n.toString()),d.setAttribute("y",c.toString()),d.setAttribute("text-anchor","middle"),d.setAttribute("alignment-baseline","middle"),d.setAttribute("font-size","20"),d.textContent=i.toString(),d.setAttribute("pointer-events","none"),d.style.userSelect="none",d.style.webkitUserSelect="none",t.appendChild(d)}for(let i=0;i<60;i++){const r=i/60*2*Math.PI;let n=Math.sin(r)*190,c=-Math.cos(r)*190;const d=Math.sin(r)*200,H=-Math.cos(r)*200;i%5===0&&(n=Math.sin(r)*180,c=-Math.cos(r)*180);const l=document.createElementNS("http://www.w3.org/2000/svg","line");l.setAttribute("x1",n.toString()),l.setAttribute("y1",c.toString()),l.setAttribute("x2",d.toString()),l.setAttribute("y2",H.toString()),l.setAttribute("stroke","black"),i%5===0&&l.setAttribute("stroke-width","5"),t.appendChild(l)}if(this.showHands&&(this.svgHandHour=this.createHand(100,"hour"),this.svgHandMinute=this.createHand(150,"minute"),this.showSecond&&(this.svgHandSecond=this.createHand(170,"second")),this.updateHandHour(),this.updateHandMinute(),this.showSecond&&this.updateHandSecond(),t.appendChild(this.svgHandHour),t.appendChild(this.svgHandMinute),this.showSecond&&t.appendChild(this.svgHandSecond)),e.appendChild(s),this.appendChild(e),this.isDynamic){this.currentAction="minute";const i=c=>{c.preventDefault()},r=c=>{this.draggingHand=!0,t.addEventListener("pointermove",i,{passive:!1}),t.addEventListener("touchmove",i,{passive:!1})},n=()=>{this.draggingHand=!1,t.removeEventListener("pointermove",i),t.removeEventListener("touchmove",i)};t.addEventListener("pointerdown",r),t.addEventListener("pointerup",n),t.addEventListener("pointermove",c=>this.dragHand(c)),t.addEventListener("touchstart",r),t.addEventListener("touchend",n),t.addEventListener("touchmove",c=>this.dragHand(c)),this.svgHandHour.addEventListener("pointerdown",c=>{this.draggingHand=!0,this.currentAction="hour",r()}),this.svgHandHour.addEventListener("pointerup",n),this.svgHandMinute.addEventListener("pointerdown",c=>{this.draggingHand=!0,this.currentAction="minute",r()}),this.svgHandMinute.addEventListener("pointerup",n),this.showSecond&&(this.svgHandSecond.addEventListener("pointerdown",c=>{this.draggingHand=!0,this.currentAction="second",r()}),this.svgHandSecond.addEventListener("pointerup",n))}}createHand(e,s){const t=document.createElementNS("http://www.w3.org/2000/svg","line");return t.setAttribute("x1","0"),t.setAttribute("y1","0"),t.setAttribute("stroke","black"),s==="hour"?t.setAttribute("stroke-width","12"):s==="minute"?t.setAttribute("stroke-width","8"):t.setAttribute("stroke-width","3"),t.setAttribute("stroke-linecap","round"),t.setAttribute("class",s+"-hand"),t}updateHandHour(e=!0){let s=this.hour/12*2*Math.PI;e&&(s+=this.minute/360*Math.PI);const t=Math.sin(s)*100,a=-Math.cos(s)*100;this.svgHandHour.setAttribute("x2",t.toString()),this.svgHandHour.setAttribute("y2",a.toString())}updateHandMinute(){const e=this.minute/60*2*Math.PI,s=Math.sin(e)*150,t=-Math.cos(e)*150;this.svgHandMinute.setAttribute("x2",s.toString()),this.svgHandMinute.setAttribute("y2",t.toString())}updateHandSecond(){const e=this.second/60*2*Math.PI,s=Math.sin(e)*170,t=-Math.cos(e)*170;this.svgHandSecond.setAttribute("x2",s.toString()),this.svgHandSecond.setAttribute("y2",t.toString())}dragHand(e){if(!this.isDynamic||!this.draggingHand)return;const s=e.target.getBoundingClientRect(),t=e instanceof MouseEvent?e.clientX:e.touches[0].clientX,a=e instanceof MouseEvent?e.clientY:e.touches[0].clientY,o=t-s.left-s.width/2,i=a-s.top-s.height/2;if(Math.sqrt(o*o+i*i)<20)return;const r=(Math.atan2(i,o)+Math.PI/2+2*Math.PI)%(2*Math.PI),n=Math.round(r/(2*Math.PI)*(this.currentAction==="hour"?12:60));this.currentAction==="hour"?this.hour=n:this.currentAction==="minute"?(this.previousMinute>50&&n<10?this.hour=(this.hour+1)%12:this.previousMinute<10&&n>50&&(this.hour=(this.hour+11)%12),this.minute=n):this.currentAction==="second"&&(this.previousSecond>50&&n<10?this.minute=(this.minute+1)%60:this.previousSecond<10&&n>50&&(this.minute=(this.minute+59)%60),this.second=n),this.updateHandHour(),this.updateHandMinute(),this.updateHandSecond()}disconnectedCallback(){}get currentAction(){return this._currentAction}set currentAction(e){this._currentAction=e,e==="hour"?(this.svgHandHour.setAttribute("stroke","#216D9A"),this.svgHandMinute.setAttribute("stroke","#F15929"),this.svgHandSecond.setAttribute("stroke","#F15929")):e==="minute"?(this.svgHandHour.setAttribute("stroke","#F15929"),this.svgHandMinute.setAttribute("stroke","#216D9A"),this.svgHandSecond.setAttribute("stroke","#F15929")):e==="second"?(this.svgHandHour.setAttribute("stroke","#F15929"),this.svgHandMinute.setAttribute("stroke","#F15929"),this.svgHandSecond.setAttribute("stroke","#216D9A")):(this.svgHandHour.setAttribute("stroke","black"),this.svgHandMinute.setAttribute("stroke","black"),this.svgHandSecond.setAttribute("stroke","black"))}get hour(){return Number(this.getAttribute("hour"))}set hour(e){e===0&&(e=12),this.setAttribute("hour",e.toString())}get second(){return Number(this.getAttribute("second"))||0}set second(e){this.setAttribute("second",e.toString()),this.previousSecond=this.second}get isDynamic(){return this._isDynamic}set isDynamic(e){this._isDynamic=e,e||(this.currentAction=void 0)}get minute(){return Number(this.getAttribute("minute"))}set minute(e){this.setAttribute("minute",e.toString()),this.previousMinute=this.minute}}function E(){customElements.get("interactive-clock")===void 0&&customElements.define("interactive-clock",x)}const Bt="Indiquer l'heure sur une horloge",Kt=!0,y="custom",Rt="21/2/2025",Xt="51242",Yt={"fr-fr":["canc3D04","auto6M4B-flash1"],"fr-ch":["PR-5"]};class Ut extends S{constructor(){super();u(this,"goodAnswers",[]);u(this,"correctionInteractive",e=>{var i,r;const s=`clockEx${this.numeroExercice}Q${e}`,t=document.querySelector(`#${s}`);if(t==null)return"KO";t.isDynamic=!1;const a=t.getAttribute("hour"),o=t.getAttribute("minute");if(this.answers==null&&(this.answers={}),this.answers[s]=`${a}h${o.toString().padStart(2,"0")}`,a===C(this.goodAnswers[e].hour)&&o===this.goodAnswers[e].minute){const n=document.createElement("div");return n.innerHTML="üòé",(i=t.parentElement)==null||i.appendChild(n),"OK"}else{const n=document.createElement("div");return n.innerHTML=`‚òπÔ∏è Les aiguilles indiquent ${t.getAttribute("hour")} h ${v(t.getAttribute("minute"))}.`,(r=t.parentElement)==null||r.appendChild(n),"KO"}});this.nbQuestions=1,this.interactifType=y,E()}nouvelleVersion(e,s){for(let t=s??0,a=0;t<(s?s+1:this.nbQuestions)&&a<50;){let o=g(1,12),i=g(1,11)*5;this.canOfficielle&&(o=13,i=30);let r=`Placer correctement les aiguilles pour indiquer ${o} h ${v(i)}.`;if(b.isHtml)r+=`<br><br><interactive-clock id="clockEx${this.numeroExercice}Q${t}" isDynamic="${this.interactif}" showHands="${this.interactif}"/>`;else{const c=new p(0,0,2);r+=A({xmin:-3,ymin:-3,xmax:3,ymax:3,scale:.6,style:"margin: auto"},c)}let n="";if(b.isHtml)n=`<interactive-clock hour="${o}" minute="${i}" isDynamic="false"/>`;else{const c=new p(0,0,2,new M({hour:o,minute:i}));n=A({xmin:-3,ymin:-3,xmax:3,ymax:3,scale:.6,style:"margin: auto"},c)}this.questionJamaisPosee(t,o,i)&&(this.listeQuestions[t]=r,this.listeCorrections[t]=n,this.goodAnswers[t]={hour:o.toString(),minute:i.toString()},this.autoCorrection[t]={reponse:{valeur:{reponse:{value:o.toString()+"h"+i.toString()}},param:{formatInteractif:"custom"}}},t++),a++}k(this)}}function C(m){const h=parseInt(m);return h>12?(h-12).toString():h.toString()}export{Rt as dateDePublication,Ut as default,Kt as interactifReady,y as interactifType,Yt as refs,Bt as titre,Xt as uuid};
//# sourceMappingURL=canc3D04-CkdtmibS.js.map

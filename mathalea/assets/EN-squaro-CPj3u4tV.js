var k=Object.defineProperty;var y=(p,l,r)=>l in p?k(p,l,{enumerable:!0,configurable:!0,writable:!0,value:r}):p[l]=r;var a=(p,l,r)=>y(p,typeof l!="symbol"?l+"":l,r);import{E as v,r as C,aA as P,p as A,P as M}from"./index-DjA7ROjC.js";import{S as w,o as S,s as E,u as q,E as L}from"./vendors/apigeom-w0ofBCni.js";import{f as T}from"./figureApigeom-DndUfimW.js";/* empty css                         */import"./vendors/svelte-DYHmJxok.js";import"./vendors/ua-parser-js-IGXSU7q4.js";import"./vendors/instrumenpoche-CSnohZOK.js";import"./vendors/sesajstools-DShOIGrY.js";import"./vendors/ansi-styles-C5UZWym2.js";import"./vendors/decimal.js-16C9rIKp.js";import"./vendors/katex-DRsvfONx.js";import"./vendors/seedrandom-CNNRxp22.js";import"./vendors/crypto-js-jSnn2346.js";import"./vendors/mathjs-oaIJR0Fd.js";import"./vendors/babel_runtime-91SaXnVV.js";import"./vendors/javascript-natural-sort-CZcnv-xn.js";import"./vendors/escape-latex-D2RmlMiC.js";import"./vendors/complex.js-CUuq6tox.js";import"./vendors/typed-function-DLw9ktPY.js";import"./vendors/fraction.js-CAdrwJ1J.js";import"./vendors/tiny-emitter-DDQe9_b_.js";import"./vendors/earcut-jJVragJp.js";import"./vendors/roughjs-GtHDBO_d.js";import"./json/referentielStaticCH-BvJ6T55O.js";import"./json/referentielStaticFR-CRF_Hjtf.js";import"./json/uuidsToUrlFR-BAWSFQnt.js";import"./vendors/cortex-js_compute-engine-CK5Y8453.js";import"./vendors/mathlive-DtHmjDB4.js";import"./vendors/bugsnag_js-CkCWaA3t.js";import"./vendors/bugsnag_browser-d00kmNSm.js";import"./vendors/big-integer-Cu-VsFVy.js";import"./json/codeToLevelList-Cc4cPPvZ.js";import"./json/codeToThemeList-xPVrG8Yb.js";import"./vendors/mixer_postmessage-rpc-Knoq2TfA.js";import"./vendors/eventemitter3-6E4L_h32.js";import"./vendors/scratchblocks-BVGw3YSR.js";import"./json/scratchFr-DbCU7OC2.js";import"./json/refToUuidFR-BGtQQjtA.js";import"./json/refToUuidCH-Dm7pY6Rc.js";import"./vendors/loadjs-BzrfRgSk.js";import"./vendors/svelte-gestures-u4km4ICX.js";import"./vendors/tw-elements-Cl8JxGRl.js";import"./json/uuidsRessources-CtbQ0Y2s.js";import"./json/referentielProfs-Cey1_luL.js";import"./json/referentielBibliotheque-BkZtqQRj.js";import"./vendors/jszip-CxmGZ1c2.js";import"./vendors/jszip-utils-D5kR6ObF.js";import"./vendors/file-saver-FyOmtGcA.js";import"./vendors/copy-image-clipboard-Cf9y-QAU.js";import"./vendors/qrcode-SHonoxyK.js";import"./vendors/dijkstrajs-D_NXgYpA.js";import"./vendors/svelte-french-toast-BHXPj9o3.js";import"./vendors/svelte-writable-derived-Cn90q3ND.js";import"./vendors/brace-BiTXuHwf.js";import"./json/referentielAppsTierce-SxU58PZT.js";import"./vendors/sortablejs-C83syoBY.js";import"./json/carouselContent-BScQaKkw.js";import"./json/levelsThemesList-HiwLnYG4.js";import"./json/levelsThemesListCH-CWlgSx1G.js";import"./json/referentiel2022CH-B8vRIdSG.js";import"./json/referentiel2022FR-Bx-nUux7.js";import"./json/referentielGeometrieDynamique-BJ2PHXsv.js";import"./json/referentielRessources-BU2QQoSD.js";import"./json/referentielsActivation-CpD_hoec.js";import"./vendors/xstate-CiXeYAGM.js";const B="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'%20standalone='no'?%3e%3c!--%20Created%20with%20Inkscape%20(http://www.inkscape.org/)%20--%3e%3csvg%20width='48.542221mm'%20height='48.542221mm'%20viewBox='0%200%20172%20172'%20id='svg9132'%20version='1.1'%20inkscape:version='1.1.1%20(3bf5ae0d25,%202021-09-20)'%20sodipodi:docname='PointLibre.svg'%20xmlns:inkscape='http://www.inkscape.org/namespaces/inkscape'%20xmlns:sodipodi='http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:svg='http://www.w3.org/2000/svg'%20xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23'%20xmlns:cc='http://creativecommons.org/ns%23'%20xmlns:dc='http://purl.org/dc/elements/1.1/'%3e%3cdefs%20id='defs9134'%20/%3e%3csodipodi:namedview%20id='base'%20pagecolor='%23ffffff'%20bordercolor='%23666666'%20borderopacity='1.0'%20inkscape:pageopacity='0.0'%20inkscape:pageshadow='2'%20inkscape:zoom='9.963663'%20inkscape:cx='91.733331'%20inkscape:cy='91.733331'%20inkscape:document-units='px'%20inkscape:current-layer='layer1'%20showgrid='false'%20fit-margin-top='0'%20fit-margin-left='0'%20fit-margin-right='0'%20fit-margin-bottom='0'%20inkscape:window-width='3840'%20inkscape:window-height='2066'%20inkscape:window-x='1609'%20inkscape:window-y='-11'%20inkscape:window-maximized='1'%20inkscape:pagecheckerboard='0'%20/%3e%3cmetadata%20id='metadata9137'%3e%3crdf:RDF%3e%3ccc:Work%20rdf:about=''%3e%3cdc:format%3eimage/svg+xml%3c/dc:format%3e%3cdc:type%20rdf:resource='http://purl.org/dc/dcmitype/StillImage'%20/%3e%3c/cc:Work%3e%3c/rdf:RDF%3e%3c/metadata%3e%3cg%20inkscape:label='Calque%201'%20inkscape:groupmode='layer'%20id='layer1'%20transform='translate(-396.85714,-289.21935)'%3e%3ccircle%20id='circle1225'%20style='fill:blue;stroke:blue;stroke-width:0.9375'%20cx='482.85648'%20cy='369.90331'%20r='17.21113'/%3e%3c/g%3e%3c/svg%3e",D="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'%20standalone='no'?%3e%3c!--%20Created%20with%20Inkscape%20(http://www.inkscape.org/)%20--%3e%3csvg%20width='48.542221mm'%20height='48.542221mm'%20viewBox='0%200%20172%20172'%20id='svg9132'%20version='1.1'%20inkscape:version='1.1.1%20(3bf5ae0d25,%202021-09-20)'%20sodipodi:docname='PointLibre.svg'%20xmlns:inkscape='http://www.inkscape.org/namespaces/inkscape'%20xmlns:sodipodi='http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:svg='http://www.w3.org/2000/svg'%20xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23'%20xmlns:cc='http://creativecommons.org/ns%23'%20xmlns:dc='http://purl.org/dc/elements/1.1/'%3e%3cdefs%20id='defs9134'%20/%3e%3csodipodi:namedview%20id='base'%20pagecolor='%23ffffff'%20bordercolor='%23666666'%20borderopacity='1.0'%20inkscape:pageopacity='0.0'%20inkscape:pageshadow='2'%20inkscape:zoom='9.963663'%20inkscape:cx='91.733331'%20inkscape:cy='91.733331'%20inkscape:document-units='px'%20inkscape:current-layer='layer1'%20showgrid='false'%20fit-margin-top='0'%20fit-margin-left='0'%20fit-margin-right='0'%20fit-margin-bottom='0'%20inkscape:window-width='3840'%20inkscape:window-height='2066'%20inkscape:window-x='1609'%20inkscape:window-y='-11'%20inkscape:window-maximized='1'%20inkscape:pagecheckerboard='0'%20/%3e%3cmetadata%20id='metadata9137'%3e%3crdf:RDF%3e%3ccc:Work%20rdf:about=''%3e%3cdc:format%3eimage/svg+xml%3c/dc:format%3e%3cdc:type%20rdf:resource='http://purl.org/dc/dcmitype/StillImage'%20/%3e%3c/cc:Work%3e%3c/rdf:RDF%3e%3c/metadata%3e%3cg%20inkscape:label='Calque%201'%20inkscape:groupmode='layer'%20id='layer1'%20transform='translate(-396.85714,-289.21935)'%3e%3cpath%20id='rect1225'%20style='fill:red;stroke:red;stroke-width:0.9375;stroke-linecap:round;stroke-linejoin:round'%20d='m%20494.9404,357.8194%20-12.08391,12.08391%20-12.08392,-12.08391%20-5.12721,5.12721%2012.08391,12.08391%20-12.08391,12.08392%205.12721,5.12721%2012.08392,-12.08391%2012.08521,12.08521%205.12721,-5.12722%20-12.08521,-12.0852%2012.08392,-12.08392%20z'%20/%3e%3c/g%3e%3c/svg%3e",Ne="15/07/2024",Ke="Résoudre une grille de SquarO",Xe=!0,Ye="custom",Qe="e2024",Je={"fr-fr":["EN-SquarO"],"fr-ch":[]};class Ze extends v{constructor(){super();a(this,"figure");a(this,"figureCorrection");a(this,"goodAnswers");a(this,"nbSommets");a(this,"longueur");a(this,"largeur");a(this,"blueButton");a(this,"correctionInteractive",()=>{var u;this.answers==null&&(this.answers={}),this.answers[this.figure.id]=this.figure.json;const r=document.querySelector(`#feedbackEx${this.numeroExercice}Q0`);let d=!0,h=!0,g=0;for(let s=0;s<this.largeur;s++)for(let n=0;n<this.longueur;n++)h=(this.figure.checkCoords({x:n,y:this.largeur-s,color:"blue"}).isValid?1:0)+(this.figure.checkCoords({x:n,y:this.largeur-s-1,color:"blue"}).isValid?1:0)+(this.figure.checkCoords({x:n+1,y:this.largeur-s,color:"blue"}).isValid?1:0)+(this.figure.checkCoords({x:n+1,y:this.largeur-s-1,color:"blue"}).isValid?1:0)===this.nbSommets[n+s*this.longueur],h&&g++,d&&(d=h);this.figure.isDynamic=!1,this.figure.divButtons.style.display="none",this.figure.divUserMessage.style.display="none",(u=this.figure.buttons.get("SHAKE"))==null||u.click();const o=[...this.figure.elements.values()].filter(s=>s.type!=="pointer"&&s.type==="Point"&&s.color==="blue").length;d&&(d=o===this.goodAnswers.length);let c;return d?(r.innerHTML="Bravo !",["OK"]):(o===this.goodAnswers.length?c="Le nombre de points placés est correct mais "+(g===1?"seul 1 est bien placé.":`seuls ${g} sont bien placés.`):o>this.goodAnswers.length?c="Le nombre de points placés est trop important par rapport à ce qui est attendu.":c="Le nombre de points placés n'est pas assez important par rapport à ce qui est attendu.",r.innerHTML=c,["KO"])});this.goodAnswers=[],this.nbSommets=[],this.typeExercice="simple",this.nbQuestions=1,this.nbQuestionsModifiable=!1,this.reponse="",this.exoCustomResultat=!0,this.besoinFormulaireTexte=["Longueur de la grille","Choisir un nombre entier entre 2 et 15."],this.besoinFormulaire2Texte=["Hauteur de la grille","Choisir un nombre entier entre 2 et 15."],this.besoinFormulaire3CaseACocher=["Aide sur le nombre total de points bleus"],this.besoinFormulaire4Texte=["Nombre de points bleus déjà affichés",`1 : Un seul point
2 : Deux points
3 : Trois points
4 : Le quart des points
5 : Le tiers des points
6 : La moitié des points
7 : Aucun`],this.sup=5,this.sup2=5,this.sup3=!0,this.sup4=7,this.longueur=this.sup,this.largeur=this.sup2}nouvelleVersion(){this.consigne="Cette grille de SquarO est à compléter en plaçant un certain nombre de points bleus dans les ronds vides qui sont sur les sommets des cases. ",this.consigne+="Le chiffre présent dans chaque case indique le nombre de points bleus qui l’entourent parmi les 4 sommets.",this.consigne+=this.interactif?"<br>Si vous le souhaitez, vous pouvez placer les points rouges en forme de croix pour signaler des positions impossibles des points bleus.":"",this.comment="Grâce au choix de la longueur et de la hauteur de la grille et grâce à l'aide ci-dessus sur des points initialement affichés, vous pouvez graduer la difficulté des grilles SquarO proposées.",this.longueur=Math.max(2,Math.min(parseInt(this.sup),15))||2,this.largeur=Math.max(2,Math.min(parseInt(this.sup2),15))||2,this.figure=new w({xMin:-.25,yMin:-.25,width:this.longueur*30+20,height:this.largeur*30+20,border:!1}),this.figure.create("Grid",{strokeWidthGrid:1,color:"black",yMin:0,yMax:this.largeur,xMax:this.longueur,xMin:0,axeX:!1,axeY:!1,labelX:!1,labelY:!1}),this.figure.snapGrid=!0,this.figure.options.color="blue",this.figure.options.shape="o",this.figure.options.labelIsVisible=!1,this.figure.setToolbar({tools:["DRAG","REMOVE"],position:"top"}),this.figureCorrection=new w({xMin:-.25,yMin:-.25,width:this.longueur*30+20,height:this.largeur*30+20,border:!1}),this.figureCorrection.create("Grid",{strokeWidthGrid:1,color:"black",yMin:0,yMax:this.largeur,xMax:this.longueur,xMin:0,axeX:!1,axeY:!1,labelX:!1,labelY:!1}),this.figureCorrection.snapGrid=!0,this.figureCorrection.options.color=S,this.figureCorrection.options.shape="o",this.figureCorrection.options.labelIsVisible=!1,this.figure.options.gridWithTwoPointsOnSamePosition=!1;const r=()=>{var e;this.figure.options.shape="o",this.figure.options.color="blue",(e=this.figure.ui)==null||e.send("POINT")},d=()=>{var e;this.figure.options.shape="x",this.figure.options.color="red",(e=this.figure.ui)==null||e.send("POINT")},h=()=>{for(const e of this.figure.elements.values())e.type==="Point"&&e instanceof L&&e.isVisible&&e.remove();this.figure.saveState(),setTimeout(()=>{this.blueButton!=null&&this.blueButton.click()},500)};this.blueButton=this.figure.addCustomButton({action:r,tooltip:"Placer un point bleu",userMessage:"Cliquer pour placer un point bleu",url:B}),this.figure.addCustomButton({action:d,tooltip:"Placer une croix rouge",userMessage:"Cliquer pour placer une croix rouge",url:D}),this.figure.addCustomButton({action:h,tooltip:"Effacer tous les points",url:E});const g=T({exercice:this,i:0,figure:this.figure});this.goodAnswers=[];const o=[];for(let e=0;e<=this.largeur;e++)for(let i=0;i<=this.longueur;i++){const t=C(0,1);o.push(t),t===0&&(this.goodAnswers.push({x:i,y:this.largeur-e}),this.figureCorrection.create("Point",{x:i,y:this.largeur-e}))}let c=`Cette grille doit contenir ${P(this.goodAnswers.length.toString(),"blue")} `;c+=this.goodAnswers.length===1?"point bleu.":"points bleus.",this.nbSommets=[];for(let e=0;e<this.largeur;e++)for(let i=0;i<this.longueur;i++){const t=4-(o[i+e*(this.longueur+1)]+o[i+1+e*(this.longueur+1)]+o[i+(e+1)*(this.longueur+1)]+o[i+1+(e+1)*(this.longueur+1)]);this.nbSommets.push(t),this.figure.create("TextByPosition",{anchor:"middleCenter",text:t.toString(),x:i+.5,y:this.largeur-e-.5}),this.figureCorrection.create("TextByPosition",{anchor:"middleCenter",text:t.toString(),x:i+.5,y:this.largeur-e-.5})}for(let e=0;e<=this.largeur;e++)for(let i=0;i<=this.longueur;i++){const t=this.figure.create("Point",{x:i,y:e,isVisible:!1,color:"white",isSelectable:!1});this.figure.create("Circle",{center:t,radius:.2,fillColor:"white",color:"black",fillOpacity:1,isSelectable:!1})}this.figure.elements.forEach(e=>{e instanceof q&&(e.isDeletable=!1)});let u=0;switch(this.sup4){case"1":case"2":case"3":u=parseInt(this.sup4);break;case"4":u=this.goodAnswers.length/4;break;case"5":u=this.goodAnswers.length/3;break;case"6":u=this.goodAnswers.length/2;break}let s=this.goodAnswers.slice();for(let e=0;e<u;e++){const i=A(s);this.figure.create("Point",{x:i.x,y:i.y,color:"blue"}),s=s.filter(t=>!(t.x===i.x&&t.y===i.y))}if(this.interactif){this.figure.divUserMessage.style.textAlign="left";const e=document.createElement("div"),i=document.createElement("div"),t=document.createElement("input");t.type="checkbox",t.id=`${this.numeroExercice}checkboxAide`,t.checked=!0,t.onchange=()=>{e.style.display=t.checked?"block":"none"};const m=document.createElement("label");m.htmlFor=`${this.numeroExercice}checkboxAide`,m.textContent="Afficher le nombre de points bleus présents sur la grille",m.classList.add("m-2"),i.classList.add("mt-4","text-coopmaths-struct"),e.classList.add("mt-4","text-coopmaths-struct"),this.figure.divFigureAndUserMessage.appendChild(i),i.appendChild(t),i.appendChild(m),this.figure.divFigureAndUserMessage.appendChild(e),this.figure.onChange(()=>{const f=[...this.figure.elements.values()].filter(x=>x.type==="Point"&&x.color==="blue").length;e.innerHTML=`Cette grille contient actuellement ${f} point${f===1?"":"s"} bleu${f===1?"":"s"}.`});const b=()=>{this.blueButton.click(),document.removeEventListener("exercicesAffiches",b)};document.addEventListener("exercicesAffiches",b)}else this.figure.isDynamic=!1,this.figure.divButtons.style.display="none",this.figure.divUserMessage.style.display="none";const n="Voici une solution possible :<br>";if(this.question=(this.sup3?c:"")+g,this.correction=n+this.figureCorrection.getStaticHtml(),!M.isHtml){let e="";for(let i=0;i<o.length-1;i++)e+=o[i]+",";e+=o[o.length-1],this.question=(this.sup3?"<br>"+c:"")+`<br><br>\\SquarO[Largeur=${this.largeur},Longueur=${this.longueur},Perso]{`,this.question+=e,this.question+="}",this.correction=`Voici une solution possible :<br>\\SquarO[Largeur=${this.largeur},Longueur=${this.longueur},Perso,Solution]{`,this.correction+=e,this.correction+="}"}}}export{Ne as dateDePublication,Ze as default,Xe as interactifReady,Ye as interactifType,Je as refs,Ke as titre,Qe as uuid};
//# sourceMappingURL=EN-squaro-CPj3u4tV.js.map

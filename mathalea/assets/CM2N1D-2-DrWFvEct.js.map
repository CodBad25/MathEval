{"version":3,"file":"CM2N1D-2-DrWFvEct.js","sources":["../../src/exercices/CM/CM2N1D-2.ts"],"sourcesContent":["import { choice, shuffle2tableaux } from '../../lib/outils/arrayOutils'\nimport { texNombre } from '../../lib/outils/texNombre'\nimport {\n  contraindreValeur,\n  gestionnaireFormulaireTexte,\n  listeQuestionsToContenu,\n  randint,\n} from '../../modules/outils'\nimport Exercice from '../Exercice'\n\nimport Decimal from 'decimal.js'\nimport type { MathfieldElement } from 'mathlive'\nimport { KeyboardType } from '../../lib/interactif/claviers/keyboard'\nimport { setReponse } from '../../lib/interactif/gestionInteractif'\nimport { ajouteChampTexteMathLive } from '../../lib/interactif/questionMathLive'\nimport { context } from '../../modules/context'\n\nexport const titre = 'Recomposer un entier'\nexport const interactifReady = true\nexport const interactifType = 'custom'\nexport const amcReady = true\nexport const amcType = 'AMCOpen'\nexport const dateDePublication = '14/08/2022'\nexport const dateDeModifImportante = '24/08/2024'\nexport const glossaire = [\n  ['unit√©', 'unit√©s'],\n  ['dizaine', 'dizaines'],\n  ['centaine', 'centaines'],\n  ['mille', 'mille'],\n  ['dizaine de mille', 'dizaines de mille'],\n  ['centaine de mille', 'centaines de mille'],\n  ['million', 'millions'],\n  ['dizaine de millions', 'dizaines de millions'],\n  ['centaine de millions', 'centaines de millions'],\n  ['milliard', 'milliards'],\n  ['dizaine de milliards', 'dizaines de milliards'],\n  ['centaine de milliards', 'centaines de milliards'],\n]\n\n/**\n * @author Jean-Claude Lhote\n\n */\nexport const uuid = 'c96de'\n\nexport const refs = {\n  'fr-fr': ['CM2N1D-2'],\n  'fr-2016': ['c3N10-1'],\n  'fr-ch': ['9NO1-8'],\n}\nexport default class RecomposerEntierC3 extends Exercice {\n  nombreDeChiffresMin!: number\n  nombreDeChiffresMax!: number\n  nombreDeChamps!: number[]\n  premierChamp!: number[]\n  morceaux!: string[][]\n  exposantMorceaux!: number[][]\n\n  constructor() {\n    super()\n    this.besoinFormulaireCaseACocher = [\n      'Puissance de 10 en chiffres/lettres',\n      false,\n    ]\n    this.besoinFormulaire2Numerique = [\n      'Nombre de chiffres maximum des nombres √† d√©composer',\n      9,\n    ]\n    this.besoinFormulaire3Texte = [\n      'Types de question s√©par√©s par des tirets :',\n      '1 : D√©composer (donner les chiffres)\\n2 : D√©composer (compl√©ter avec 10, 100...)\\n3 : Composer (sans groupement)\\n4 : Composer avec groupement\\n5 : M√©lange',\n    ]\n    this.besoinFormulaire4Texte = [\n      'Pr√©sence de z√©ro(s) ',\n      'Nombres s√©par√©s par des tirets :\\n1 : Sans z√©ro\\n2 : Avec un z√©ro\\n3 : Avec deux z√©ros cons√©cutifs\\n4 : M√©lange',\n    ]\n    this.besoinFormulaire5CaseACocher = ['D√©composition d√©sordonn√©e', false]\n    this.nbQuestions = 4\n    this.sup = false // false pour des puissances de 10 en chiffres, true pour lettres\n    this.sup2 = 7 // nombre de chiffres maximum du nombre √† d√©composer\n    this.sup3 = '5'\n    this.sup4 = '4'\n    this.sup5 = false\n    this.nombreDeChiffresMin = 4\n  }\n\n  nouvelleVersion() {\n    const listeTypeDeQuestions = gestionnaireFormulaireTexte({\n      saisie: this.sup3,\n      max: 4,\n      defaut: 5,\n      melange: 5,\n      nbQuestions: this.nbQuestions,\n    })\n    // Pour activer le m√©lange\n    const desordonne = this.sup5\n    const enLettre = this.sup\n    const presenceZeros = gestionnaireFormulaireTexte({\n      saisie: this.sup4,\n      min: 1,\n      max: 3,\n      defaut: 4,\n      melange: 4,\n      nbQuestions: this.nbQuestions,\n    })\n    // √ßa c'est pour √©viter de ne pas pouvoir fabriquer les nombres.\n    const nombreDeChiffresMin = this.nombreDeChiffresMin\n    const nombreDeChiffresMax = contraindreValeur(\n      nombreDeChiffresMin,\n      11,\n      this.sup2,\n      6,\n    )\n    this.nombreDeChamps = []\n    this.premierChamp = []\n    this.morceaux = []\n    this.exposantMorceaux = []\n    for (\n      let i = 0, cpt = 0, texte, texteCorr, indexChamp = 0;\n      i < this.nbQuestions && cpt < 50;\n\n    ) {\n      texte = ''\n      texteCorr = ''\n      const nbChiffres = randint(nombreDeChiffresMin, nombreDeChiffresMax)\n      let nombreStr = ''\n      let nombre\n\n      this.morceaux[i] = []\n      this.exposantMorceaux[i] = []\n      const presenceDeZeros = Number(presenceZeros[i])\n\n      switch (listeTypeDeQuestions[i]) {\n        case 1: // d√©composition chiffre par chiffre dans l'ordre\n          for (let k = 0; k < nbChiffres; k++) {\n            nombreStr += randint(1, 9).toString()\n          }\n          if (presenceDeZeros > 1) {\n            const arrayFromNbr: string[] = Array.from(nombreStr)\n            const indexOfZero = randint(1, arrayFromNbr.length - 2)\n            arrayFromNbr[indexOfZero] = '0'\n            if (presenceDeZeros === 3) arrayFromNbr[indexOfZero + 1] = '0'\n            nombreStr = arrayFromNbr.join('')\n          }\n          nombre = new Decimal(nombreStr)\n          texte += `D√©composer le nombre $${texNombre(nombre, 0)}$ en compl√©tant avec les nombres (√† un seul chiffre) qui conviennent.<br>`\n          texte += `$${texNombre(nombre, 0)}=`\n          texteCorr += `$${texNombre(nombre, 0)}=`\n          this.premierChamp[i] = indexChamp\n          for (let k = 0; k < nbChiffres; k++) {\n            this.morceaux[i][k] = nombreStr[k]\n            this.exposantMorceaux[i][k] = nbChiffres - 1 - k\n          }\n          if (desordonne) {\n            shuffle2tableaux(this.morceaux[i], this.exposantMorceaux[i])\n          }\n\n          for (let k = 0; k < this.morceaux[i].length; k++) {\n            if (this.morceaux[i][k] !== '0') {\n              if (this.interactif) {\n                texte += enLettre\n                  ? `${ajouteChampTexteMathLive(this, indexChamp, KeyboardType.clavierDeBase)}~${glossaire[this.exposantMorceaux[i][k]][Number(this.morceaux[i][k]) > 1 ? 1 : 0]}+`\n                  : `($${ajouteChampTexteMathLive(this, indexChamp, KeyboardType.clavierDeBase)}$\\\\times${texNombre(10 ** this.exposantMorceaux[i][k], 0)})+`\n                setReponse(this, indexChamp, this.morceaux[i][k])\n                indexChamp++\n              } else {\n                texte += `${\n                  enLettre\n                    ? `\\\\ldots~\\\\text{${glossaire[this.exposantMorceaux[i][k]][Number(this.morceaux[i][k]) > 1 ? 1 : 0]}}+`\n                    : `(\\\\ldots\\\\times ${texNombre(10 ** this.exposantMorceaux[i][k], 0)})+`\n                }`\n              }\n              texteCorr += enLettre\n                ? `${this.morceaux[i][k]}~\\\\text{${glossaire[this.exposantMorceaux[i][k]][Number(this.morceaux[i][k]) > 1 ? 1 : 0]}}+`\n                : `(${this.morceaux[i][k]}\\\\times ${texNombre(10 ** this.exposantMorceaux[i][k], 0)})+`\n            }\n          }\n          texte = `${texte.substring(0, texte.length - 1)}$`\n          texteCorr = `${texteCorr.substring(0, texteCorr.length - 1)}$`\n          this.nombreDeChamps[i] = indexChamp - this.premierChamp[i]\n\n          break\n        case 2: // d√©composer en compl√©tant les puissances de 10\n          for (let k = 0; k < nbChiffres; k++) {\n            nombreStr += randint(\n              1,\n              9,\n              Array.from(nombreStr).map(Number),\n            ).toString()\n          }\n          if (presenceDeZeros > 1) {\n            const arrayFromNbr = Array.from(nombreStr)\n            const indexOfZero = randint(1, arrayFromNbr.length - 2)\n            arrayFromNbr[indexOfZero] = '0'\n            if (presenceDeZeros === 3) arrayFromNbr[indexOfZero + 1] = '0'\n            nombreStr = arrayFromNbr.join('')\n          }\n          nombre = new Decimal(nombreStr)\n          texte += `D√©composer le nombre $${texNombre(nombre, 0)}$ en compl√©tant avec les ${enLettre ? 'adjectifs num√©raux' : 'valeurs'} qui conviennent ${enLettre ? 'unit√©, dizaine(s), centaine(s)...' : `($1, 10, 100,${texNombre(1000, 3)},...$)`}.<br>`\n          texte += `$${texNombre(nombre, 0)}=`\n          texteCorr = `$${texNombre(nombre, 0)}=`\n          this.premierChamp[i] = indexChamp\n          for (let k = 0; k < nbChiffres; k++) {\n            // on pr√©pare la correction pour l'exo non interactif\n            this.morceaux[i][k] = nombreStr[k]\n            this.exposantMorceaux[i][k] = nbChiffres - 1 - k\n          }\n          if (desordonne) {\n            shuffle2tableaux(this.morceaux[i], this.exposantMorceaux[i])\n          }\n          for (let k = 0; k < this.morceaux[i].length; k++) {\n            if (this.interactif) {\n              if (this.morceaux[i][k] !== '0') {\n                texte += `(${this.morceaux[i][k]}\\\\times $${ajouteChampTexteMathLive(this, indexChamp, ' ' + `${this.sup ? KeyboardType.numeration : KeyboardType.clavierDeBase}`)}$)+`\n\n                setReponse(\n                  this,\n                  indexChamp,\n                  enLettre\n                    ? glossaire[this.exposantMorceaux[i][k]][\n                        Number(this.morceaux[i][k]) > 1 ? 1 : 0\n                      ]\n                    : 10 ** this.exposantMorceaux[i][k],\n                )\n                indexChamp++\n              }\n            } else {\n              if (this.morceaux[i][k] !== '0') {\n                texte += `(${this.morceaux[i][k]}\\\\times \\\\ldots)+`\n              }\n            }\n            if (this.morceaux[i][k] !== '0') {\n              texteCorr += enLettre\n                ? `${this.morceaux[i][k]}~\\\\text{${glossaire[this.exposantMorceaux[i][k]][Number(this.morceaux[i][k]) > 1 ? 1 : 0]}}+`\n                : `(${this.morceaux[i][k]}\\\\times ${texNombre(10 ** this.exposantMorceaux[i][k], 0)})+`\n            }\n          }\n          texte = `${texte.substring(0, texte.length - 1)}$`\n          texteCorr = `${texteCorr.substring(0, texteCorr.length - 1)}$`\n          this.nombreDeChamps[i] = indexChamp - this.premierChamp[i]\n          break\n        case 3: // trouver le nombre sans groupement\n          for (let k = 0; k < nbChiffres; k++) {\n            nombreStr += randint(1, 9).toString()\n          }\n          if (presenceDeZeros > 1) {\n            const arrayFromNbr = Array.from(nombreStr)\n            const indexOfZero = randint(1, arrayFromNbr.length - 2)\n            arrayFromNbr[indexOfZero] = '0'\n            if (presenceDeZeros === 3) arrayFromNbr[indexOfZero + 1] = '0'\n            nombreStr = arrayFromNbr.join('')\n          }\n          nombre = new Decimal(nombreStr)\n          texte +=\n            \"Donner le nombre correspondant au premier membre de l'√©galit√©.<br>$\"\n          this.premierChamp[i] = indexChamp\n          for (let k = 0; k < nbChiffres; k++) {\n            this.morceaux[i][k] = nombreStr[k]\n            this.exposantMorceaux[i][k] = nbChiffres - 1 - k\n          }\n          texteCorr = '$'\n          if (desordonne) {\n            shuffle2tableaux(this.morceaux[i], this.exposantMorceaux[i])\n          }\n          for (let k = 0; k < this.morceaux[i].length; k++) {\n            if (this.morceaux[i][k] !== '0') {\n              texte += enLettre\n                ? `${this.morceaux[i][k]}~\\\\text{${glossaire[this.exposantMorceaux[i][k]][Number(this.morceaux[i][k]) > 1 ? 1 : 0]}}+`\n                : `(${this.morceaux[i][k]}~\\\\times ${texNombre(10 ** this.exposantMorceaux[i][k], 0)})+`\n              texteCorr += enLettre\n                ? `${this.morceaux[i][k]}~\\\\text{${glossaire[this.exposantMorceaux[i][k]][Number(this.morceaux[i][k]) > 1 ? 1 : 0]}}+`\n                : `(${this.morceaux[i][k]}\\\\times ${texNombre(10 ** this.exposantMorceaux[i][k], 0)})+`\n            }\n          }\n          texte = `${texte.substring(0, texte.length - 1)}`\n          texteCorr = texteCorr.substring(0, texteCorr.length - 1)\n          texteCorr += `=${texNombre(nombre, 0)}$`\n          if (!this.interactif) {\n            texte += '= \\\\ldots\\\\ldots\\\\ldots$'\n          } else {\n            setReponse(this, indexChamp, nombre)\n            texte += `=$${ajouteChampTexteMathLive(this, indexChamp, ' ' + `${enLettre ? KeyboardType.numeration : KeyboardType.clavierDeBase}`)}`\n            indexChamp++\n          }\n          this.nombreDeChamps[i] = indexChamp - this.premierChamp[i]\n\n          break\n        case 4: // trouver le nombre avec groupement\n          for (let k = 0; k < nbChiffres; k++) {\n            nombreStr += randint(1, 9).toString()\n          }\n          if (presenceDeZeros > 1) {\n            const arrayFromNbr = Array.from(nombreStr)\n            const indexOfZero = randint(1, arrayFromNbr.length - 2)\n            arrayFromNbr[indexOfZero] = '0'\n            if (presenceDeZeros === 3) arrayFromNbr[indexOfZero + 1] = '0'\n            nombreStr = arrayFromNbr.join('')\n          }\n          nombre = new Decimal(nombreStr)\n          texte +=\n            \"Donner le nombre correspondant au premier membre de l'√©galit√©.<br>$\"\n          texteCorr = '$'\n          this.premierChamp[i] = indexChamp\n          for (let k = 0, j, index = 0; index < nbChiffres; k++) {\n            // on pr√©pare la correction pour l'exo non interactif\n            let testeur = 0\n            do {\n              testeur++\n              j = choice([2, 2, 3]) // statistiquement 2 fois plus de groupements de 2 chiffres que de 3 chiffres (mais c'est sans compter les 0)\n              this.morceaux[i][k] = nombreStr\n                .substring(index, Math.min(index + j, nbChiffres))\n                .replace(/^0+/g, '')\n              this.exposantMorceaux[i][k] =\n                nbChiffres - Math.min(index + j, nbChiffres)\n            } while (this.morceaux[i][k] === '' && testeur < 100)\n            if (this.morceaux[i][k] === '') break\n            index += j\n          }\n          if (this.morceaux[i][this.morceaux[i].length - 1] === '')\n            this.morceaux[i].pop()\n          if (desordonne) {\n            shuffle2tableaux(this.morceaux[i], this.exposantMorceaux[i])\n          }\n          for (let k = 0; k < this.morceaux[i].length; k++) {\n            if (this.morceaux[i][k] !== '0') {\n              texte += enLettre\n                ? `${this.morceaux[i][k]}~\\\\text{${glossaire[this.exposantMorceaux[i][k]][Number(this.morceaux[i][k]) > 1 ? 1 : 0]}}+`\n                : `(${this.morceaux[i][k]}\\\\times ${texNombre(10 ** this.exposantMorceaux[i][k], 0)})+`\n              texteCorr += enLettre\n                ? `${this.morceaux[i][k]}~\\\\text{${glossaire[this.exposantMorceaux[i][k]][Number(this.morceaux[i][k]) > 1 ? 1 : 0]}}+`\n                : `(${this.morceaux[i][k]}\\\\times ${texNombre(10 ** this.exposantMorceaux[i][k], 0)})+`\n            }\n          }\n          texte = `${texte.substring(0, texte.length - 1)}`\n          texteCorr = texteCorr.substring(0, texteCorr.length - 1)\n          if (!this.interactif) {\n            texte += ' = \\\\ldots\\\\ldots\\\\ldots$'\n          } else {\n            setReponse(this, indexChamp, nombre)\n            texte += `=$${ajouteChampTexteMathLive(this, indexChamp, ' ' + `${this.sup ? KeyboardType.numeration : KeyboardType.clavierDeBase}`)}`\n            indexChamp++\n          }\n          texteCorr += `=${texNombre(nombre, 0)}$`\n          this.nombreDeChamps[i] = indexChamp - this.premierChamp[i]\n          break\n      }\n      if (context.isAmc) {\n        this.autoCorrection[i] = {\n          enonce: '$texte<br>',\n          propositions: [\n            {\n              texte: texteCorr,\n              statut: 1, // OBLIGATOIRE (ici c'est le nombre de lignes du cadre pour la r√©ponse de l'√©l√®ve sur AMC)\n              sanscadre: true,\n            },\n          ],\n        }\n      }\n\n      texte += context.isHtml\n        ? `<div id=divDuSmiley${this.numeroExercice}Q${i} style= \"display: inline-block\"></div>`\n        : ''\n      if (this.questionJamaisPosee(i, nombreStr)) {\n        this.listeQuestions[i] = texte\n        this.listeCorrections[i] = texteCorr\n        i++\n      }\n      cpt++\n    }\n    listeQuestionsToContenu(this)\n  }\n\n  correctionInteractive = (i: number) => {\n    const champsTexte = []\n    const saisies = []\n    if (this.premierChamp[i] === undefined) return 'OK'\n    const divFeedback = document.querySelector(\n      `#divDuSmiley${this.numeroExercice}Q${i}`,\n    ) as HTMLDivElement\n    let resultatOK = true\n    for (let k = 0; k < this.nombreDeChamps[i]; k++) {\n      champsTexte[k] = document.getElementById(\n        `champTexteEx${this.numeroExercice}Q${k + this.premierChamp[i]}`,\n      ) as MathfieldElement\n      saisies[k] = champsTexte[k].value\n        .replace(',', '.')\n        .replace(/\\((\\+?-?\\d+)\\)/, '$1')\n      resultatOK =\n        resultatOK &&\n        Number.parseInt(saisies[k]) ===\n          Number.parseInt(\n            // @ts-expect-error\n            this.autoCorrection[this.premierChamp[i] + k].reponse.valeur.reponse\n              .value as string,\n          )\n    }\n    if (resultatOK) {\n      divFeedback.innerHTML += 'üòé'\n      return 'OK'\n    }\n    divFeedback.innerHTML += '‚òπÔ∏è'\n    return 'KO'\n  }\n}\n"],"names":["titre","interactifReady","interactifType","amcReady","amcType","dateDePublication","dateDeModifImportante","glossaire","uuid","refs","RecomposerEntierC3","Exercice","__publicField","i","champsTexte","saisies","divFeedback","resultatOK","k","listeTypeDeQuestions","gestionnaireFormulaireTexte","desordonne","enLettre","presenceZeros","nombreDeChiffresMin","nombreDeChiffresMax","contraindreValeur","cpt","texte","texteCorr","indexChamp","nbChiffres","randint","nombreStr","nombre","presenceDeZeros","arrayFromNbr","indexOfZero","Decimal","texNombre","shuffle2tableaux","ajouteChampTexteMathLive","KeyboardType","setReponse","j","index","testeur","choice","context","listeQuestionsToContenu"],"mappings":"s8FAiBO,MAAMA,GAAQ,uBACRC,GAAkB,GAClBC,GAAiB,SACjBC,GAAW,GACXC,GAAU,UACVC,GAAoB,aACpBC,GAAwB,aACxBC,EAAY,CACvB,CAAC,QAAS,QAAQ,EAClB,CAAC,UAAW,UAAU,EACtB,CAAC,WAAY,WAAW,EACxB,CAAC,QAAS,OAAO,EACjB,CAAC,mBAAoB,mBAAmB,EACxC,CAAC,oBAAqB,oBAAoB,EAC1C,CAAC,UAAW,UAAU,EACtB,CAAC,sBAAuB,sBAAsB,EAC9C,CAAC,uBAAwB,uBAAuB,EAChD,CAAC,WAAY,WAAW,EACxB,CAAC,uBAAwB,uBAAuB,EAChD,CAAC,wBAAyB,wBAAwB,CACpD,EAMaC,GAAO,QAEPC,GAAO,CAClB,QAAS,CAAC,UAAU,EACpB,UAAW,CAAC,SAAS,EACrB,QAAS,CAAC,QAAQ,CACpB,EACA,MAAqBC,WAA2BC,CAAS,CAQvD,aAAc,CACZ,MAAA,EARFC,EAAA,4BACAA,EAAA,4BACAA,EAAA,uBACAA,EAAA,qBACAA,EAAA,iBACAA,EAAA,yBA4TAA,EAAA,6BAAyBC,GAAc,CACrC,MAAMC,EAAc,CAAA,EACdC,EAAU,CAAA,EAChB,GAAI,KAAK,aAAaF,CAAC,IAAM,OAAW,MAAO,KAC/C,MAAMG,EAAc,SAAS,cAC3B,eAAe,KAAK,cAAc,IAAIH,CAAC,EAAA,EAEzC,IAAII,EAAa,GACjB,QAASC,EAAI,EAAGA,EAAI,KAAK,eAAeL,CAAC,EAAGK,IAC1CJ,EAAYI,CAAC,EAAI,SAAS,eACxB,eAAe,KAAK,cAAc,IAAIA,EAAI,KAAK,aAAaL,CAAC,CAAC,EAAA,EAEhEE,EAAQG,CAAC,EAAIJ,EAAYI,CAAC,EAAE,MACzB,QAAQ,IAAK,GAAG,EAChB,QAAQ,iBAAkB,IAAI,EACjCD,EACEA,GACA,OAAO,SAASF,EAAQG,CAAC,CAAC,IACxB,OAAO,SAEL,KAAK,eAAe,KAAK,aAAaL,CAAC,EAAIK,CAAC,EAAE,QAAQ,OAAO,QAC1D,KAAA,EAGX,OAAID,GACFD,EAAY,WAAa,KAClB,OAETA,EAAY,WAAa,KAClB,KACT,GAtVE,KAAK,4BAA8B,CACjC,sCACA,EAAA,EAEF,KAAK,2BAA6B,CAChC,sDACA,CAAA,EAEF,KAAK,uBAAyB,CAC5B,6CACA;AAAA;AAAA;AAAA;AAAA,YAAA,EAEF,KAAK,uBAAyB,CAC5B,uBACA;AAAA;AAAA;AAAA;AAAA,YAAA,EAEF,KAAK,6BAA+B,CAAC,4BAA6B,EAAK,EACvE,KAAK,YAAc,EACnB,KAAK,IAAM,GACX,KAAK,KAAO,EACZ,KAAK,KAAO,IACZ,KAAK,KAAO,IACZ,KAAK,KAAO,GACZ,KAAK,oBAAsB,CAC7B,CAEA,iBAAkB,CAChB,MAAMG,EAAuBC,EAA4B,CACvD,OAAQ,KAAK,KACb,IAAK,EACL,OAAQ,EACR,QAAS,EACT,YAAa,KAAK,WAAA,CACnB,EAEKC,EAAa,KAAK,KAClBC,EAAW,KAAK,IAChBC,EAAgBH,EAA4B,CAChD,OAAQ,KAAK,KACb,IAAK,EACL,IAAK,EACL,OAAQ,EACR,QAAS,EACT,YAAa,KAAK,WAAA,CACnB,EAEKI,EAAsB,KAAK,oBAC3BC,EAAsBC,EAC1BF,EACA,GACA,KAAK,KACL,CAAA,EAEF,KAAK,eAAiB,CAAA,EACtB,KAAK,aAAe,CAAA,EACpB,KAAK,SAAW,CAAA,EAChB,KAAK,iBAAmB,CAAA,EACxB,QACMX,EAAI,EAAGc,EAAM,EAAGC,EAAOC,EAAWC,EAAa,EACnDjB,EAAI,KAAK,aAAec,EAAM,IAE9B,CACAC,EAAQ,GACRC,EAAY,GACZ,MAAME,EAAaC,EAAQR,EAAqBC,CAAmB,EACnE,IAAIQ,EAAY,GACZC,EAEJ,KAAK,SAASrB,CAAC,EAAI,CAAA,EACnB,KAAK,iBAAiBA,CAAC,EAAI,CAAA,EAC3B,MAAMsB,EAAkB,OAAOZ,EAAcV,CAAC,CAAC,EAE/C,OAAQM,EAAqBN,CAAC,EAAA,CAC5B,IAAK,GACH,QAASK,EAAI,EAAGA,EAAIa,EAAYb,IAC9Be,GAAaD,EAAQ,EAAG,CAAC,EAAE,SAAA,EAE7B,GAAIG,EAAkB,EAAG,CACvB,MAAMC,EAAyB,MAAM,KAAKH,CAAS,EAC7CI,EAAcL,EAAQ,EAAGI,EAAa,OAAS,CAAC,EACtDA,EAAaC,CAAW,EAAI,IACxBF,IAAoB,IAAGC,EAAaC,EAAc,CAAC,EAAI,KAC3DJ,EAAYG,EAAa,KAAK,EAAE,CAClC,CACAF,EAAS,IAAII,EAAQL,CAAS,EAC9BL,GAAS,yBAAyBW,EAAUL,EAAQ,CAAC,CAAC,4EACtDN,GAAS,IAAIW,EAAUL,EAAQ,CAAC,CAAC,IACjCL,GAAa,IAAIU,EAAUL,EAAQ,CAAC,CAAC,IACrC,KAAK,aAAarB,CAAC,EAAIiB,EACvB,QAASZ,EAAI,EAAGA,EAAIa,EAAYb,IAC9B,KAAK,SAASL,CAAC,EAAEK,CAAC,EAAIe,EAAUf,CAAC,EACjC,KAAK,iBAAiBL,CAAC,EAAEK,CAAC,EAAIa,EAAa,EAAIb,EAE7CG,GACFmB,EAAiB,KAAK,SAAS3B,CAAC,EAAG,KAAK,iBAAiBA,CAAC,CAAC,EAG7D,QAASK,EAAI,EAAGA,EAAI,KAAK,SAASL,CAAC,EAAE,OAAQK,IACvC,KAAK,SAASL,CAAC,EAAEK,CAAC,IAAM,MACtB,KAAK,YACPU,GAASN,EACL,GAAGmB,EAAyB,KAAMX,EAAYY,EAAa,aAAa,CAAC,IAAInC,EAAU,KAAK,iBAAiBM,CAAC,EAAEK,CAAC,CAAC,EAAE,OAAO,KAAK,SAASL,CAAC,EAAEK,CAAC,CAAC,EAAI,EAAI,EAAI,CAAC,CAAC,IAC5J,KAAKuB,EAAyB,KAAMX,EAAYY,EAAa,aAAa,CAAC,WAAWH,EAAU,IAAM,KAAK,iBAAiB1B,CAAC,EAAEK,CAAC,EAAG,CAAC,CAAC,KACzIyB,EAAW,KAAMb,EAAY,KAAK,SAASjB,CAAC,EAAEK,CAAC,CAAC,EAChDY,KAEAF,GAAS,GACPN,EACI,kBAAkBf,EAAU,KAAK,iBAAiBM,CAAC,EAAEK,CAAC,CAAC,EAAE,OAAO,KAAK,SAASL,CAAC,EAAEK,CAAC,CAAC,EAAI,EAAI,EAAI,CAAC,CAAC,KACjG,mBAAmBqB,EAAU,IAAM,KAAK,iBAAiB1B,CAAC,EAAEK,CAAC,EAAG,CAAC,CAAC,IACxE,GAEFW,GAAaP,EACT,GAAG,KAAK,SAAST,CAAC,EAAEK,CAAC,CAAC,WAAWX,EAAU,KAAK,iBAAiBM,CAAC,EAAEK,CAAC,CAAC,EAAE,OAAO,KAAK,SAASL,CAAC,EAAEK,CAAC,CAAC,EAAI,EAAI,EAAI,CAAC,CAAC,KAChH,IAAI,KAAK,SAASL,CAAC,EAAEK,CAAC,CAAC,WAAWqB,EAAU,IAAM,KAAK,iBAAiB1B,CAAC,EAAEK,CAAC,EAAG,CAAC,CAAC,MAGzFU,EAAQ,GAAGA,EAAM,UAAU,EAAGA,EAAM,OAAS,CAAC,CAAC,IAC/CC,EAAY,GAAGA,EAAU,UAAU,EAAGA,EAAU,OAAS,CAAC,CAAC,IAC3D,KAAK,eAAehB,CAAC,EAAIiB,EAAa,KAAK,aAAajB,CAAC,EAEzD,MACF,IAAK,GACH,QAASK,EAAI,EAAGA,EAAIa,EAAYb,IAC9Be,GAAaD,EACX,EACA,EACA,MAAM,KAAKC,CAAS,EAAE,IAAI,MAAM,CAAA,EAChC,SAAA,EAEJ,GAAIE,EAAkB,EAAG,CACvB,MAAMC,EAAe,MAAM,KAAKH,CAAS,EACnCI,EAAcL,EAAQ,EAAGI,EAAa,OAAS,CAAC,EACtDA,EAAaC,CAAW,EAAI,IACxBF,IAAoB,IAAGC,EAAaC,EAAc,CAAC,EAAI,KAC3DJ,EAAYG,EAAa,KAAK,EAAE,CAClC,CACAF,EAAS,IAAII,EAAQL,CAAS,EAC9BL,GAAS,yBAAyBW,EAAUL,EAAQ,CAAC,CAAC,4BAA4BZ,EAAW,qBAAuB,SAAS,oBAAoBA,EAAW,oCAAsC,gBAAgBiB,EAAU,IAAM,CAAC,CAAC,QAAQ,QAC5OX,GAAS,IAAIW,EAAUL,EAAQ,CAAC,CAAC,IACjCL,EAAY,IAAIU,EAAUL,EAAQ,CAAC,CAAC,IACpC,KAAK,aAAarB,CAAC,EAAIiB,EACvB,QAASZ,EAAI,EAAGA,EAAIa,EAAYb,IAE9B,KAAK,SAASL,CAAC,EAAEK,CAAC,EAAIe,EAAUf,CAAC,EACjC,KAAK,iBAAiBL,CAAC,EAAEK,CAAC,EAAIa,EAAa,EAAIb,EAE7CG,GACFmB,EAAiB,KAAK,SAAS3B,CAAC,EAAG,KAAK,iBAAiBA,CAAC,CAAC,EAE7D,QAASK,EAAI,EAAGA,EAAI,KAAK,SAASL,CAAC,EAAE,OAAQK,IACvC,KAAK,WACH,KAAK,SAASL,CAAC,EAAEK,CAAC,IAAM,MAC1BU,GAAS,IAAI,KAAK,SAASf,CAAC,EAAEK,CAAC,CAAC,YAAYuB,EAAyB,KAAMX,EAAY,IAAS,KAAK,IAAMY,EAAa,WAAaA,EAAa,aAAa,EAAE,CAAC,MAElKC,EACE,KACAb,EACAR,EACIf,EAAU,KAAK,iBAAiBM,CAAC,EAAEK,CAAC,CAAC,EACnC,OAAO,KAAK,SAASL,CAAC,EAAEK,CAAC,CAAC,EAAI,EAAI,EAAI,CACxC,EACA,IAAM,KAAK,iBAAiBL,CAAC,EAAEK,CAAC,CAAA,EAEtCY,KAGE,KAAK,SAASjB,CAAC,EAAEK,CAAC,IAAM,MAC1BU,GAAS,IAAI,KAAK,SAASf,CAAC,EAAEK,CAAC,CAAC,qBAGhC,KAAK,SAASL,CAAC,EAAEK,CAAC,IAAM,MAC1BW,GAAaP,EACT,GAAG,KAAK,SAAST,CAAC,EAAEK,CAAC,CAAC,WAAWX,EAAU,KAAK,iBAAiBM,CAAC,EAAEK,CAAC,CAAC,EAAE,OAAO,KAAK,SAASL,CAAC,EAAEK,CAAC,CAAC,EAAI,EAAI,EAAI,CAAC,CAAC,KAChH,IAAI,KAAK,SAASL,CAAC,EAAEK,CAAC,CAAC,WAAWqB,EAAU,IAAM,KAAK,iBAAiB1B,CAAC,EAAEK,CAAC,EAAG,CAAC,CAAC,MAGzFU,EAAQ,GAAGA,EAAM,UAAU,EAAGA,EAAM,OAAS,CAAC,CAAC,IAC/CC,EAAY,GAAGA,EAAU,UAAU,EAAGA,EAAU,OAAS,CAAC,CAAC,IAC3D,KAAK,eAAehB,CAAC,EAAIiB,EAAa,KAAK,aAAajB,CAAC,EACzD,MACF,IAAK,GACH,QAASK,EAAI,EAAGA,EAAIa,EAAYb,IAC9Be,GAAaD,EAAQ,EAAG,CAAC,EAAE,SAAA,EAE7B,GAAIG,EAAkB,EAAG,CACvB,MAAMC,EAAe,MAAM,KAAKH,CAAS,EACnCI,EAAcL,EAAQ,EAAGI,EAAa,OAAS,CAAC,EACtDA,EAAaC,CAAW,EAAI,IACxBF,IAAoB,IAAGC,EAAaC,EAAc,CAAC,EAAI,KAC3DJ,EAAYG,EAAa,KAAK,EAAE,CAClC,CACAF,EAAS,IAAII,EAAQL,CAAS,EAC9BL,GACE,sEACF,KAAK,aAAaf,CAAC,EAAIiB,EACvB,QAASZ,EAAI,EAAGA,EAAIa,EAAYb,IAC9B,KAAK,SAASL,CAAC,EAAEK,CAAC,EAAIe,EAAUf,CAAC,EACjC,KAAK,iBAAiBL,CAAC,EAAEK,CAAC,EAAIa,EAAa,EAAIb,EAEjDW,EAAY,IACRR,GACFmB,EAAiB,KAAK,SAAS3B,CAAC,EAAG,KAAK,iBAAiBA,CAAC,CAAC,EAE7D,QAASK,EAAI,EAAGA,EAAI,KAAK,SAASL,CAAC,EAAE,OAAQK,IACvC,KAAK,SAASL,CAAC,EAAEK,CAAC,IAAM,MAC1BU,GAASN,EACL,GAAG,KAAK,SAAST,CAAC,EAAEK,CAAC,CAAC,WAAWX,EAAU,KAAK,iBAAiBM,CAAC,EAAEK,CAAC,CAAC,EAAE,OAAO,KAAK,SAASL,CAAC,EAAEK,CAAC,CAAC,EAAI,EAAI,EAAI,CAAC,CAAC,KAChH,IAAI,KAAK,SAASL,CAAC,EAAEK,CAAC,CAAC,YAAYqB,EAAU,IAAM,KAAK,iBAAiB1B,CAAC,EAAEK,CAAC,EAAG,CAAC,CAAC,KACtFW,GAAaP,EACT,GAAG,KAAK,SAAST,CAAC,EAAEK,CAAC,CAAC,WAAWX,EAAU,KAAK,iBAAiBM,CAAC,EAAEK,CAAC,CAAC,EAAE,OAAO,KAAK,SAASL,CAAC,EAAEK,CAAC,CAAC,EAAI,EAAI,EAAI,CAAC,CAAC,KAChH,IAAI,KAAK,SAASL,CAAC,EAAEK,CAAC,CAAC,WAAWqB,EAAU,IAAM,KAAK,iBAAiB1B,CAAC,EAAEK,CAAC,EAAG,CAAC,CAAC,MAGzFU,EAAQ,GAAGA,EAAM,UAAU,EAAGA,EAAM,OAAS,CAAC,CAAC,GAC/CC,EAAYA,EAAU,UAAU,EAAGA,EAAU,OAAS,CAAC,EACvDA,GAAa,IAAIU,EAAUL,EAAQ,CAAC,CAAC,IAChC,KAAK,YAGRS,EAAW,KAAMb,EAAYI,CAAM,EACnCN,GAAS,KAAKa,EAAyB,KAAMX,EAAY,IAASR,EAAWoB,EAAa,WAAaA,EAAa,aAAa,EAAE,CAAC,GACpIZ,KAJAF,GAAS,2BAMX,KAAK,eAAef,CAAC,EAAIiB,EAAa,KAAK,aAAajB,CAAC,EAEzD,MACF,IAAK,GACH,QAASK,EAAI,EAAGA,EAAIa,EAAYb,IAC9Be,GAAaD,EAAQ,EAAG,CAAC,EAAE,SAAA,EAE7B,GAAIG,EAAkB,EAAG,CACvB,MAAMC,EAAe,MAAM,KAAKH,CAAS,EACnCI,EAAcL,EAAQ,EAAGI,EAAa,OAAS,CAAC,EACtDA,EAAaC,CAAW,EAAI,IACxBF,IAAoB,IAAGC,EAAaC,EAAc,CAAC,EAAI,KAC3DJ,EAAYG,EAAa,KAAK,EAAE,CAClC,CACAF,EAAS,IAAII,EAAQL,CAAS,EAC9BL,GACE,sEACFC,EAAY,IACZ,KAAK,aAAahB,CAAC,EAAIiB,EACvB,QAASZ,EAAI,EAAG0B,EAAGC,EAAQ,EAAGA,EAAQd,EAAYb,IAAK,CAErD,IAAI4B,EAAU,EACd,GACEA,IACAF,EAAIG,EAAO,CAAC,EAAG,EAAG,CAAC,CAAC,EACpB,KAAK,SAASlC,CAAC,EAAEK,CAAC,EAAIe,EACnB,UAAUY,EAAO,KAAK,IAAIA,EAAQD,EAAGb,CAAU,CAAC,EAChD,QAAQ,OAAQ,EAAE,EACrB,KAAK,iBAAiBlB,CAAC,EAAEK,CAAC,EACxBa,EAAa,KAAK,IAAIc,EAAQD,EAAGb,CAAU,QACtC,KAAK,SAASlB,CAAC,EAAEK,CAAC,IAAM,IAAM4B,EAAU,KACjD,GAAI,KAAK,SAASjC,CAAC,EAAEK,CAAC,IAAM,GAAI,MAChC2B,GAASD,CACX,CACI,KAAK,SAAS/B,CAAC,EAAE,KAAK,SAASA,CAAC,EAAE,OAAS,CAAC,IAAM,IACpD,KAAK,SAASA,CAAC,EAAE,IAAA,EACfQ,GACFmB,EAAiB,KAAK,SAAS3B,CAAC,EAAG,KAAK,iBAAiBA,CAAC,CAAC,EAE7D,QAASK,EAAI,EAAGA,EAAI,KAAK,SAASL,CAAC,EAAE,OAAQK,IACvC,KAAK,SAASL,CAAC,EAAEK,CAAC,IAAM,MAC1BU,GAASN,EACL,GAAG,KAAK,SAAST,CAAC,EAAEK,CAAC,CAAC,WAAWX,EAAU,KAAK,iBAAiBM,CAAC,EAAEK,CAAC,CAAC,EAAE,OAAO,KAAK,SAASL,CAAC,EAAEK,CAAC,CAAC,EAAI,EAAI,EAAI,CAAC,CAAC,KAChH,IAAI,KAAK,SAASL,CAAC,EAAEK,CAAC,CAAC,WAAWqB,EAAU,IAAM,KAAK,iBAAiB1B,CAAC,EAAEK,CAAC,EAAG,CAAC,CAAC,KACrFW,GAAaP,EACT,GAAG,KAAK,SAAST,CAAC,EAAEK,CAAC,CAAC,WAAWX,EAAU,KAAK,iBAAiBM,CAAC,EAAEK,CAAC,CAAC,EAAE,OAAO,KAAK,SAASL,CAAC,EAAEK,CAAC,CAAC,EAAI,EAAI,EAAI,CAAC,CAAC,KAChH,IAAI,KAAK,SAASL,CAAC,EAAEK,CAAC,CAAC,WAAWqB,EAAU,IAAM,KAAK,iBAAiB1B,CAAC,EAAEK,CAAC,EAAG,CAAC,CAAC,MAGzFU,EAAQ,GAAGA,EAAM,UAAU,EAAGA,EAAM,OAAS,CAAC,CAAC,GAC/CC,EAAYA,EAAU,UAAU,EAAGA,EAAU,OAAS,CAAC,EAClD,KAAK,YAGRc,EAAW,KAAMb,EAAYI,CAAM,EACnCN,GAAS,KAAKa,EAAyB,KAAMX,EAAY,IAAS,KAAK,IAAMY,EAAa,WAAaA,EAAa,aAAa,EAAE,CAAC,GACpIZ,KAJAF,GAAS,4BAMXC,GAAa,IAAIU,EAAUL,EAAQ,CAAC,CAAC,IACrC,KAAK,eAAerB,CAAC,EAAIiB,EAAa,KAAK,aAAajB,CAAC,EACzD,KAAA,CAEAmC,EAAQ,QACV,KAAK,eAAenC,CAAC,EAAI,CACvB,OAAQ,aACR,aAAc,CACZ,CACE,MAAOgB,EACP,OAAQ,EACR,UAAW,EAAA,CACb,CACF,GAIJD,GAASoB,EAAQ,OACb,sBAAsB,KAAK,cAAc,IAAInC,CAAC,yCAC9C,GACA,KAAK,oBAAoBA,EAAGoB,CAAS,IACvC,KAAK,eAAepB,CAAC,EAAIe,EACzB,KAAK,iBAAiBf,CAAC,EAAIgB,EAC3BhB,KAEFc,GACF,CACAsB,EAAwB,IAAI,CAC9B,CAiCF"}
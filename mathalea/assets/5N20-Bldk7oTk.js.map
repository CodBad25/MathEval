{"version":3,"file":"5N20-Bldk7oTk.js","sources":["../../src/exercices/5e/5N20.ts"],"sourcesContent":["import { choice, combinaisonListes } from '../../lib/outils/arrayOutils'\nimport { miseEnEvidence } from '../../lib/outils/embellissements'\nimport { pgcd } from '../../lib/outils/primalite'\nimport Exercice from '../Exercice'\nimport { context } from '../../modules/context'\nimport { listeQuestionsToContenu, randint } from '../../modules/outils'\nimport { ajouteChampTexteMathLive } from '../../lib/interactif/questionMathLive'\nimport FractionEtendue from '../../modules/FractionEtendue'\nimport { propositionsQcm } from '../../lib/interactif/qcm'\nimport { handleAnswers } from '../../lib/interactif/gestionInteractif'\nimport { texNombre } from '../../lib/outils/texNombre'\nimport { sp } from '../../lib/outils/outilString'\nimport { ecritureParentheseSiNegatif } from '../../lib/outils/ecritures'\nexport const dateDeModifImportante = '21/04/2025'\nexport const amcReady = true\nexport const amcType = 'qcmMono'\nexport const interactifReady = true\nexport const interactifType = ['qcm', 'mathLive']\nexport const titre =\n  'Additionner ou soustraire deux fractions positives (dénominateurs multiples)'\n/**\n * Effectuer l'addition ou la soustraction de deux fractions dont un dénominateur est un multiple de l'autre.\n * Les numérateurs peuvent être positifs ou négatifs.\n *\n * Le coefficient est paramétrable, par défaut il est inférieur à 11.\n *\n * On peut paramétrer de n'avoir que des soustractions.\n * @author Rémi Angot, modifié par Eric Elter\n * Modif : Rajout des numérateurs négatifs par Eric Elter\n */\nexport const uuid = 'd5ee3'\nexport const refs = {\n  'fr-fr': ['5N20', 'BP2AutoH22'],\n  'fr-ch': ['9NO13-6'],\n}\nexport default class ExerciceAdditionnerSoustraireFractions5ebis extends Exercice {\n  level: number\n  constructor() {\n    super()\n    this.sup = 11 // Correspond au facteur commun\n    this.sup2 = 3 // Si 1 alors il n'y aura pas de soustraction\n    this.sup3 = true // Si false alors le résultat n'est pas en fraction simplifiée\n    this.sup4 = true // QCM pour l'interactif\n    this.sup5 = 0 // Pourcentage de fractions avec numérateur négatif\n    this.spacing = 2\n    this.spacingCorr = 2\n    this.nbQuestions = 5\n    this.besoinFormulaireNumerique = [\n      'Valeur maximale du coefficient multiplicateur',\n      99999,\n    ]\n    this.besoinFormulaire2Numerique = [\n      'Type de calculs',\n      3,\n      '1 : Additions\\n2 : Soustractions\\n3 : Mélange',\n    ]\n    this.besoinFormulaire3CaseACocher = [\n      \"Avec l'écriture simplifiée de la fraction résultat\",\n    ]\n    this.besoinFormulaire4CaseACocher = [\"QCM pour l'interactif\"]\n    this.besoinFormulaire5Numerique = [\n      'Pourcentage de fractions avec numérateur négatif',\n      100,\n    ]\n    this.level = 5\n  }\n\n  nouvelleVersion() {\n    if (this.sup3 && !context.isAmc) {\n      this.consigne = 'Calculer'\n      this.consigne += this.interactif\n        ? ' au brouillon et indiquer seulement le résultat final simplifié au maximum.'\n        : ' et simplifier au maximum le résultat.'\n    } else {\n      if (context.isAmc) {\n        this.consigne =\n          'Calculer et choisir parmi les réponses proposées la bonne réponse.'\n      } else {\n        this.consigne = 'Calculer'\n        this.consigne += this.interactif\n          ? ' au brouillon et indiquer seulement le résultat final.'\n          : '.'\n      }\n    }\n\n    let listeTypeDeQuestions\n\n    if (this.sup2 === 1) {\n      listeTypeDeQuestions = combinaisonListes(['+'], this.nbQuestions)\n    } else if (this.sup2 === 2) {\n      listeTypeDeQuestions = combinaisonListes(['-'], this.nbQuestions)\n    } else {\n      listeTypeDeQuestions = combinaisonListes(['+', '-'], this.nbQuestions)\n    }\n\n    this.interactifType = this.sup4 ? 'qcm' : 'mathLive'\n\n    for (\n      let i = 0, a, b, c, d, k, s, ordreDesFractions, texte, texteCorr;\n      i < this.nbQuestions;\n\n    ) {\n      this.autoCorrection[i] = {}\n      texte = ''\n      texteCorr = ''\n\n      // Décision si les numérateurs seront négatifs ou non\n      const aNegatif = randint(1, 100) <= this.sup5\n      const cNegatif = randint(1, 100) <= this.sup5\n\n      // Les numérateurs (positifs ou négatifs selon décision précédente)\n      a = randint(1, 9) * (aNegatif ? -1 : 1)\n\n      // Les dénominateurs (toujours positifs)\n      b = randint(2, 9, Math.abs(a))\n\n      if (this.sup > 1) {\n        k = randint(2, this.sup)\n      } else k = 1\n\n      d = b * k\n\n      if (listeTypeDeQuestions[i] === '-') {\n        c =\n          choice([randint(1, b * k), randint(b * k, 9 * k)]) *\n          (cNegatif ? -1 : 1)\n      } else {\n        c = randint(1, 19, d) * (cNegatif ? -1 : 1)\n      }\n\n      const f1 = new FractionEtendue(a, b)\n      const f2 = new FractionEtendue(c, d)\n\n      if (listeTypeDeQuestions[i] === '+') {\n        // une addition\n        if (\n          !context.isAmc ||\n          (this.interactif && this.interactifType === 'qcm')\n        ) {\n          /** ***************** Choix des réponses du QCM ***********************************/\n          this.autoCorrection[i].propositions = [\n            {\n              texte: this.sup3\n                ? `$${new FractionEtendue(a * k + c, d).texFractionSimplifiee}$`\n                : `$${new FractionEtendue(a * k + c, d).texFraction}$`,\n              statut: true,\n            },\n            {\n              texte: this.sup3\n                ? `$${new FractionEtendue(a + c, d).texFractionSimplifiee}$`\n                : `$${new FractionEtendue(a + c, d).texFraction}$`,\n              statut: false,\n            },\n            {\n              texte: this.sup3\n                ? `$${new FractionEtendue(a + c, b + d).texFractionSimplifiee}$`\n                : `$${new FractionEtendue(a + c, b + d).texFraction}$`,\n              statut: false,\n            },\n            {\n              texte: this.sup3\n                ? `$${new FractionEtendue(a * c, d).texFractionSimplifiee}$`\n                : `$${new FractionEtendue(a * c, d).texFraction}$`,\n              statut: false,\n            },\n          ]\n          this.autoCorrection[i].options = {\n            ordered: false,\n            lastChoice: 5,\n          }\n          if (this.level === 6) {\n            // En 6e, pas de fraction simplifiée\n            // Les fractions ont le même dénominateur (b=d)\n            // @ts-expect-error\n            this.autoCorrection[i].propositions[0].texte =\n              `$${new FractionEtendue(a + c, b).texFraction}$`\n          }\n          /*************************************************************************/\n        }\n\n        ordreDesFractions = randint(1, 2)\n\n        if (ordreDesFractions === 1) {\n          texte = `$${f1.texFraction}+${f2.texFraction}$`\n          /** ****************** AMC question/questionmult ********************************/\n          this.autoCorrection[i].enonce = `${texte}\\n`\n          /*******************************************************************************/\n        } else {\n          texte = `$${f2.texFraction}+${f1.texFraction}$`\n          /** ****************** AMC question/questionmult ******************************/\n          this.autoCorrection[i].enonce = `${texte}\\n`\n          /*******************************************************************************/\n        }\n\n        if (ordreDesFractions === 1) {\n          texteCorr = `$${f1.texFraction}+${f2.texFraction}=`\n          texte = `$${f1.texFraction}+${f2.texFraction}$`\n          if (this.level !== 6) {\n            texteCorr += `\\\\dfrac{${a}${miseEnEvidence('\\\\times ' + k, 'blue')}}{${b}${miseEnEvidence('\\\\times ' + k, 'blue')}}+${f2.texFraction}=${new FractionEtendue(a * k, b * k).texFraction}+${f2.texFraction}=`\n          }\n          texteCorr += `\\\\dfrac{${a * k}+${ecritureParentheseSiNegatif(c)}}{${d}}=${new FractionEtendue(a * k + c, d).texFraction}`\n        } else {\n          texteCorr = `$${f2.texFraction}+${f1.texFraction}=`\n          texte = `$${f2.texFraction}+${f1.texFraction}$`\n          if (this.level !== 6) {\n            texteCorr += `${f2.texFraction}+\\\\dfrac{${a}${miseEnEvidence('\\\\times ' + k, 'blue')}}{${b}${miseEnEvidence('\\\\times ' + k, 'blue')}}=${f2.texFraction}+${new FractionEtendue(a * k, b * k).texFraction}=`\n          }\n          texteCorr += `\\\\dfrac{${c}+${ecritureParentheseSiNegatif(a * k)}}{${d}}=${new FractionEtendue(a * k + c, d).texFraction}`\n        }\n        texteCorr +=\n          a * k + c < 0 ? `=${new FractionEtendue(a * k + c, d).texFSD}$` : '$'\n\n        // Est-ce que le résultat est simplifiable ?\n        if (this.sup3) {\n          s = pgcd(Math.abs(a * k + c), d)\n          if (s !== 1) {\n            if (a * k + c < 0) {\n              texteCorr += `$=-\\\\dfrac{${Math.abs(a * k + c) / s}${miseEnEvidence('\\\\times ' + s, 'blue')}}{${d / s}${miseEnEvidence('\\\\times ' + s, 'blue')}}=${new FractionEtendue((a * k + c) / s, d / s).texFractionSimplifiee}$`\n            } else {\n              texteCorr += `$=\\\\dfrac{${(a * k + c) / s}${miseEnEvidence('\\\\times ' + s, 'blue')}}{${d / s}${miseEnEvidence('\\\\times ' + s, 'blue')}}=${new FractionEtendue((a * k + c) / s, d / s).texFractionSimplifiee}$`\n            }\n          }\n        }\n\n        if (!context.isAmc) {\n          if (this.interactif && this.interactifType === 'qcm') {\n            const props = propositionsQcm(this, i)\n            texte += '<br>' + props.texte\n          } else if (this.interactifType === 'mathLive') {\n            texte += ajouteChampTexteMathLive(\n              this,\n              i,\n              '  clavierDeBaseAvecFraction',\n              { texteAvant: sp() + '$=$' },\n            )\n            handleAnswers(this, i, {\n              reponse: {\n                value: new FractionEtendue(a * k + c, d).toLatex(),\n                options: {\n                  fractionIrreductible: this.sup3,\n                  fractionEgale: !this.sup3,\n                },\n              },\n            })\n          }\n        }\n      } else {\n        // une soustraction\n        /** ***************** Choix des réponses du QCM ***********************************/\n        if (\n          !context.isAmc ||\n          (this.interactif && this.interactifType === 'qcm')\n        ) {\n          this.autoCorrection[i].propositions = [\n            {\n              texte: this.sup3\n                ? `$${new FractionEtendue(a * k - c, d).texFractionSimplifiee}$`\n                : `$${new FractionEtendue(a * k - c, d).texFraction}$`,\n              statut: true,\n            },\n            {\n              texte: this.sup3\n                ? `$${new FractionEtendue(a - c, Math.abs(b - d)).texFractionSimplifiee}$`\n                : `$${new FractionEtendue(a - c, Math.abs(b - d)).texFraction}$`,\n              statut: false,\n            },\n            {\n              texte: this.sup3\n                ? `$${new FractionEtendue(a - c, d).texFractionSimplifiee}$`\n                : `$${new FractionEtendue(a - c, d).texFraction}$`,\n              statut: false,\n            },\n            {\n              texte: this.sup3\n                ? `$${new FractionEtendue(a * c, d).texFractionSimplifiee}$`\n                : `$${new FractionEtendue(a * c, d).texFraction}$`,\n              statut: false,\n            },\n          ]\n          this.autoCorrection[i].options = {\n            ordered: false,\n            lastChoice: 5,\n          }\n          if (this.level === 6) {\n            // En 6e, pas de fraction simplifiée\n            // Les fractions ont le même dénominateur (b=d)\n            // @ts-expect-error\n            this.autoCorrection[i].propositions[0].texte =\n              `$${new FractionEtendue(a - c, b).texFraction}$`\n          }\n          /*********************************************************************************/\n        }\n\n        // On ne vérifie plus si a/b > c/d car on accepte les fractions négatives comme résultat\n        texte = `$${f1.texFraction}-${f2.texFraction}$`\n        const reponse = new FractionEtendue(a * k - c, d).toLatex()\n\n        texteCorr = `$${f1.texFraction}-${f2.texFraction}=`\n        if (this.level !== 6) {\n          texteCorr += `\\\\dfrac{${a}${miseEnEvidence('\\\\times ' + k, 'blue')}}{${b}${miseEnEvidence('\\\\times ' + k, 'blue')}}-${f2.texFraction}=${new FractionEtendue(a * k, b * k).texFraction}-${f2.texFraction}=`\n        }\n        texteCorr += `\\\\dfrac{${a * k}-${ecritureParentheseSiNegatif(c)}}{${d}}=${new FractionEtendue(a * k - c, d).texFraction}`\n        texteCorr +=\n          a * k - c < 0 ? `=${new FractionEtendue(a * k - c, d).texFSD}$` : '$'\n\n        // Est-ce que le résultat est simplifiable ?\n        if (this.sup3) {\n          s = pgcd(Math.abs(a * k - c), d)\n          if (Math.abs(a * k - c) % d === 0) {\n            // Si la fraction peut être un nombre entier\n            texteCorr += `$=${texNombre((a * k - c) / d, 0)}$`\n          } else if (s !== 1) {\n            if (a * k - c < 0) {\n              texteCorr += `$=-\\\\dfrac{${Math.abs(a * k - c) / s}${miseEnEvidence('\\\\times ' + s, 'blue')}}{${d / s}${miseEnEvidence('\\\\times ' + s, 'blue')}}=${new FractionEtendue((a * k - c) / s, d / s).texFractionSimplifiee}$`\n            } else {\n              texteCorr += `$=\\\\dfrac{${(a * k - c) / s}${miseEnEvidence('\\\\times ' + s, 'blue')}}{${d / s}${miseEnEvidence('\\\\times ' + s, 'blue')}}=${new FractionEtendue((a * k - c) / s, d / s).texFractionSimplifiee}$`\n            }\n          }\n        }\n\n        if (!context.isAmc) {\n          if (this.interactif && this.interactifType === 'qcm') {\n            const props = propositionsQcm(this, i)\n            texte += '<br>' + props.texte\n          } else if (this.interactifType === 'mathLive') {\n            texte += ajouteChampTexteMathLive(\n              this,\n              i,\n              '  clavierDeBaseAvecFraction',\n              { texteAvant: sp() + '$=$' },\n            )\n            handleAnswers(this, i, {\n              reponse: {\n                value: reponse,\n                options: {\n                  fractionIrreductible: this.sup3,\n                  fractionEgale: !this.sup3,\n                },\n              },\n            })\n          }\n        }\n      }\n\n      texte = texte.replaceAll('$$', ' ')\n      texteCorr = texteCorr.replaceAll('$$', ' ')\n\n      if (context.isAmc) {\n        this.autoCorrection[i].enonce = texte\n      }\n\n      // Uniformisation : Mise en place de la réponse attendue en interactif en orange et gras\n      const textCorrSplit = texteCorr.split('=')\n      let aRemplacer = textCorrSplit[textCorrSplit.length - 1]\n      aRemplacer = aRemplacer.replace('$', '').replace('<br>', '')\n      texteCorr = ''\n      for (let ee = 0; ee < textCorrSplit.length - 1; ee++) {\n        texteCorr += textCorrSplit[ee] + '='\n      }\n      texteCorr += `$ $${miseEnEvidence(aRemplacer)}$`\n      // Fin de cette uniformisation\n\n      if (this.questionJamaisPosee(i, a, k, b, c)) {\n        this.listeQuestions[i] = texte\n        this.listeCorrections[i] = texteCorr\n        i++\n      }\n    }\n\n    listeQuestionsToContenu(this) // Espacement de 2 em entre chaque questions.\n  }\n}\n"],"names":["dateDeModifImportante","amcReady","amcType","interactifReady","interactifType","titre","uuid","refs","ExerciceAdditionnerSoustraireFractions5ebis","Exercice","__publicField","context","listeTypeDeQuestions","combinaisonListes","i","a","b","c","d","k","s","ordreDesFractions","texte","texteCorr","aNegatif","randint","cNegatif","choice","f1","FractionEtendue","f2","miseEnEvidence","ecritureParentheseSiNegatif","pgcd","props","propositionsQcm","ajouteChampTexteMathLive","sp","handleAnswers","reponse","texNombre","textCorrSplit","aRemplacer","ee","listeQuestionsToContenu"],"mappings":"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"}
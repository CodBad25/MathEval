{"version":3,"file":"canTSpeAN42-C8oI26Og.js","sources":["../../src/exercices/can/TSpe/canTSpeAN42.ts"],"sourcesContent":["import ExerciceSimple from '../../ExerciceSimple'\nimport { KeyboardType } from '../../../lib/interactif/claviers/keyboard'\nimport RepereBuilder from '../../../lib/2d/RepereBuilder'\nimport { Courbe, courbe, IntegraleComptable } from '../../../lib/2d/courbes'\nimport { fixeBordures, mathalea2d } from '../../../modules/2dGeneralites'\nimport { randint } from '../../../modules/outils'\nimport { interpolationDeLagrange } from '../../../lib/mathFonctions/outilsMaths'\nimport { range } from '../../../lib/outils/nombres'\nimport { texNombre } from '../../../lib/outils/texNombre'\nimport { propositionsQcm } from '../../../lib/interactif/qcm'\nexport const titre = 'Encadrer une intégrale'\nexport const interactifReady = true\nexport const interactifType = 'mathLive'\n\nexport const dateDePublication = '26/04/2025'\n\nexport const uuid = '667d9'\nexport const refs = {\n  'fr-fr': [],\n  'fr-ch': [],\n}\n\n/**\n * Exercice test\n * @author Jean-Claude Lhote\n\n*/\nexport default class IntegraleSurface extends ExerciceSimple {\n  constructor() {\n    super()\n    this.typeExercice = 'simple'\n    this.formatInteractif = 'qcm'\n    this.nbQuestions = 1\n    this.nbQuestionsModifiable = false\n    this.besoinFormulaireNumerique = [\n      'Unité de quadrillage',\n      2,\n      \"1 : unité graphique\\n2 : quart de l'unité graphique\",\n    ]\n    this.sup = 1\n    this.formatChampTexte = KeyboardType.clavierCompareAvecNombres\n  }\n\n  nouvelleVersion() {\n    const pas = 1 / this.sup\n    let cF: Courbe\n    do {\n      const a = randint(1, 8)\n      const b = randint(0, 8, a)\n      const c = randint(0, 8, [a, b])\n      const d = randint(1, 8, [a, b, c])\n      const f = interpolationDeLagrange([\n        { x: 0, y: a / 2 },\n        { x: 2.5, y: b / 2 },\n        { x: 4, y: c / 2 },\n        { x: 5, y: d / 2 },\n      ]).fonction\n      const yMax =\n        Math.max(\n          ...range(10)\n            .map((n) => n / 2)\n            .map((x) => f(x)),\n        ) + 1\n      const integrale = new IntegraleComptable(f, {\n        xMin: 0,\n        xMax: 5,\n        pas,\n        sup: false,\n        colorPositif: 'red',\n        colorNegatif: 'blue',\n      })\n      const integrale2 = new IntegraleComptable(f, {\n        xMin: 0,\n        xMax: 5,\n        pas,\n        sup: true,\n        colorPositif: 'red',\n        colorNegatif: 'blue',\n      })\n      const repere = new RepereBuilder({ xMin: 0, xMax: 5, yMin: 0, yMax })\n        .setThickX({ xMin: 0, xMax: 5.5, dx: 1 })\n        .setThickY({ yMin: 0, yMax, dy: 1 })\n        .setLabelX({ xMin: 0, xMax: 5.5, dx: 1 })\n        .setLabelY({ yMin: 0, yMax, dy: 1 })\n        .setGrille({\n          grilleX: { dx: pas, xMin: 0, xMax: 5 },\n          grilleY: { dy: pas, yMin: 0, yMax },\n        })\n        .buildStandard()\n      cF = courbe(f, {\n        repere,\n        color: 'blue',\n        epaisseur: 1,\n        xMin: 0,\n        xMax: 5,\n        step: 0.1,\n      })\n      const objets1 = [repere, integrale, cF]\n      const objets2 = [repere, integrale2, cF]\n      const fig = mathalea2d(\n        Object.assign(\n          { pixelsParCm: 30, scale: 0.7 },\n          fixeBordures([repere, cF]),\n        ),\n        repere,\n        cF,\n      )\n      const figCorr1 = mathalea2d(\n        Object.assign(\n          { pixelsParCm: 30, scale: 0.7, style: 'display: inline-block' },\n          fixeBordures(objets1),\n        ),\n        objets1,\n      )\n      const figCorr2 = mathalea2d(\n        Object.assign(\n          { pixelsParCm: 30, scale: 0.7, style: 'display: inline-block' },\n          fixeBordures(objets2),\n        ),\n        objets2,\n      )\n      this.reponse = '0'\n      this.question = `On a représenté ci-dessous graphiquement la fonction $f$ définie sur $[0;5]$.<br>\n      Quels sont les encadrements qui conviennent pour $\\\\mathcal{A}=\\\\int_{0}^{5}f(x).dx$ ?<br>\n      \n      ${fig}`\n      const integrale3 = new IntegraleComptable(f, {\n        xMin: 0,\n        xMax: 5,\n        pas: 0.1,\n        sup: false,\n        colorPositif: 'red',\n        colorNegatif: 'blue',\n      })\n      const integrale4 = new IntegraleComptable(f, {\n        xMin: 0,\n        xMax: 5,\n        pas: 0.1,\n        sup: true,\n        colorPositif: 'red',\n        colorNegatif: 'blue',\n      })\n      const aireFine = Math.round(\n        (integrale3.aire.positive + integrale4.aire.positive) / 2,\n      ) // Number(integrale3.objets?.map(p => p.aire * (p.color[0] === 'red' ? 1 : -1)).reduce((a, b) => a + b))\n      const aireSup = integrale2.aire.positive // Number(integrale2.objets?.map(p => p.aire * (p.color[0] === 'red' ? 1 : -1)).reduce((a, b) => a + b))\n      const aireInf = integrale.aire.positive // Number(integrale.objets?.map(p => p.aire * (p.color[0] === 'red' ? 1 : -1)).reduce((a, b) => a + b))\n      this.correction = `Un encadrement par deux entiers de $\\\\int_{0}^{5}f(x).dx$ est donné par les aires des zones colorées.<br>\n      Sous la courbe, on a $${Math.round(aireInf / pas / pas)}$ carreaux et au-dessus de la courbe, on a $${aireSup / pas / pas}$ carreaux.<br>\n      ${\n        pas === 1\n          ? \"Comme l'unité d'aire est de 1 carreau\"\n          : \"Comme l'unité d'aire est de 4 carreaux\"\n      }\n on obtient $${texNombre(Math.floor(aireInf), 0)}<\\\\int_{0}^{5}f(x).dx<${texNombre(Math.ceil(aireSup), 0)}$<br>\n     \n      ${figCorr1} ${figCorr2}`\n      this.autoCorrection[0] = {\n        propositions: [\n          {\n            texte: `$${aireFine + 2}<\\\\mathcal{A}<${aireFine + 7}$`,\n            statut: false,\n          },\n          {\n            texte: `$${texNombre(aireInf, 0)}<\\\\mathcal{A}<${texNombre(aireSup, 0)}$`,\n            statut: true,\n          },\n          {\n            texte: `$${texNombre(aireInf - 2, 0)}<\\\\mathcal{A}<${texNombre(aireSup + 2, 0)}$`,\n            statut: true,\n          },\n          {\n            texte: `$${Math.max(0, aireFine - 7)}<\\\\mathcal{A}<${aireFine - 2}$`,\n            statut: false,\n          },\n        ],\n      }\n      this.question += propositionsQcm(this, 0).texte\n    } while (\n      cF.objets == null ||\n      Math.min(...cF.objets.map((p) => p.bordures[1])) < 0\n    )\n  }\n}\n"],"names":["titre","interactifReady","interactifType","dateDePublication","uuid","refs","IntegraleSurface","ExerciceSimple","KeyboardType","pas","cF","a","randint","b","c","d","f","interpolationDeLagrange","yMax","range","n","integrale","IntegraleComptable","integrale2","repere","RepereBuilder","courbe","objets1","objets2","fig","mathalea2d","fixeBordures","figCorr1","figCorr2","integrale3","integrale4","aireFine","aireSup","aireInf","texNombre","propositionsQcm","p"],"mappings":"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"}
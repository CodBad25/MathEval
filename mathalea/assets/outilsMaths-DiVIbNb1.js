import{ab as k,ci as p,y as T,r as P}from"./index-DjA7ROjC.js";import"./vendors/decimal.js-16C9rIKp.js";import"./vendors/katex-DRsvfONx.js";import{m as O}from"./Matrice-DFntyMUc.js";import{P as S}from"./Polynome-gGqMMLAt.js";function z(r){let s,e,l,d;do e=P(-5,5,0),l=P(-5,5,0),d=P(-5,5,0),s=l*l-4*e*d;while(r?s<=0:s>=0);return[e,l,d]}function B(r){const s=r.sort((f,t)=>f.x-t.x),e=[];for(let f=1;f<s.length;f++)s[f-1].x!==s[f].x&&e.push(s[f-1]);if(e.push(s[s.length-1]),e.length<2)throw Error("Pour une interpolation de Lagrange, il faut au moins deux points d'abscisses diffÃ©rentes");const l=e.length-1;let d=new S({coeffs:[0]});for(let f=0;f<=l;f++){let t=new S({coeffs:[1]});for(let a=0;a<=l;a++)if(f!==a){const h=e[f].x-e[a].x;t=new S({coeffs:[-e[a].x/h,1/h]}).multiply(t)}t=t.multiply(e[f].y),d=t.add(d)}return d}function G(r,s,e,l,d){const f=O([[r**2,r],[s**2,s]]);if(f.determinant()===0)return[0,0];const[t,a]=f.inverse().multiply([e-d,l-d]).toArray();return[t,a]}function H(r,s,e,l,d,f,t){const a=O([[r**3,r**2,r],[s**3,s**2,s],[e**3,e**2,e]]),h=l-t,o=d-t,n=f-t;if(a&&a.determinant()===0)return[0,0,0];const[i,c,m]=a.inverse().multiply([h,o,n]).toArray();return[i,c,m]}const u=(r,s,e)=>e?T(r,s):r;function E(r){return r.head!=="Add"?p.function("Multiply",[r,"-1"]):p.function("Add",r.ops.map(E),{canonical:!1})}function A(r){if(r.head==="Negate"){const e=E(r.op1);return p.function("Add",[e],{canonical:!1})}if(r.head==="Subtract"){const e=E(r.op2),l=p.function("Add",[r.op1,e],{canonical:!1});return A(l)}if(r.head!=="Add")return r;const s=[];for(let e of r.ops)e=A(e),e.head==="Add"||e.head==="Delimiter"?s.push(...e.ops.map(A)):s.push(e);return p.function("Add",s,{canonical:!1})}function J(r,s){const e=s.couleurs??["red","blue","green","black","red","blue","green","black"],l=s==null?void 0:s.isColored;r=k(["parentheses","espaces","virgules","fractions"])(r);const f=p.parse(r,{canonical:!1}),a=A(A(f)).ops;let h="";for(let o=0;o<a.length;o++){const n=a[o].latex.startsWith("-")||o===0?a[o].latex:`+${a[o].latex}`,i=a[o].getSubexpressions("Power")[0];let c=0;i!=null?c=i.op2.value:a[o].head==="Square"?c=2:a[o].head==="Negate"?a[o].op1.isConstant?c=0:c=1:a[o].isConstant?c=0:c=1,h+=u(n,e[Math.max(0,2-c)],l)}return h}function K(r,s){const e=s.couleurs??["red","blue","green","black","red","blue","green","black"],l=s==null?void 0:s.isColored;if(r=k(["parentheses","espaces","virgules","fractions"])(r),r.length===0)return"";const f=p.parse(r,{canonical:!1}),t=A(f).ops,a=[];for(let o=0;o<t.length;o++){let n=0;const i=t[o];i.getSubexpressions("Power")[0]!=null?n=i.getSubexpressions("Power")[0].op2.numericValue:i.head==="Square"?n=2:i.head==="Negate"?i.op1.isConstant?n=0:n=1:i.isConstant?n=0:n=1;const c=t[o].latex.startsWith("-")||o===0?t[o].latex:`+${t[o].latex}`;a[n]==null&&(a[n]=[]),a[n].push(c)}const h=[];for(let o=a.length;o>0;o--){const n=a[o-1];if(n!=null&&n.length>0){let i="";for(let c of n)c.startsWith("+")&&i===""&&(c=c.substring(1)),i+=c;h.push(`(${u(i,e[Math.max(0,2-(o-1))],l)})`)}}return h.join("+")}function Q(r,s){const e=s==null?void 0:s.isColored,l=s.colorOffset??0,d=(s==null?void 0:s.level)??0,f=k(["parentheses","fractions"]),t=s.isColored??["red","blue","green","black","red","blue","green","black"];r=f(r);const a=p.parse(r);if(!["Square","Multiply","Power"].includes(a.head))return r.replaceAll("\\frac","\\dfrac");if(a.head==="Square"||a.head==="Power"){if(a.op2.numericValue!==2)return r.replaceAll("\\frac","\\dfrac");const h=a.op1,o=h.head==="Add",n=h.op1,i=h.op2,c=n.isAlgebraic?n.latex.startsWith("-")?`\\left( ${n.latex}\\right) ^2`:`${n.latex}^2`:`\\left( ${n.latex}\\right) ^2`,m=i.isAlgebraic?i.latex.startsWith("-")?`\\left( ${i.latex}\\right) ^2`:`${i.latex}^2`:`\\left( ${i.latex}\\right) ^2`,g=`2\\times ${n.isConstant?n.latex.startsWith("-")?`\\left( ${n.latex}\\right) `:`${n.latex}`:`\\left( ${n.latex}\\right) `}\\times ${i.isConstant?i.latex.startsWith("-")?`\\left( ${i.latex}\\right) `:`${i.latex}`:`${i.latex}`}`;if(d===2)return`${u(c,t[l],e)}${o?"+":"-"}${u(g,t[l+1],e)}+${u(m,t[l+2],e)}`.replaceAll("\\frac","\\dfrac");{const $=p.parse(g).simplify().latex,W=p.box(["Multiply",n,n]).evaluate().latex,v=p.box(["Multiply",i,i]).evaluate().latex;return`${u(W,t[l],e)}${o?"+":"-"}${u($,t[l+1],e)}+${u(v,t[l+2],e)}`.replaceAll("\\frac","\\dfrac")}}else{const h=a.op1,o=a.op2,n=h.op1,i=h.op2,c=h.head==="Add",m=o.op1,g=o.op2,$=o.head==="Add",W=n.latex.startsWith("-")?`\\left( ${n.latex}\\right) `:n.latex,v=i.latex.startsWith("-")?`\\left( ${i.latex}\\right) `:i.latex,q=m.latex.startsWith("-")?`\\left( ${m.latex}\\right) `:m.latex,D=g.latex.startsWith("-")?`\\left( ${g.latex}\\right) `:g.latex;if(d===2)return`${u(W,t[l],e)}\\times ${u(q,t[l],e)}
    ${$?"+":"-"}${u(W,t[l+1],e)}\\times ${u(D,t[l+1],e)}
    ${c?"+":"-"}${u(v,t[l+1],e)}\\times ${u(q,t[l+1],e)}
    ${c===$?"+":"-"}${u(v,t[l+2],e)}\\times ${u(D,t[l+2],e)}`.replaceAll("\\frac","\\dfrac");{const L=p.box(["Multiply",n,m]).evaluate().simplify().latex,x=p.box(["Multiply",n,g]).evaluate().simplify().latex,b=p.box(["Multiply",i,m]).evaluate().simplify().latex,y=p.box(["Multiply",i,g]).evaluate().simplify().latex;if(d===1){const w=x.startsWith("-")?`\\left( ${x}\\right)`:x,C=b.startsWith("-")?`\\left( ${b}\\right)`:b,M=y.startsWith("-")?`\\left( ${y}\\right)`:y;return`${u(L,t[l],e)}
        ${$?"+":"-"}${u(w,t[l+1],e)}
        ${c?"+":"-"}${u(C,t[l+1],e)}
        ${c===$?"+":"-"}${u(M,t[l+1],e)}`.replaceAll("\\frac","\\dfrac")}else{const w=x.startsWith("-")?$?x:`+${x.substring(1)}`:$?`+${x}`:`-${x}`,C=b.startsWith("-")?c?b:`+${b.substring(1)}`:c?`+${b}`:`-${b}`,M=y.startsWith("-")?c===$?y:`+${y.substring(1)}`:c===$?`+${y}`:`-${y}`;return`${u(L,t[l],e)}
        ${u(w,t[l+1],e)}
        ${u(C,t[l+2],e)}
        ${u(M,t[l+3],e)}`.replaceAll("\\frac","\\dfrac")}}}}export{G as a,H as b,z as c,Q as d,B as i,K as r,J as s};
//# sourceMappingURL=outilsMaths-DiVIbNb1.js.map

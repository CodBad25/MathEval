{"version":3,"file":"6N2A-1-CmE_5pl1.js","sources":["../../src/exercices/6e/6N2A-1.ts"],"sourcesContent":["import { grille, seyes } from '../../lib/2d/reperes'\nimport { KeyboardType } from '../../lib/interactif/claviers/keyboard'\nimport { setReponse } from '../../lib/interactif/gestionInteractif'\nimport { ajouteChampTexteMathLive } from '../../lib/interactif/questionMathLive'\nimport { nombreDeChiffresDe } from '../../lib/outils/nombres'\nimport { texNombre } from '../../lib/outils/texNombre'\nimport { mathalea2d, vide2d } from '../../modules/2dGeneralites'\nimport { context } from '../../modules/context'\nimport Operation from '../../modules/operations'\nimport {\n  gestionnaireFormulaireTexte,\n  listeQuestionsToContenu,\n  randint,\n} from '../../modules/outils'\nimport Exercice from '../Exercice'\n\nexport const dateDeModifImportante = '15/02/2025'\nexport const amcReady = true\nexport const amcType = 'AMCHybride'\nexport const interactifReady = true\nexport const interactifType = 'mathLive'\n\nexport const titre =\n  'Poser additions, soustractions et multiplications de nombres entiers'\n\n/**\n * Additions, soustractions et multiplications posées de nombres entiers\n *\n * * abcd +efg\n * * abc0-efg\n * * 1abc-def\n * * abc*d0e tables de 2 à 5\n * * abc*de tables de 5 à 9\n * @author Rémi Angot\n * Support des opérations posées en html par Jean-Claude Lhote.\n */\nexport const uuid = 'cfa6a'\n\nexport const refs = {\n  'fr-fr': ['6N2A-1'],\n  'fr-2016': ['6C10'],\n  'fr-ch': ['9NO3-1'],\n}\nexport default class AdditionsSoustractionsMultiplicationsPosees extends Exercice {\n  constructor() {\n    super()\n    this.spacing = 2\n    context.isHtml ? (this.spacingCorr = 2) : (this.spacingCorr = 1) // Important sinon les opérations posées ne sont pas jolies\n    this.nbQuestions = 5\n\n    this.besoinFormulaireTexte = [\n      'Types de calculs',\n      'Nombres séparés par des tirets :\\n1 : abcde + fgh\\n2 : abc0 - efg\\n3 : 1abc - def\\n4 : abc * d0e (tables de 2 à 5)\\n5 : abc * de (tables de 5 à 9)\\n6 : Mélange',\n    ]\n    this.besoinFormulaire2Numerique = [\n      'Type de cahier',\n      3,\n      ' 1 : Cahier à petits carreaux\\n 2 : Cahier à gros carreaux (Seyes)\\n 3 : Feuille blanche',\n    ]\n    this.besoinFormulaire3CaseACocher = [\n      \"Opérations posées dans l'énoncé\",\n      false,\n    ]\n    // this.besoinFormulaire4CaseACocher = ['Couleurs pour élève dys', false]\n    this.sup = 6\n    this.sup2 = 3\n    this.sup3 = false\n    this.sup4 = false\n  }\n\n  nouvelleVersion() {\n    let typesDeQuestions, reponse\n    this.consigne =\n      this.nbQuestions > 1\n        ? this.sup3\n          ? 'Effectuer les opérations suivantes.'\n          : 'Poser et effectuer les calculs suivants.'\n        : this.sup3\n          ? \"Effectuer l'opération suivante.\"\n          : 'Poser et effectuer le calcul suivant.'\n    const colore = this.sup4 ? 'Colore' : ''\n\n    const listeTypeDeQuestions = gestionnaireFormulaireTexte({\n      max: 5,\n      defaut: randint(1, 5),\n      nbQuestions: this.nbQuestions,\n      melange: 6,\n      saisie: this.sup,\n    })\n\n    let grilletxt\n    if (this.sup2 < 3) {\n      const g = this.sup2 < 3 ? grille(0, 0, 5, 8, 'gray', 0.7) : vide2d()\n      const carreaux = this.sup2 === 2 ? seyes(0, 0, 5, 8) : vide2d()\n      const sc = this.sup2 === 2 ? 0.8 : 0.5\n      const params = {\n        xmin: 0,\n        ymin: 0,\n        xmax: 5,\n        ymax: 8,\n        pixelsParCm: 20,\n        scale: sc,\n      }\n      grilletxt = '<br>' + mathalea2d(params, g, carreaux)\n    } else {\n      grilletxt = ''\n    }\n\n    for (\n      let i = 0, cpt = 0, a, b, c, d, e, f, g, x, y;\n      i < this.nbQuestions && cpt < 50;\n\n    ) {\n      typesDeQuestions = listeTypeDeQuestions[i]\n      this.autoCorrection[i] = {}\n      let texte = ''\n      let texteCorr = ''\n      switch (typesDeQuestions) {\n        case 1: // abcde + fgh\n          a =\n            randint(1, 9) * 10000 +\n            randint(5, 9) * 1000 +\n            randint(5, 9) * 100 +\n            randint(7, 9) * 10 +\n            randint(1, 9)\n          b = randint(5, 9) * 100 + randint(7, 9) * 10 + randint(1, 9)\n          texte = `$${texNombre(a, 0)}+${b}`\n          if (this.interactif)\n            texte +=\n              '=$' +\n              ajouteChampTexteMathLive(this, i, KeyboardType.clavierNumbers) // fonction à utiliser pour la version en ligne afin d'ajouter le formulaire de réponse\n          else texte += '$'\n          texte += grilletxt\n          reponse = a + b\n          texteCorr = String(\n            Operation({\n              options: { colore, solution: true },\n              operande1: a,\n              operande2: b,\n              type: 'addition',\n            }),\n          )\n          if (this.sup3) {\n            texte =\n              String(\n                Operation({\n                  operande1: a,\n                  operande2: b,\n                  type: 'addition',\n                  options: { solution: false, colore },\n                }),\n              ) + (this.interactif ? '<br>' + texte : '')\n          }\n          break\n        case 2: // abc0 - efg\n          a = randint(1, 9)\n          b = randint(1, 9)\n          c = randint(1, 9)\n          e = randint(b, 9)\n          f = randint(c, 9)\n          g = randint(2, 9)\n          x = a * 1000 + b * 100 + c * 10\n          y = e * 100 + f * 10 + g\n          texte = `$${texNombre(x, 0)}-${y}`\n          if (this.interactif)\n            texte +=\n              '=$' +\n              ajouteChampTexteMathLive(this, i, KeyboardType.clavierNumbers) // fonction à utiliser pour la version en ligne afin d'ajouter le formulaire de réponse\n          else texte += '$'\n          texte += grilletxt\n          reponse = x - y\n          texteCorr = String(\n            Operation({\n              operande1: x,\n              operande2: y,\n              type: 'soustraction',\n              options: { solution: true, colore },\n            }),\n          )\n          if (this.sup3) {\n            texte =\n              String(\n                Operation({\n                  operande1: x,\n                  operande2: y,\n                  type: 'soustraction',\n                  options: { solution: false, colore },\n                }),\n              ) + (this.interactif ? '<br>' + texte : '')\n          }\n          break\n        case 3: // 1abc - def\n          a = randint(1, 9)\n          b = randint(1, 9)\n          c = randint(1, 9)\n          d = randint(a, 9)\n          e = randint(1, 9)\n          f = randint(c, 9)\n          x = 1000 + a * 100 + b * 10 + c\n          y = d * 100 + e * 10 + f\n          texte = `$${texNombre(x, 0)}-${y}`\n          if (this.interactif)\n            texte +=\n              '=$' +\n              ajouteChampTexteMathLive(this, i, KeyboardType.clavierNumbers) // fonction à utiliser pour la version en ligne afin d'ajouter le formulaire de réponse\n          else texte += '$'\n          texte += grilletxt\n          reponse = x - y\n          texteCorr = String(\n            Operation({\n              operande1: x,\n              operande2: y,\n              type: 'soustraction',\n              options: { solution: true, colore },\n            }),\n          )\n          if (this.sup3) {\n            texte =\n              String(\n                Operation({\n                  operande1: x,\n                  operande2: y,\n                  type: 'soustraction',\n                  options: { solution: false, colore },\n                }),\n              ) + (this.interactif ? '<br>' + texte : '')\n          }\n          break\n        case 4: // abc * d0e tables de 2 à 5\n          a = randint(2, 5)\n          b = randint(2, 5)\n          c = randint(2, 5)\n          d = randint(2, 5)\n          e = randint(2, 5)\n          x = 100 * a + 10 * b + c\n          y = d * 100 + e\n          texte = `$${texNombre(x, 0)}\\\\times${y}`\n          if (this.interactif)\n            texte +=\n              '=$' +\n              ajouteChampTexteMathLive(this, i, KeyboardType.clavierNumbers) // fonction à utiliser pour la version en ligne afin d'ajouter le formulaire de réponse\n          else texte += '$'\n          texte += grilletxt\n          reponse = x * y\n          texteCorr = String(\n            Operation({\n              operande1: x,\n              operande2: y,\n              type: 'multiplication',\n              options: { solution: true, colore },\n            }),\n          )\n          if (this.sup3) {\n            texte =\n              String(\n                Operation({\n                  operande1: x,\n                  operande2: y,\n                  type: 'multiplication',\n                  options: { solution: false, colore },\n                }),\n              ) + (this.interactif ? '<br>' + texte : '')\n          }\n          break\n        case 5: // abc * de tables de 5 à 9\n        default:\n          a = randint(5, 9)\n          b = randint(5, 9)\n          c = randint(5, 9)\n          d = randint(5, 9)\n          e = randint(5, 9)\n          x = 100 * a + 10 * b + c\n          y = 10 * d + e\n          texte = `$${x}\\\\times${y}`\n          if (this.interactif)\n            texte +=\n              '=$' +\n              ajouteChampTexteMathLive(this, i, KeyboardType.clavierNumbers) // fonction à utiliser pour la version en ligne afin d'ajouter le formulaire de réponse\n          else texte += '$'\n          texte += grilletxt\n          reponse = x * y\n          texteCorr = String(\n            Operation({\n              operande1: x,\n              operande2: y,\n              type: 'multiplication',\n              options: { solution: true, colore },\n            }),\n          )\n          if (this.sup3) {\n            texte =\n              String(\n                Operation({\n                  operande1: x,\n                  operande2: y,\n                  type: 'multiplication',\n                  options: { solution: false, colore },\n                }),\n              ) + (this.interactif ? '<br>' + texte : '')\n          }\n          break\n      }\n\n      if (this.questionJamaisPosee(i, ...[a, b, c, d, e, f, g].map(String))) {\n        // Si la question n'a jamais été posée, on l'enregistre\n        this.listeQuestions[i] = texte\n        if (!context.isHtml && i === 0) {\n          texteCorr = '\\\\setlength\\\\itemsep{2em}' + texteCorr\n        } // espacement entre les questions\n        this.listeCorrections[i] = texteCorr\n        if (!context.isAmc) {\n          setReponse(this, i, reponse, { digits: 0 }) // fonction qui va renseigner this.autocorrection[i]\n        } else {\n          this.autoCorrection[i] = {\n            enonce: '',\n            enonceAvant: false,\n            propositions: [\n              {\n                type: 'AMCOpen',\n                propositions: [\n                  {\n                    enonce:\n                      \"Poser et effectuer l'opération suivante : \" + texte,\n                    texte: texteCorr,\n                    statut: 3,\n                    pointilles: false,\n                  },\n                ],\n              },\n              {\n                type: 'AMCNum',\n                propositions: [\n                  {\n                    texte: '',\n                    statut: '',\n                    reponse: {\n                      texte: \"Résultat de l'opération : \",\n                      valeur: [reponse],\n                      param: {\n                        digits: nombreDeChiffresDe(reponse),\n                        decimals: 0,\n                        signe: false,\n                        approx: 0,\n                      },\n                    },\n                  },\n                ],\n              },\n            ],\n          }\n        }\n        i++\n      }\n      cpt++\n    }\n    listeQuestionsToContenu(this)\n  }\n}\n"],"names":["dateDeModifImportante","amcReady","amcType","interactifReady","interactifType","titre","uuid","refs","AdditionsSoustractionsMultiplicationsPosees","Exercice","context","typesDeQuestions","reponse","colore","listeTypeDeQuestions","gestionnaireFormulaireTexte","randint","grilletxt","g","grille","vide2d","carreaux","seyes","params","mathalea2d","i","cpt","b","c","d","e","f","x","y","texte","texteCorr","texNombre","ajouteChampTexteMathLive","KeyboardType","Operation","nombreDeChiffresDe","setReponse","listeQuestionsToContenu"],"mappings":"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"}
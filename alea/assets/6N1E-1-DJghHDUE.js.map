{"version":3,"file":"6N1E-1-DJghHDUE.js","sources":["../../src/exercices/6e/6N1E-1.ts"],"sourcesContent":["import { miseEnEvidence } from '../../lib/outils/embellissements'\nimport { texNombre } from '../../lib/outils/texNombre'\nimport Exercice from '../Exercice'\nimport {\n  gestionnaireFormulaireTexte,\n  listeQuestionsToContenu,\n} from '../../modules/outils'\nimport { tableauColonneLigne } from '../../lib/2d/tableau'\nimport { AddTabDbleEntryMathlive } from '../../lib/interactif/tableaux/AjouteTableauMathlive'\nimport { handleAnswers } from '../../lib/interactif/gestionInteractif'\nimport { arrondi } from '../../lib/outils/nombres'\nimport FractionEtendue from '../../modules/FractionEtendue'\nimport {\n  choice,\n  combinaisonListes,\n  enleveDoublonNum,\n} from '../../lib/outils/arrayOutils'\nimport { sp } from '../../lib/outils/outilString'\nimport { KeyboardType } from '../../lib/interactif/claviers/keyboard'\n\nexport const titre = 'Lier nombre décimal, fraction spécifique et pourcentage'\nexport const dateDePublication = '04/06/2025'\nexport const interactifType = 'mathLive'\nexport const interactifReady = true\n\n/**\n * Lier nombre décimal, fraction spécifique et pourcentage\n * @author Eric Elter\n */\n\nexport const uuid = '13f50'\n\nexport const refs = {\n  'fr-fr': ['6N1E-1'],\n  'fr-2016': ['6N23-11'],\n  'fr-ch': [''],\n}\nexport default class DecimalFractionPourcentage extends Exercice {\n  constructor() {\n    super()\n    this.besoinFormulaireTexte = [\n      'Type de fractions désirées',\n      [\n        'Nombres séparés par des tirets  :',\n        '1 : 1/4',\n        '2 : 1/2',\n        '3 : 3/4',\n        '4 : 1/10',\n        '5 : 1/5',\n        '6 : 3/10',\n        '7 : 2/5',\n        '8 : 5/10',\n        '9 : 3/5',\n        '10 : 7/10',\n        '11 : 4/5',\n        '12 : 9/10',\n        '13 : Mélange',\n      ].join('\\n'),\n    ]\n\n    this.sup = 13\n    this.nbQuestions = 1\n    this.consigne =\n      'Dans chaque colonne de ce tableau, il y a un unique nombre exprimé sous 3 formes différentes.<br>Compléter ce tableau.'\n    this.comment =\n      'Le tableau contiendra toujours 6 colonnes.<br>Un paramètre permettra de choisir des fractions.<br>'\n    this.comment +=\n      \"Si vous en choisissez plus que 6, alors un choix aléatoire sera fait parmi les fractions choisies pour n'en garder que 6.<br>\"\n    this.comment +=\n      'Si vous en choisissez moins que 6, alors un choix aléatoire sera fait parmi les fractions non choisies pour compléter jusque 6 fractions.'\n  }\n\n  nouvelleVersion() {\n    this.consigne =\n      this.nbQuestions === 1\n        ? 'Dans chaque colonne de ce tableau, il y a un unique nombre exprimé sous 3 formes différentes.<br>Compléter ce tableau.'\n        : 'Dans chaque colonne de ces tableaux, il y a un unique nombre exprimé sous 3 formes différentes.<br>Compléter les tableaux suivants.'\n    const numerateursSpecifiques = [\n      25, 50, 75, 10, 20, 30, 40, 50, 60, 70, 80, 90,\n    ]\n\n    const numerateur = gestionnaireFormulaireTexte({\n      saisie: this.sup,\n      min: 1,\n      max: 12,\n      defaut: 13,\n      melange: 13,\n      nbQuestions: 6,\n      listeOfCase: numerateursSpecifiques,\n    })\n\n    let numerateurAuFormatNumber: number[] = numerateur.filter(\n      (val): val is number => typeof val === 'number',\n    )\n    numerateurAuFormatNumber = enleveDoublonNum(numerateurAuFormatNumber)\n\n    const longueurListe = numerateurAuFormatNumber.length\n    if (longueurListe < 6) {\n      for (let i = longueurListe; i < 6; i++) {\n        numerateurAuFormatNumber.push(\n          choice(numerateursSpecifiques, numerateurAuFormatNumber),\n        )\n      }\n    }\n\n    for (\n      let i = 0, texte, texteCorr, cpt = 0;\n      i < this.nbQuestions && cpt < 50;\n\n    ) {\n      const nbfractionDecimaleEtPourcentage = function (i: number) {\n        const nbNum = numerateurAuFormatNumber[i]\n        return {\n          decimal: texNombre(arrondi(nbNum / 100)),\n          fractionDecimale: new FractionEtendue(nbNum, 100).simplifie()\n            .texFraction,\n          pourcentage: texNombre(nbNum),\n        }\n      }\n\n      const nbDecimal = []\n      const nbDecimalCorr = []\n      const nbDecimalCorrNu = []\n      const pourcentage = []\n      const pourcentageCorr = []\n      const pourcentageCorrNu = []\n      const fractionDecimale = []\n      const fractionDecimaleCorr = []\n      const fractionDecimaleCorrNu = []\n      const typeLignes = combinaisonListes([0, 1, 2], 6)\n      for (let k = 0; k < 6; k++) {\n        const nb = nbfractionDecimaleEtPourcentage(k)\n        const lig = typeLignes[k]\n        nbDecimalCorrNu.push(nb.decimal)\n        pourcentageCorrNu.push(nb.pourcentage + sp() + '\\\\%')\n        fractionDecimaleCorrNu.push(nb.fractionDecimale)\n        if (lig === 0) {\n          nbDecimal.push(this.interactif ? '' : '\\\\phantom{rrrrr}')\n          nbDecimalCorr.push(miseEnEvidence(nb.decimal))\n          pourcentage.push(nb.pourcentage + sp() + '\\\\%')\n          pourcentageCorr.push(nb.pourcentage + sp() + '\\\\%')\n          fractionDecimale.push(this.interactif ? '' : '\\\\phantom{rrrrr}')\n          fractionDecimaleCorr.push(miseEnEvidence(nb.fractionDecimale))\n        } else if (lig === 1) {\n          nbDecimal.push(nb.decimal)\n          nbDecimalCorr.push(nb.decimal)\n          pourcentage.push(this.interactif ? '' : '\\\\phantom{rrrrr}\\\\%')\n          pourcentageCorr.push(miseEnEvidence(nb.pourcentage) + sp() + '\\\\%')\n          fractionDecimale.push(this.interactif ? '' : '\\\\phantom{rrrrr}')\n          fractionDecimaleCorr.push(miseEnEvidence(nb.fractionDecimale))\n        } else {\n          nbDecimal.push(this.interactif ? '' : '\\\\phantom{rrrrr}')\n          nbDecimalCorr.push(miseEnEvidence(nb.decimal))\n          fractionDecimale.push(nb.fractionDecimale)\n          fractionDecimaleCorr.push(nb.fractionDecimale)\n          pourcentage.push(this.interactif ? '' : '\\\\phantom{rrrrr}\\\\%')\n          pourcentageCorr.push(miseEnEvidence(nb.pourcentage) + sp() + '\\\\%')\n        }\n      }\n\n      const enonces = []\n      enonces.push({\n        tabEntetesColonnes: [],\n        tabEntetesLignes: [\n          '\\\\text{Nombre décimal}',\n          '\\\\text{Fraction}',\n          '\\\\text{Pourcentage}',\n        ],\n        tabLines: nbDecimal.concat(fractionDecimale).concat(pourcentage),\n        tabLinesCorr: nbDecimalCorrNu\n          .concat(fractionDecimaleCorrNu)\n          .concat(pourcentageCorrNu),\n        enonce: `${tableauColonneLigne([], ['\\\\text{Nombre décimal}', '\\\\text{Fraction}', '\\\\text{Pourcentage}'], nbDecimal.concat(fractionDecimale).concat(pourcentage))}`,\n        correction: `${tableauColonneLigne([], ['\\\\text{Nombre décimal}', '\\\\text{Fraction}', '\\\\text{Pourcentage}'], nbDecimalCorr.concat(fractionDecimaleCorr).concat(pourcentageCorr))}`,\n      })\n      let objetReponse = {}\n      for (let i = 0; i < enonces[0].tabLines.length; i++) {\n        if (enonces[0].tabLines[i] === '') {\n          const ligne = Math.floor(i / 6)\n          const colonne = i % 6\n          const ref = `L${ligne + 1}C${colonne + 1}`\n          const valeur = Object.assign(\n            {},\n            {\n              value:\n                ligne === 2\n                  ? `${enonces[0].tabLinesCorr[i]}`.slice(0, 2)\n                  : `${enonces[0].tabLinesCorr[i]}`,\n              options:\n                ligne === 1\n                  ? { fractionEgale: true }\n                  : { nombreDecimalSeulement: true },\n            },\n          )\n          const cellule = Object.fromEntries([[ref, valeur]])\n          objetReponse = Object.assign(objetReponse, cellule)\n        }\n      }\n\n      objetReponse = Object.assign(objetReponse, {\n        bareme: (listePoints: number[]) => {\n          return [\n            Math.floor(listePoints.reduce((a, b) => a + b / 2, 0)),\n            listePoints.length / 2,\n          ]\n        },\n      })\n      handleAnswers(this, i, objetReponse)\n\n      if (this.interactif) {\n        const tableau = AddTabDbleEntryMathlive.convertTclToTableauMathlive(\n          enonces[0].tabEntetesColonnes,\n          enonces[0].tabEntetesLignes,\n          enonces[0].tabLines,\n        )\n        for (let j = 0; j < tableau.raws[2].length; j++) {\n          if (tableau.raws[2][j].texte === '')\n            Object.assign(tableau.raws[2][j], {\n              options: { texteApres: '$~\\\\%$' },\n            })\n        }\n        const leTableau = AddTabDbleEntryMathlive.create(\n          this.numeroExercice ?? 0,\n          i,\n          tableau,\n          `tableauMathlive ${KeyboardType.clavierDeBaseAvecFraction}`,\n          true,\n          {},\n        )\n        texte = leTableau.output\n      } else {\n        texte = `${enonces[0].enonce}`\n      }\n      texteCorr = `${enonces[0].correction}`\n\n      if (this.questionJamaisPosee(i, JSON.stringify(objetReponse))) {\n        // Si la question n'a jamais été posée, on en créé une autre\n        this.listeQuestions[i] = texte\n        this.listeCorrections[i] = texteCorr\n        i++\n      }\n      cpt++\n    }\n    listeQuestionsToContenu(this)\n  }\n}\n"],"names":["titre","dateDePublication","interactifType","interactifReady","uuid","refs","DecimalFractionPourcentage","Exercice","numerateursSpecifiques","numerateurAuFormatNumber","gestionnaireFormulaireTexte","val","enleveDoublonNum","longueurListe","i","choice","texte","texteCorr","cpt","nbfractionDecimaleEtPourcentage","nbNum","texNombre","arrondi","FractionEtendue","nbDecimal","nbDecimalCorr","nbDecimalCorrNu","pourcentage","pourcentageCorr","pourcentageCorrNu","fractionDecimale","fractionDecimaleCorr","fractionDecimaleCorrNu","typeLignes","combinaisonListes","k","nb","lig","sp","miseEnEvidence","enonces","tableauColonneLigne","objetReponse","ligne","colonne","ref","valeur","cellule","listePoints","a","b","handleAnswers","tableau","AddTabDbleEntryMathlive","j","KeyboardType","listeQuestionsToContenu"],"mappings":"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"}
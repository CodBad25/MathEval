{"version":3,"file":"3A10-7-wkkXAgsq.js","sources":["../../src/exercices/3e/3A10-7.ts"],"sourcesContent":["import { choice, combinaisonListes } from '../../lib/outils/arrayOutils'\nimport { miseEnEvidence } from '../../lib/outils/embellissements'\nimport { Labyrinthe, labyrinthe } from '../../modules/Labyrinthe'\nimport Exercice from '../Exercice'\nimport { mathalea2d } from '../../modules/2dGeneralites'\nimport { listeQuestionsToContenu, randint } from '../../modules/outils'\nimport { ajouteChampTexteMathLive } from '../../lib/interactif/questionMathLive'\n\nimport { handleAnswers } from '../../lib/interactif/gestionInteractif'\nimport { KeyboardType } from '../../lib/interactif/claviers/keyboard'\nimport { orangeMathalea } from 'apigeom/src/elements/defaultValues'\n\nexport const dateDePublication = '12/10/2022'\nexport const dateDeModifImportante = '29/10/2024'\nexport const titre = 'Explorer un labyrinthe de nombres premiers'\nexport const interactifReady = true\nexport const interactifType = 'mathLive'\n\n/** Explorer un labyrinthe de nombres premiers\n * @author Eric Elter // Sur la base d'autres labyrinthes déjà créés\n */\nexport const uuid = '9552d'\n\nexport const refs = {\n  'fr-fr': ['3A10-7'],\n  'fr-ch': ['9NO4-15'],\n}\nexport default class ExerciceLabyrinthePremiers3e extends Exercice {\n  constructor() {\n    super()\n    this.besoinFormulaireNumerique = [\n      'Liste des nombres premiers ',\n      3,\n      '1 : Inférieurs à 30\\n2 : Inférieurs à 100\\n3 : Inférieurs à 200',\n    ]\n    this.besoinFormulaire2Numerique = [\n      'Niveau de rapidité',\n      6,\n      '1 : Escargot\\n2 : Tortue\\n3 : Lièvre\\n4 : Antilope\\n5 : Guépard\\n6 : Au hasard',\n    ]\n    this.besoinFormulaire3Numerique = [\n      'Nombre de lignes du labyrinthe (entre 2 et 8 ou bien 1 si vous laissez le hasard décider)',\n      8,\n    ]\n    this.besoinFormulaire4Numerique = [\n      'Nombre de colonnes du labyrinthe (entre 3 et 8 ou bien 1 si vous laissez le hasard décider)',\n      8,\n    ]\n    this.nbQuestions = 3\n    this.sup = 3\n    this.sup2 = 6\n    this.sup3 = 1\n    this.sup4 = 1\n    this.comment =\n      'Malgré le choix du nombre de colonnes et de lignes, pour une question de puissance de calculs, le nombre de cases est limité à 60.'\n  }\n\n  nouvelleVersion() {\n    const tailleChiffre = 1.5\n    let nbPremiers: number[] = []\n    let nbMax\n    switch (this.sup) {\n      case 2:\n        nbPremiers = [\n          2, 3, 5, 7, 11, 13, 17, 19, 23, 29, 31, 37, 41, 43, 47, 53, 59, 61,\n          67, 71, 73, 79, 83, 89, 97,\n        ]\n        nbMax = 99\n        break\n      case 1:\n        nbPremiers = [2, 3, 5, 7, 11, 13, 17, 19, 23, 29]\n        nbMax = 29\n        break\n      case 3:\n      default:\n        nbPremiers = [\n          2, 3, 5, 7, 11, 13, 17, 19, 23, 29, 31, 37, 41, 43, 47, 53, 59, 61,\n          67, 71, 73, 79, 83, 89, 97, 101, 103, 107, 109, 113, 127, 131, 137,\n          139, 149, 151, 157, 163, 167, 173, 179, 181, 191, 193, 197, 199,\n        ]\n        nbMax = 199\n        break\n    }\n\n    let texte, texteCorr\n    let laby: Labyrinthe\n    let monChemin\n\n    for (let q = 0; q < this.nbQuestions; ) {\n      let nbL = this.sup3 === 1 ? randint(2, 7) : Math.max(2, this.sup3)\n      let nbC = this.sup4 === 1 ? randint(3, 7) : Math.max(3, this.sup4)\n      let indiceDiminution = 0\n      while (nbL * nbC > 60) {\n        indiceDiminution++\n        if (choice([true, false])) {\n          nbL =\n            this.sup3 === 1\n              ? randint(2, 7)\n              : Math.max(2, this.sup3 - 1 - (indiceDiminution % 2))\n          nbC =\n            this.sup4 === 1\n              ? randint(3, 7)\n              : Math.max(3, this.sup4 - (indiceDiminution % 2))\n        } else {\n          nbL =\n            this.sup3 === 1\n              ? randint(2, 7)\n              : Math.max(2, this.sup3 - (indiceDiminution % 2))\n          nbC =\n            this.sup4 === 1\n              ? randint(3, 7)\n              : Math.max(3, this.sup4 - 1 - (indiceDiminution % 2))\n        }\n      }\n      laby = labyrinthe({ nbLignes: nbL, nbColonnes: nbC })\n      laby.niveau = this.sup2\n      monChemin = laby.choisitChemin(laby.niveau) // On choisit un chemin\n      laby.murs2d = laby.construitMurs(monChemin) // On construit le labyrinthe\n      laby.chemin2d = laby.traceChemin(monChemin, orangeMathalea) // On trace le chemin solution\n\n      texte =\n        'Trouver la sortie en ne passant que par les cases contenant un nombre premier.<br>'\n      texteCorr = `Voici le chemin en couleur ($${miseEnEvidence(laby.chemin2d.length - 1)}$ nombres rencontrés avant la sortie) et la sortie est le numéro $${miseEnEvidence(nbL - monChemin[monChemin.length - 1][1])}$.<br>`\n      // Zone de construction du tableau de nombres : S'ils sont sur monChemin et seulement si, ils doivent vérifier la consigne\n\n      const bonnesReponses = combinaisonListes(nbPremiers, nbC * nbL)\n      let mauvaisesReponses = Array.from(\n        { length: nbMax - 1 },\n        (_, i) => i + 2,\n      ).filter((number) => !nbPremiers.includes(number))\n      mauvaisesReponses = combinaisonListes(mauvaisesReponses, nbC * nbL)\n      // Le tableau de nombre étant fait, on place les objets nombres.\n      laby.nombres2d = laby.placeNombres(\n        monChemin,\n        bonnesReponses,\n        mauvaisesReponses,\n        tailleChiffre,\n      )\n      const params = {\n        xmin: -4,\n        ymin: 0,\n        xmax: 5 + 3 * nbC,\n        ymax: 2 + 3 * nbL,\n        pixelsParCm: 20,\n        scale: 0.7,\n      }\n      texte += mathalea2d(params, laby.murs2d, laby.nombres2d)\n      texte += ajouteChampTexteMathLive(\n        this,\n        2 * q,\n        KeyboardType.clavierNumbers,\n        { texteAvant: 'Indiquer le numéro de la bonne sortie :' },\n      )\n      handleAnswers(this, 2 * q, {\n        reponse: { value: `${nbL - monChemin[monChemin.length - 1][1]}` },\n      })\n      texte += ajouteChampTexteMathLive(\n        this,\n        2 * q + 1,\n        KeyboardType.clavierNumbers,\n        { texteAvant: '<br>Combien de nombres rencontrés avant la sortie ?' },\n      )\n      handleAnswers(this, 2 * q + 1, {\n        reponse: { value: `${laby.chemin2d.length - 1}` },\n      })\n      texteCorr += mathalea2d(\n        params,\n        laby.murs2d,\n        laby.nombres2d,\n        laby.chemin2d,\n      )\n\n      if (\n        this.questionJamaisPosee(q, bonnesReponses[0], mauvaisesReponses[0])\n      ) {\n        this.listeQuestions[q] = texte\n        this.listeCorrections[q] = texteCorr\n\n        q++\n      }\n    }\n    listeQuestionsToContenu(this)\n  }\n}\n"],"names":["dateDePublication","dateDeModifImportante","titre","interactifReady","interactifType","uuid","refs","ExerciceLabyrinthePremiers3e","Exercice","nbPremiers","nbMax","texte","texteCorr","laby","monChemin","q","nbL","randint","nbC","indiceDiminution","choice","labyrinthe","orangeMathalea","miseEnEvidence","bonnesReponses","combinaisonListes","mauvaisesReponses","_","i","number","params","mathalea2d","ajouteChampTexteMathLive","KeyboardType","handleAnswers","listeQuestionsToContenu"],"mappings":"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"}
import{E as h,A as O}from"./tinyspy-BUkEO3Vl.js";const y=new Set;function v(n){return typeof n=="function"&&"_isMockFunction"in n&&n._isMockFunction}function w(n,e,o){const c=o?{[{get:"getter",set:"setter"}[o]]:e}:e,r=h(n,c);return d(r)}let C=0;function d(n){const e=n;let o,l=[],c=[];const r=O(n),g={get calls(){return r.calls},get instances(){return l},get invocationCallOrder(){return c},get results(){return r.results.map(([t,m])=>({type:t==="error"?"throw":"return",value:m}))},get lastCall(){return r.calls[r.calls.length-1]}};let i=[],s=!1;function a(...t){return l.push(this),c.push(++C),(s?o:i.shift()||o||r.getOriginal()||(()=>{})).apply(this,t)}let u=e.name;e.getMockName=()=>u||"vi.fn()",e.mockName=t=>(u=t,e),e.mockClear=()=>(r.reset(),l=[],c=[],e),e.mockReset=()=>(e.mockClear(),o=()=>{},i=[],e),e.mockRestore=()=>(e.mockReset(),r.restore(),o=void 0,e),e.getMockImplementation=()=>o,e.mockImplementation=t=>(o=t,r.willCall(a),e),e.mockImplementationOnce=t=>(i.push(t),e);function I(t,m){const p=o;o=t,r.willCall(a),s=!0;const k=()=>{o=p,s=!1},f=m();return f instanceof Promise?f.then(()=>(k(),e)):(k(),e)}return e.withImplementation=I,e.mockReturnThis=()=>e.mockImplementation(function(){return this}),e.mockReturnValue=t=>e.mockImplementation(()=>t),e.mockReturnValueOnce=t=>e.mockImplementationOnce(()=>t),e.mockResolvedValue=t=>e.mockImplementation(()=>Promise.resolve(t)),e.mockResolvedValueOnce=t=>e.mockImplementationOnce(()=>Promise.resolve(t)),e.mockRejectedValue=t=>e.mockImplementation(()=>Promise.reject(t)),e.mockRejectedValueOnce=t=>e.mockImplementationOnce(()=>Promise.reject(t)),Object.defineProperty(e,"mock",{get:()=>g}),r.willCall(a),y.add(e),e}function j(n){const e=d(h({spy:n||(()=>{})},"spy"));return n&&e.mockImplementation(n),e}export{j as f,v as i,y as m,w as s};
//# sourceMappingURL=vitest_spy-CVeaWOS9.js.map

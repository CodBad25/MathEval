{"version":3,"file":"3G32-0-CgBPCGKD.js","sources":["../../src/exercices/3e/3G32-0.ts"],"sourcesContent":["import { angle, codageAngleDroit } from '../../lib/2d/angles'\nimport { cercle } from '../../lib/2d/cercle'\nimport { afficheMesureAngle, texteSurSegment } from '../../lib/2d/codages'\nimport { droite, droiteVerticaleParPoint } from '../../lib/2d/droites'\nimport {\n  milieu,\n  Point,\n  point,\n  pointAdistance,\n  pointIntersectionLC,\n  tracePoint,\n} from '../../lib/2d/points'\nimport {\n  NommePolygone,\n  Polygone,\n  polygone,\n  polygoneAvecNom,\n} from '../../lib/2d/polygones'\nimport { longueur, segment } from '../../lib/2d/segmentsVecteurs'\nimport { labelPoint, texteParPosition } from '../../lib/2d/textes'\nimport { projectionOrtho } from '../../lib/2d/transformations'\nimport {\n  Arete3d,\n  arete3d,\n  demicercle3d,\n  Point3d,\n  point3d,\n  Vecteur3d,\n  vecteur3d,\n} from '../../lib/3d/3dProjectionMathalea2d/elements'\nimport { sphere3d } from '../../lib/3d/3dProjectionMathalea2d/solides'\nimport {\n  CodageAngleDroit3D,\n  rotationV3d,\n} from '../../lib/3d/3dProjectionMathalea2d/tranformations'\nimport {\n  handleAnswers,\n  setReponse,\n} from '../../lib/interactif/gestionInteractif'\nimport { ajouteChampTexteMathLive } from '../../lib/interactif/questionMathLive'\nimport { choice } from '../../lib/outils/arrayOutils'\nimport { miseEnEvidence } from '../../lib/outils/embellissements'\nimport {\n  arrondi,\n  nombreDeChiffresDansLaPartieDecimale,\n  nombreDeChiffresDe,\n} from '../../lib/outils/nombres'\nimport {\n  creerNomDePolygone,\n  lettreDepuisChiffre,\n  numAlpha,\n  sp,\n} from '../../lib/outils/outilString'\nimport { stringNombre, texNombre } from '../../lib/outils/texNombre'\nimport { colorToLatexOrHTML, mathalea2d } from '../../modules/2dGeneralites'\nimport { context } from '../../modules/context'\nimport Grandeur from '../../modules/Grandeur'\nimport {\n  gestionnaireFormulaireTexte,\n  listeQuestionsToContenu,\n  randint,\n} from '../../modules/outils'\nimport Exercice from '../Exercice'\n\nexport const titre =\n  \"Problèmes nécessitant un calcul de longueur à l'aide de la trigonométrie\"\nexport const interactifReady = true\nexport const interactifType = 'mathLive'\nexport const amcReady = true\nexport const amcType = 'AMCHybride'\nexport const dateDePublication = '05/03/2022'\nexport const dateDeModifImportante = '10/10/2025'\n\n/**\n * Calculer la largeur d\\'une rivière @author Jean-Claude Lhote\n * Calcul d\\'un parallèle terrestre @author Jean-Claude Lhote\n * Calculer la hauteur d\\'un objet vu sous un angle donné @author Jean-Claude Lhote\n * Calculer la hauteur d\\'une falaise @author Jean-Claude Lhote\n * Calculer la hauteur d\\'une montagne @author Jean-Claude Lhote\n * Triangle rectangle inscrit dans un triangle rectangle @author Rémi Angot\n * Fusion des exercices @author Guillaume Valmont\n * Interactivité des exercices, aléatoirisation des figures et des points dans les exos, AMC-isation de tous les exos @author Eric Elter\n * Meilleure interactivite + colorisation des exercices par @author Eric Elter\n */\nexport const uuid = '2045e'\n\nexport const refs = {\n  'fr-fr': ['3G32-0'],\n  'fr-ch': ['1mT-9'],\n}\nexport default class ProblemesTrigoLongueur extends Exercice {\n  constructor() {\n    super()\n\n    this.besoinFormulaireCaseACocher = [\n      'Afficher des questions intermédiaires et éventuellement un schéma',\n    ]\n    this.sup = true\n    this.besoinFormulaire2Texte = [\n      'Type de questions',\n      `Nombres séparés par des tirets :\n    1 : Calculer la largeur d'une rivière\n    2 : Calcul d'un parallèle terrestre\n    3 : Calculer la hauteur d'un objet vu sous un angle donné\n    4 : Calculer la hauteur d'une falaise\n    5 : Calculer la hauteur d'une montagne\n    6 : Calculer une longueur dans des triangles rectangles imbriqués\n    7 : Mélange`,\n    ]\n    this.comment = `Cet exercice regroupe les exercices 3G32-X (X : 1 à 5).`\n    this.sup2 = 7\n    this.nbQuestions = 2\n    this.spacingCorr = 3\n    this.spacing = 2\n  }\n\n  nouvelleVersion() {\n    let listeDeNomsDePolygones\n    const objet = [\n      ['arbre', 'un', '', 'situé'],\n      ['immeuble', 'un', '', 'situé'],\n      ['éolienne', 'une', 'te', 'située'],\n      ['colline', 'une', 'te', 'située'],\n    ]\n    let distance\n    let beta = 0\n    let alpha = 0\n    let taille\n    let A: Point | Point3d\n    let B: Point | Point3d\n    let S: Point | Point3d\n    let C: Point | Point3d\n    let R: [Polygone, NommePolygone] | Vecteur3d | Point\n    let objets = []\n    let p\n    let O: Point | Point3d\n    let H: Point | Point3d\n    let M: Point | Point3d\n    let R2: Vecteur3d\n    let Axe\n    let normalV\n    let normalH\n    let P: Point | Point3d\n    let HP: Arete3d\n    let Sph\n    let OP: Arete3d\n    let PoleNord\n    let PoleSud\n    let hauteur\n    let teta\n    let index\n    // let M1, MInit, normalH1, R21, P1\n    const lettresGrecques = [\n      ['α', '\\\\alpha'],\n      ['β', '\\\\beta'],\n      ['δ', '\\\\delta'],\n      ['γ', '\\\\gamma'],\n      ['ω', '\\\\omega'],\n      ['ε', '\\\\epsilon'],\n      ['θ', '\\\\theta'],\n      ['λ', '\\\\lambda'],\n    ]\n    const listeTypeQuestions = gestionnaireFormulaireTexte({\n      saisie: this.sup2,\n      min: 1,\n      max: 6,\n      melange: 7,\n      defaut: 7,\n      nbQuestions: this.nbQuestions,\n    })\n\n    let ii = 0 // Cet indice permet de gérer les numéros de champs interactifs car ces champs ne sont pas de nombre égal selon les listeTypeQuestions[i].\n    let iiAMC // Cet indice permet de gérer les numéros de champs AMC car ces champs ne sont pas de nombre égal selon les listeTypeQuestions[i].\n    for (\n      let i = 0,\n        iiInitial,\n        texte,\n        numA,\n        ordA,\n        numB,\n        numC,\n        numR,\n        absC,\n        numS,\n        absS,\n        numH,\n        AB,\n        BA,\n        propositionsAMC,\n        enonceAMC,\n        enonceInit,\n        texteCorr,\n        reponse,\n        j,\n        cpt = 0;\n      i < this.nbQuestions && cpt < 50;\n\n    ) {\n      texte = ''\n      texteCorr = ''\n      propositionsAMC = []\n      iiAMC = 0\n      iiInitial = ii // ça c'est pour revenir au même index si on ne pousse pas la question !\n      if (i % 3 === 0) listeDeNomsDePolygones = ['QD']\n      const choixAlpha = randint(0, 7)\n      const alfa = lettresGrecques[choixAlpha][1] // context.isHtml ? lettresGrecques[choixAlpha][0] : // on passe tout en latex\n      const alfaInteractif = lettresGrecques[choixAlpha][1]\n      const choixBeta = randint(0, 7, [choixAlpha])\n      const baita = lettresGrecques[choixBeta][1] // context.isHtml ? lettresGrecques[choixBeta][0] :\n      const baitaInteractif = lettresGrecques[choixBeta][1]\n      const sensV = choice([-1, 1])\n      const sensH = choice([-1, 1])\n      numB = randint(1, 26, [4, 5, 15, 23, 24, 25])\n      numC = randint(1, 26, [4, 5, 15, 23, 24, 25, numB])\n      numS = randint(1, 26, [4, 5, 15, 23, 24, 25, numB, numC])\n      numA = randint(1, 26, [4, 5, 15, 23, 24, 25, numB, numC, numS])\n      numH = randint(1, 26, [4, 5, 15, 23, 24, 25, numA, numB, numC, numS])\n      numR = randint(1, 26, [\n        4,\n        5,\n        15,\n        23,\n        24,\n        25,\n        numA,\n        numB,\n        numC,\n        numS,\n        numH,\n      ])\n      const lR = lettreDepuisChiffre(numR)\n      const lB = lettreDepuisChiffre(numB)\n      const lC = lettreDepuisChiffre(numC)\n      const lS = lettreDepuisChiffre(numS)\n      const lA = lettreDepuisChiffre(numA)\n      const lH = lettreDepuisChiffre(numH)\n\n      switch (listeTypeQuestions[i]) {\n        case 1:\n          objets = []\n          alpha = randint(25, 65)\n          j = 0\n          beta = alpha + randint(2, 5)\n          distance = randint(7, 15) * 10\n          taille = arrondi(\n            Math.round(\n              distance *\n                (Math.tan((beta * Math.PI) / 180) -\n                  Math.tan((alpha * Math.PI) / 180)),\n            ),\n          )\n          numA = randint(1, 26, [4, 5, 15, 23, 24, 25])\n          ordA = sensV * randint(5, 9)\n          A = point(0, ordA, lA)\n          numB = randint(1, 26, [4, 5, 15, 23, 24, 25, numA])\n          B = point(0, 0, lB)\n          AB = lA + lB\n          BA = lB + lA\n          numC = randint(1, 26, [4, 5, 15, 23, 24, 25, numA, numB])\n          absC = sensH * randint(5, 9)\n          C = point(\n            absC,\n            0,\n            lC,\n            sensH > 0\n              ? sensV > 0\n                ? 'below left'\n                : 'above left'\n              : sensV > 0\n                ? 'below right'\n                : 'above right',\n          )\n          numS = randint(1, 26, [4, 5, 15, 23, 24, 25, numA, numB, numC])\n          absS = randint(3, 7)\n          S = point(absC + sensH * absS, 0, lS)\n          p = polygoneAvecNom(A, B, S)\n          R = polygoneAvecNom(\n            point(absC, -1 * sensV),\n            point(absC + sensH * absS, -1 * sensV),\n            point(absC + sensH * absS, ordA + sensV),\n            point(absC, ordA + sensV),\n          )\n          R[0].color = context.isHtml\n            ? colorToLatexOrHTML('blue')\n            : colorToLatexOrHTML('lightgray')\n          R[0].couleurDeRemplissage = R[0].color\n          R[0].opaciteDeRemplissage = 0.5\n          R[0].opacite = 0.5\n          objets.push(\n            R[0],\n            p[1],\n            p[0],\n            segment(A, C),\n            codageAngleDroit(A, B, C),\n            labelPoint(C),\n          )\n          objets.push(\n            afficheMesureAngle(B, A, C, 'black', 1, `${alfa}`),\n            afficheMesureAngle(B, A, S, 'black', 2, `${baita}`),\n          )\n          objets.push(\n            texteSurSegment(\n              `${stringNombre(distance)} m`,\n              sensH * sensV < 0 ? B : A,\n              sensH * sensV < 0 ? A : B,\n              'black',\n              -0.5,\n            ),\n          )\n\n          texte =\n            \"Un géomètre veut mesurer la largeur d'une rivière, représentée par le rectangle, dans le schéma ci-dessous.<br>\"\n          texte += `Pour cela, il remarque une souche notée $${lS}$ sur la rive opposée.<br>`\n          texte += `Il a placé un cône sur sa rive en face de la souche, son emplacement est noté $${lC}$.<br>`\n          texte += `Ensuite, il s'est éloigné de la berge en restant aligné avec la souche $${lS}$ et le cône $${lC}$ jusqu'à un endroit où il place un bâton noté $${lB}$.<br>`\n          texte += `Du bâton, il effectue un quart de tour et s'éloigne d'une distance de $${distance}$ m jusqu'à son appareil de mesure noté $${lA}$.<br>`\n          texte += `À l'aide de son appareil, il mesure l'angle $\\\\widehat{${lB}${lA}${lC}}$ noté $${alfa}$  et l'angle $\\\\widehat{${lB}${lA}${lS}}$ noté $${baita}$.`\n          texte +=\n            \"<br>(Le schéma ci-dessous n'est pas en vraie grandeur et ne respecte pas les proportions.)\"\n          texte +=\n            '<br>' +\n            mathalea2d(\n              {\n                xmin: Math.min(-sensH, absC + sensH * (absS + 1)),\n                ymin: Math.min(-sensV, ordA + sensV),\n                xmax: Math.max(-sensH, absC + sensH * (absS + 1)),\n                ymax: Math.max(-sensV, ordA + sensV),\n                pixelsParCm: 20,\n                scale: 0.5,\n              },\n              objets,\n            ) //  1O est le max de ordA+1 : ainsi le cadre a toujours proportionnellement la même hauteur, bien que la figure change de hauteur.\n          enonceInit = texte\n          if (this.sup) {\n            enonceAMC = `${numAlpha(j)}Exprimer $${lB}${lC}$ en fonction de $${lA}${lB}$ et de $${alfa}$.`\n            texte += enonceAMC\n            if (this.interactif) {\n              texte += ajouteChampTexteMathLive(this, i + ii, '  grecTrigo', {\n                texteAvant: `$${sp(20)}${lB}${lC}=$`,\n              })\n              handleAnswers(this, i + ii, {\n                reponse: {\n                  value: `${AB}\\\\times\\\\tan(${alfaInteractif})`,\n                  options: { calculFormel: true },\n                },\n              })\n              ii++\n            } else if (context.isAmc) {\n              propositionsAMC[iiAMC] = {\n                type: 'AMCOpen',\n                propositions: [\n                  {\n                    texte: '',\n                    statut: 2,\n                    enonce: enonceInit + enonceAMC,\n                    pointilles: false,\n                  },\n                ],\n              }\n              iiAMC++\n            }\n\n            j++\n            enonceAMC = `${numAlpha(j)}Exprimer $${lB}${lS}$ en fonction de $${lA}${lB}$ et de $${baita}$.`\n            texte += '<br>' + enonceAMC\n            if (this.interactif) {\n              texte += ajouteChampTexteMathLive(this, i + ii, '  grecTrigo', {\n                texteAvant: `$${sp(20)}${lB}${lS}=$`,\n              })\n              handleAnswers(this, i + ii, {\n                reponse: {\n                  value: `${AB}\\\\times\\\\tan(${baitaInteractif})`,\n                  options: { calculFormel: true },\n                },\n              })\n              ii++\n            } else if (context.isAmc) {\n              propositionsAMC[iiAMC] = {\n                type: 'AMCOpen',\n                propositions: [\n                  {\n                    texte: '',\n                    statut: 2,\n                    enonce: enonceAMC,\n                    pointilles: false,\n                  },\n                ],\n              }\n              iiAMC++\n            }\n            j++\n          }\n          enonceAMC = `${numAlpha(j)}Exprimer $${lC}${lS}$ en fonction de $${lA}${lB}$, de $${alfa}$ et de $${baita}$.`\n          texte += '<br>' + enonceAMC\n          if (this.interactif) {\n            texte += ajouteChampTexteMathLive(this, i + ii, '  grecTrigo', {\n              texteAvant: `$${sp(20)}${lC}${lS}=$`,\n            })\n            handleAnswers(this, i + ii, {\n              reponse: {\n                value: [\n                  `${AB}\\\\times(\\\\tan(${baitaInteractif})-\\\\tan(${alfaInteractif}))`,\n                  `${AB}\\\\times\\\\tan(${baitaInteractif})-${AB}\\\\times\\\\tan(${alfaInteractif})`,\n                ],\n                options: { calculFormel: true },\n              },\n            })\n            ii++\n          } else if (context.isAmc) {\n            propositionsAMC[iiAMC] = {\n              type: 'AMCOpen',\n              propositions: [\n                {\n                  texte: '',\n                  statut: this.sup ? 2 : 5,\n                  enonce: this.sup\n                    ? enonceAMC\n                    : enonceInit + '<br>' + enonceAMC,\n                  pointilles: false,\n                },\n              ],\n            }\n            iiAMC++\n          }\n          j++\n          enonceAMC = `${numAlpha(j)}Calculer la largeur de la rivière au mètre près sachant que $${alfa}=${alpha}^\\\\circ$ et $${baita}=${beta}^\\\\circ$.`\n          texte += '<br>' + enonceAMC\n          if (this.interactif) {\n            texte += ajouteChampTexteMathLive(\n              this,\n              i + ii,\n              '  unites[longueurs]',\n              {\n                texteAvant: `$${sp(25)}$`,\n                texteApres: sp(4) + \"(Préciser l'unité)\",\n              },\n            )\n            setReponse(this, i + ii, new Grandeur(taille, 'm'), {\n              formatInteractif: 'unites',\n            })\n            ii++\n          } else if (context.isAmc) {\n            propositionsAMC[iiAMC] = {\n              type: 'AMCNum',\n              propositions: [\n                {\n                  texte: '',\n                  statut: '',\n                  reponse: {\n                    texte: enonceAMC,\n                    valeur: [taille],\n                    alignement: 'center',\n                    param: {\n                      digits: nombreDeChiffresDe(taille),\n                      decimals: 0,\n                      signe: false,\n                    },\n                  },\n                },\n              ],\n            }\n            iiAMC++\n          }\n          j = 0\n          texteCorr = mathalea2d(\n            {\n              xmin: Math.min(-sensH, absC + sensH * (absS + 1)),\n              ymin: Math.min(-sensV, ordA + sensV),\n              xmax: Math.max(-sensH, absC + sensH * (absS + 1)),\n              ymax: Math.max(-sensV, ordA + sensV),\n              pixelsParCm: 20,\n              scale: 0.5,\n            },\n            objets,\n          )\n          texteCorr += `${numAlpha(j)}Dans le triangle $${lA}${lB}${lC}$ rectangle en $${lB}$ on a : $\\\\tan(${alfa})=\\\\dfrac{${lB}${lC}}{${AB}}$ \n          d'où $${lB}${lC}=${miseEnEvidence(`${AB}\\\\times \\\\tan(${alfa})`)}$.<br>`\n          j++\n          if (this.sup) {\n            texteCorr += `${numAlpha(j)}`\n            j++\n          }\n          texteCorr += `Dans le triangle $${lA}${lB}${lS}$ rectangle en $${lB}$ on a : $\\\\tan(${baita})=\\\\dfrac{${lB}${lS}}{${AB}}$ \n          d'où $${lB}${lS}=${miseEnEvidence(`${AB}\\\\times \\\\tan(${baita})`)}$.<br>`\n          if (this.sup) {\n            texteCorr += `${numAlpha(j)}`\n            j++\n          }\n          texteCorr += `Comme $${lB}${lS}=${AB}\\\\times \\\\tan(${baita})$ et $${lB}${lC}=${AB}\\\\times \\\\tan(${alfa})$, alors $${lC}${lS}=${AB}\\\\times(\\\\tan(${baita})-\\\\tan(${alfa}))$.<br>`\n          texteCorr += `${numAlpha(j)}Donc $${lC}${lS}=${distance}${sp()} m\\\\times(\\\\tan(${beta}^\\\\circ)-\\\\tan(${alpha}^\\\\circ))\\\\approx ${miseEnEvidence(`${taille}${sp()}\\\\text{m}`)}$.<br>`\n\n          break\n        case 2:\n          context.anglePerspective = 20\n          objets = []\n          alpha = randint(30, 60)\n          O = point3d(0, 0, 0, false, 'O')\n          M = point3d(5, 0, 0, true, 'M')\n          PoleNord = point3d(0, 0, 5, false, 'N')\n          PoleSud = point3d(0, 0, -5, false, 'S')\n          R = vecteur3d(O, M)\n          Axe = arete3d(PoleSud, PoleNord)\n          normalV = vecteur3d(0, 0, 1)\n          M = rotationV3d(M, normalV, context.anglePerspective)\n          M.c2d.nom = 'M'\n          M.c2d.positionLabel = 'right'\n          normalH = rotationV3d(R, normalV, 90)\n          P = rotationV3d(M, normalH, -alpha)\n          P.c2d.nom = 'P'\n          P.c2d.positionLabel = 'above right'\n          H = point3d(0, 0, P.z, false)\n          R2 = rotationV3d(vecteur3d(H, P), normalV, context.anglePerspective) // Rayon obtenu depuis P\n          H.c2d.nom = 'H'\n          H.c2d.positionLabel = 'left'\n          Sph = sphere3d(O, 5, 'black', 'black', 6, 'gray', 12, 'gray')\n          HP = arete3d(H, P)\n          OP = arete3d(O, P)\n          objets.push(\n            ...Sph.c2d,\n            Axe.c2d,\n            HP.c2d,\n            OP.c2d,\n            new CodageAngleDroit3D(P, H, O),\n            tracePoint(H.c2d, P.c2d, O.c2d, M.c2d),\n            labelPoint(H.c2d, P.c2d, O.c2d, M.c2d),\n          )\n          objets.push(\n            demicercle3d(\n              H,\n              normalV,\n              R2,\n              'indirect',\n              false,\n              'red',\n              -context.anglePerspective,\n            ),\n          )\n          objets.push(\n            demicercle3d(\n              H,\n              normalV,\n              R2,\n              'direct',\n              true,\n              'red',\n              -context.anglePerspective,\n            ),\n          )\n          objets.push(arete3d(O, M).c2d)\n          objets.push(\n            afficheMesureAngle(\n              M.c2d,\n              O.c2d,\n              P.c2d,\n              'black',\n              1.5,\n              `${alpha}^\\\\circ`,\n            ),\n          )\n          texte = mathalea2d(\n            {\n              xmin: -8,\n              ymin: -6,\n              xmax: 8,\n              ymax: 6,\n              pixelsParCm: 20,\n              scale: 0.5,\n            },\n            objets,\n          )\n          texte += `Quelle est la longueur du $${alpha}$e parallèle Nord au kilomètre près ?`\n          texte += `<br>On prendra $${texNombre(6400)}${sp()}\\\\text{km}$ comme rayon de la Terre.<br>`\n          enonceAMC = texte\n          texteCorr = mathalea2d(\n            {\n              xmin: -8,\n              ymin: -6,\n              xmax: 8,\n              ymax: 6,\n              pixelsParCm: 20,\n              scale: 0.5,\n            },\n            objets,\n          )\n          texteCorr += `Considérons que le $${alpha}$e parallèle Nord est un cercle. Soit $H$ le centre de ce cercle situé sur l'axe de rotation de la Terre.<br>`\n          texteCorr +=\n            'Les segments $[HP]$ et $[OM]$ sont parallèles, donc les angles alternes-internes $\\\\widehat{MOP}$ et $\\\\widehat{OPH}$ sont égaux.<br>'\n          texteCorr +=\n            \"Dans le triangle $OPH$ rectangle en $H$, $\\\\cos(\\\\widehat{OPH})=\\\\dfrac{HP}{OP}$ d'où $HP=OP\\\\times \\\\cos(\\\\widehat{OPH})$.<br>\"\n          texteCorr += `Le rayon de la Terre étant approximativement de $${texNombre(6400)}${sp()}\\\\text{km}$, nous pouvons calculer $HP$.<br>`\n          texteCorr += `$HP\\\\approx${texNombre(6400)}${sp()}\\\\text{km}\\\\times \\\\cos(${alpha}^\\\\circ)\\\\approx ${texNombre(arrondi(6400 * Math.cos((alpha * Math.PI) / 180)))}${sp()}\\\\text{km}$<br>`\n          reponse = Math.round(\n            2 * Math.PI * 6400 * Math.cos((alpha * Math.PI) / 180),\n          )\n          texteCorr += `Calculons maintenant la longueur $L$ du $${alpha}$e parallèle : $L\\\\approx 2\\\\times \\\\pi\\\\times ${texNombre(arrondi(6400 * Math.cos((alpha * Math.PI) / 180)))}${sp()}\\\\text{km}\\\\approx ${miseEnEvidence(`${texNombre(reponse)}${sp()}\\\\text{km}`)}$.<br>`\n          if (this.interactif) {\n            texte += ajouteChampTexteMathLive(\n              this,\n              i + ii,\n              '  unites[longueurs]',\n              { texteApres: sp(4) + \"(Préciser l'unité)\" },\n            )\n            setReponse(this, i + ii, new Grandeur(reponse, 'km'), {\n              formatInteractif: 'unites',\n            })\n          } else if (context.isAmc) {\n            propositionsAMC[iiAMC] = {\n              type: 'AMCOpen',\n              propositions: [\n                {\n                  texte: '',\n                  statut: 5,\n                  enonce: enonceAMC,\n                  pointilles: false,\n                },\n              ],\n            }\n            iiAMC++\n            propositionsAMC[iiAMC] = {\n              type: 'AMCNum',\n              propositions: [\n                {\n                  texte: '',\n                  statut: '',\n                  reponse: {\n                    texte: `Longueur calculée, exprimée en $\\\\text{km}$ et arrondie à l'unité, du $${alpha}$e parallèle Nord : `,\n                    valeur: [reponse],\n                    alignement: 'center',\n                    param: {\n                      digits: nombreDeChiffresDe(reponse),\n                      decimals: 0,\n                      signe: false,\n                    },\n                  },\n                },\n              ],\n            }\n            iiAMC++\n          }\n          break\n        case 3:\n          objets = []\n          distance = randint(5, 300)\n          hauteur = randint(150, 190) / 100\n          beta = (Math.atan(hauteur / distance) / Math.PI) * 180\n          alpha = randint(10, 50)\n          teta = ((alpha - beta) * Math.PI) / 180\n          taille = arrondi(hauteur + distance * Math.tan(teta), 1)\n          if (taille < 20) index = 0\n          else if (taille < 50) index = 1\n          else if (taille < 100) index = 2\n          else index = 3\n          A = point(0, 0, lA)\n          ordA = sensH * randint(10, 14)\n          B = pointAdistance(A, ordA, 0, lB)\n          absC = choice([2.5, 3, 3.5])\n          C = pointAdistance(A, absC, 90, lC)\n          R = pointAdistance(B, absC, 90, lR)\n          absS = randint(7, 11)\n          S = pointAdistance(B, absS, 90, lS)\n          p = polygoneAvecNom(A, B, R, S, C)\n          objets.push(\n            p[1],\n            p[0],\n            segment(C, B),\n            segment(C, R),\n            codageAngleDroit(C, A, B),\n            codageAngleDroit(A, B, R),\n            codageAngleDroit(C, R, S),\n          )\n          objets.push(\n            afficheMesureAngle(B, C, S, 'black', 3, `${alfa}`),\n            afficheMesureAngle(A, B, C, 'black', 2, `${baita}`),\n            afficheMesureAngle(B, C, R, 'black', 2, `${baita}`),\n          )\n          objets.push(\n            texteSurSegment(\n              `${stringNombre(hauteur)} m`,\n              sensH < 0 ? A : C,\n              sensH < 0 ? C : A,\n              'black',\n              -0.5,\n            ),\n            texteSurSegment(`${stringNombre(distance)} m`, C, R),\n          )\n          texte = `Un observateur regarde ${objet[index][1]} ${objet[index][0]} sous un angle de $${alpha}^\\\\circ$.<br>`\n          texte += `Cet${objet[index][2]} ${objet[index][0]} est ${objet[index][3]} à une distance de $${texNombre(distance)}$ m de l'observateur.<br>`\n          texte += `L'œil de l'observateur est situé à $${texNombre(hauteur)}$ m du sol.`\n          enonceInit = texte\n          j = 0\n          if (this.sup) {\n            texte = `<br>$${lC}$ représente l'œil de l'observateur, $[${lB}${lS}]$ représente cet${objet[index][2]} ${objet[index][0]}.<br>`\n            texte +=\n              \"(Le schéma ci-dessous n'est pas en vraie grandeur et ne respecte pas les proportions.)<br>\"\n            texte += mathalea2d(\n              {\n                xmin: Math.min(-sensH, ordA + sensH),\n                ymin: -1,\n                xmax: Math.max(-sensH, ordA + sensH),\n                ymax: absS + 1,\n                pixelsParCm: 20,\n                scale: 0.5,\n              },\n              objets,\n            )\n            texte += `${numAlpha(j)}Calculer d'abord $${baita}$, arrondie au centième près.`\n            enonceAMC = texte\n            texte = enonceInit + texte\n            if (this.interactif) {\n              texte += ajouteChampTexteMathLive(this, i + ii, ' ', {\n                texteApres: '$^\\\\circ$',\n              })\n              setReponse(this, i + ii, arrondi(beta))\n              ii++\n            } else if (context.isAmc) {\n              propositionsAMC[iiAMC] = {\n                type: 'AMCOpen',\n                propositions: [\n                  {\n                    texte: '',\n                    statut: 2,\n                    enonce: enonceInit + enonceAMC,\n                    pointilles: false,\n                  },\n                ],\n              }\n              iiAMC++\n              propositionsAMC[iiAMC] = {\n                type: 'AMCNum',\n                propositions: [\n                  {\n                    texte: '',\n                    statut: '',\n                    reponse: {\n                      texte: `Valeur calculée, arrondie au centième, de $${baita}$ : `,\n                      valeur: [arrondi(beta)],\n                      alignement: 'center',\n                      param: {\n                        digits: nombreDeChiffresDe(arrondi(beta)),\n                        decimals: nombreDeChiffresDansLaPartieDecimale(\n                          arrondi(beta),\n                        ),\n                        signe: false,\n                      },\n                    },\n                  },\n                ],\n              }\n              iiAMC++\n            }\n            j++\n            enonceAMC = `${numAlpha(j)}En déduire la mesure de l'angle $\\\\widehat{${lR}${lC}${lS}}$, arrondie au centième près.`\n            texte += '<br>' + enonceAMC\n            if (this.interactif) {\n              texte += ajouteChampTexteMathLive(this, i + ii, ' ', {\n                texteApres: '$^\\\\circ$',\n              })\n              setReponse(this, i + ii, arrondi(alpha - beta))\n              ii++\n            } else if (context.isAmc) {\n              propositionsAMC[iiAMC] = {\n                type: 'AMCNum',\n                propositions: [\n                  {\n                    texte: '',\n                    statut: '',\n                    reponse: {\n                      texte: enonceAMC,\n                      valeur: [arrondi(alpha - beta)],\n                      alignement: 'center',\n                      param: {\n                        digits: nombreDeChiffresDe(arrondi(alpha - beta)),\n                        decimals: nombreDeChiffresDansLaPartieDecimale(\n                          arrondi(alpha - beta),\n                        ),\n                        signe: false,\n                      },\n                    },\n                  },\n                ],\n              }\n              iiAMC++\n            }\n            j++\n            enonceAMC = `${numAlpha(j)}Calculer alors la longueur $${lR}${lS}$, arrondie au cm près.`\n            texte += '<br>' + enonceAMC\n            if (this.interactif) {\n              texte += ajouteChampTexteMathLive(\n                this,\n                i + ii,\n                '  unites[longueurs]',\n                { texteApres: sp(4) + \"(Préciser l'unité)\" },\n              )\n              setReponse(\n                this,\n                i + ii,\n                new Grandeur(arrondi(taille - hauteur), 'm'),\n                { formatInteractif: 'unites' },\n              )\n              ii++\n            } else if (context.isAmc) {\n              propositionsAMC[iiAMC] = {\n                type: 'AMCOpen',\n                propositions: [\n                  {\n                    texte: '',\n                    statut: 2,\n                    enonce: enonceAMC,\n                    pointilles: false,\n                  },\n                ],\n              }\n              iiAMC++\n              propositionsAMC[iiAMC] = {\n                type: 'AMCNum',\n                propositions: [\n                  {\n                    texte: '',\n                    statut: '',\n                    reponse: {\n                      texte: `Longueur en mètres, calculée au centième près, de $${lR}${lS}$ : `,\n                      valeur: [arrondi(taille - hauteur)],\n                      alignement: 'center',\n                      param: {\n                        digits: nombreDeChiffresDe(arrondi(taille - hauteur)),\n                        decimals: nombreDeChiffresDansLaPartieDecimale(\n                          arrondi(taille - hauteur),\n                        ),\n                        signe: false,\n                      },\n                    },\n                  },\n                ],\n              }\n              iiAMC++\n            }\n            j++\n          }\n          enonceAMC = this.sup ? `${numAlpha(j)}` : ''\n          texte += '<br>' + enonceAMC\n          enonceAMC += `Calculer la hauteur, en mètres, de cet${objet[index][2]} ${objet[index][0]}, arrondie au mètre près.`\n          texte += `Calculer la hauteur de cet${objet[index][2]} ${objet[index][0]}, arrondie au mètre près.`\n          if (this.interactif) {\n            texte += ajouteChampTexteMathLive(\n              this,\n              i + ii,\n              '  unites[longueurs]',\n              { texteApres: sp(4) + \"(Préciser l'unité)\" },\n            )\n            setReponse(this, i + ii, new Grandeur(arrondi(taille, 0), 'm'), {\n              formatInteractif: 'unites',\n            })\n            ii++\n          } else if (context.isAmc) {\n            if (!this.sup) {\n              propositionsAMC[iiAMC] = {\n                type: 'AMCOpen',\n                propositions: [\n                  {\n                    texte: '',\n                    statut: 6,\n                    enonce: enonceInit + '<br>' + enonceAMC + '<br>',\n                    pointilles: false,\n                  },\n                ],\n              }\n              iiAMC++\n            }\n            propositionsAMC[iiAMC] = {\n              type: 'AMCNum',\n              propositions: [\n                {\n                  texte: '',\n                  statut: '',\n                  reponse: {\n                    texte: !this.sup\n                      ? `Hauteur, en mètres, de cet${objet[index][2]} ${objet[index][0]} :`\n                      : enonceAMC,\n                    valeur: [arrondi(taille, 0)],\n                    alignement: 'center',\n                    param: {\n                      digits: nombreDeChiffresDe(arrondi(taille, 0)),\n                      decimals: 0,\n                      signe: false,\n                    },\n                  },\n                },\n              ],\n            }\n            iiAMC++\n          }\n          j = 0\n          texteCorr = mathalea2d(\n            {\n              xmin: Math.min(-sensH, ordA + sensH),\n              ymin: -1,\n              xmax: Math.max(-sensH, ordA + sensH),\n              ymax: absS + 1,\n              pixelsParCm: 20,\n              scale: 0.5,\n            },\n            objets,\n          )\n          texteCorr += this.sup ? `${numAlpha(j)}` : ''\n          texteCorr += `Dans le triangle $${lC}${lR}${lB}$ rectangle en $${lR}$, $\\\\tan(${baita})=\\\\dfrac{${lR}${lB}}{${lC}${lR}}$.<br>\n          D'où $${baita}=\\\\arctan(\\\\dfrac{${texNombre(hauteur)}}{${texNombre(distance)}})\\\\approx ${miseEnEvidence(`${texNombre(beta, 2)}`)}^\\\\circ$.<br>`\n          j++\n          texteCorr += this.sup ? `${numAlpha(j)}` : ''\n          texteCorr += `$\\\\widehat{${lR}${lC}${lS}}=${alfa}-${baita}\\\\approx ${miseEnEvidence(`${texNombre(alpha - beta, 2)}`)}^\\\\circ$<br>`\n          j++\n          texteCorr += this.sup ? `${numAlpha(j)}` : ''\n          texteCorr += `Dans le triangle $${lR}${lC}${lS}$ rectangle en $${lC}$, $\\\\tan(\\\\widehat{${lR}${lC}${lS}})=\\\\dfrac{${lR}${lS}}{${lC}${lR}}$.<br>`\n          texteCorr += `D'où $${lR}${lS}=${lC}${lR}\\\\times \\\\tan(\\\\widehat{${lR}${lC}${lS}})\\\\approx ${distance}${sp()}\\\\text{m}\\\\times \\\\tan(${texNombre(alpha - beta, 2)}^\\\\circ)\\\\approx ${miseEnEvidence(`${texNombre(taille - hauteur)}${sp()}\\\\text{m}`)}$<br>`\n          j++\n          texteCorr += this.sup ? `${numAlpha(j)}` : ''\n          texteCorr += `$${lB}${lS}=${lB}${lR}+${lR}${lS}\\\\approx${texNombre(hauteur)}${sp()}\\\\text{m}+${texNombre(taille - hauteur)}${sp()}\\\\text{m}=${texNombre(taille)}${sp()}\\\\text{m}\\\\approx${texNombre(Math.round(taille))}${sp()}\\\\text{m}$<br>`\n          texteCorr += `Cet${objet[index][2]} ${objet[index][0]} mesure environ $${miseEnEvidence(`${texNombre(Math.round(taille))}${sp()}\\\\text{m}`)}$ de hauteur.`\n          break\n        case 4:\n          objets = []\n          alpha = randint(25, 45)\n          beta =\n            (Math.tan((alpha * Math.PI) / 180) *\n              Math.tan(((alpha + 5) * Math.PI) / 180)) /\n            (Math.tan(((alpha + 5) * Math.PI) / 180) -\n              Math.tan((alpha * Math.PI) / 180))\n          distance = randint(5, 10)\n          taille = beta * distance\n          numB = randint(1, 26, [4, 5, 15, 23, 24, 25])\n          B = point(0, 0, lB)\n          numS = randint(1, 26, [4, 5, 15, 23, 24, 25, numB])\n          absS = sensH * randint(4, 6)\n          S = pointAdistance(B, absS, 0, lS)\n          numC = randint(1, 26, [4, 5, 15, 23, 24, 25, numB, numS])\n          absC = sensH * randint(10, 14)\n          C = pointAdistance(B, absC, 0, lC)\n          numA = randint(1, 26, [4, 5, 15, 23, 24, 25, numB, numS, numC])\n          ordA = randint(10, 14)\n          A = pointAdistance(C, ordA, 90, lA)\n          p = polygoneAvecNom(B, S, C, A)\n          objets.push(p[1], p[0], segment(A, S), codageAngleDroit(B, C, A))\n          objets.push(\n            afficheMesureAngle(C, B, A, 'black', 2, `${alfa}`),\n            afficheMesureAngle(C, S, A, 'black', 2, `${baita}`),\n          )\n          objets.push(\n            texteSurSegment(\n              `${stringNombre(distance)} m`,\n              B,\n              S,\n              'black',\n              -sensH * 0.5,\n            ),\n            texteParPosition(\n              'h',\n              milieu(C, A).x + sensH * 0.5,\n              milieu(C, A).y,\n              0,\n              'black',\n              2,\n              'milieu',\n              true,\n            ),\n          )\n          j = 0\n          texte =\n            \"Un observateur sur un bateau s'approche d'une falaise dont il veut mesurer la hauteur\"\n          texte += this.sup ? ' $h$.<br>' : '.<br>'\n          texte += `Il jette l'ancre puis constate qu'il voit la falaise sous un angle de $${alpha}^\\\\circ$.<br>`\n          texte += `Il se rapproche ensuite de la falaise jusqu'à la voir sous un angle de $${alpha + 5}^\\\\circ$.<br>`\n          texte += `Il constate qu'entre ses deux mesures, il s'est rapproché de la falaise de $${distance}$ m.<br>`\n          enonceInit = texte\n          if (this.sup) {\n            enonceAMC =\n              \"(Le schéma ci-dessous n'est pas en vraie grandeur et ne respecte pas les proportions.)<br>\"\n            enonceAMC += mathalea2d(\n              {\n                xmin: Math.min(-sensH, absC + sensH),\n                ymin: -1,\n                xmax: Math.max(-sensH, absC + sensH),\n                ymax: ordA + 1,\n                pixelsParCm: 20,\n                scale: 0.5,\n              },\n              objets,\n            )\n            enonceAMC += `${numAlpha(j)}Exprimer $h$ en fonction de $${lS}${lC}$ et $${baita}$ puis en fonction de $${lB}${lC}$ et $${alfa}$.`\n            texte += enonceAMC\n            if (this.interactif) {\n              texte +=\n                '<br>' +\n                ajouteChampTexteMathLive(this, i + ii, '  grecTrigo', {\n                  texteAvant: `$${sp(20)}h=$`,\n                })\n              AB = lS + lC\n              BA = lC + lS\n              handleAnswers(this, i + ii, {\n                reponse: {\n                  value: `${AB}\\\\times(\\\\tan(${baitaInteractif})`,\n                  options: { calculFormel: true },\n                },\n              })\n              ii++\n              texte +=\n                '<br>' +\n                ajouteChampTexteMathLive(this, i + ii, '  grecTrigo', {\n                  texteAvant: `$${sp(20)}h=$`,\n                })\n              AB = lB + lC\n              BA = lC + lB\n              handleAnswers(this, i + ii, {\n                reponse: {\n                  value: `${AB}\\\\times\\\\tan(${alfaInteractif})`,\n                  options: { calculFormel: true },\n                },\n              })\n              ii++\n            } else if (context.isAmc) {\n              propositionsAMC[iiAMC] = {\n                type: 'AMCOpen',\n                propositions: [\n                  {\n                    texte: '',\n                    statut: 3,\n                    enonce: enonceInit + '<br>' + enonceAMC,\n                    pointilles: false,\n                  },\n                ],\n              }\n              iiAMC++\n            }\n            j++\n            enonceAMC = `${numAlpha(j)}En déduire $${lS}${lC}$ en fonction de $${lB}${lS}$, $${alfa}$ et $${baita}$.`\n            texte += '<br>' + enonceAMC\n            if (this.interactif) {\n              texte +=\n                '<br>' +\n                ajouteChampTexteMathLive(this, i + ii, '  grecTrigo', {\n                  texteAvant: `$${sp(20)}${lS}${lC}=$`,\n                })\n              AB = lS + lB\n              BA = lB + lS\n              handleAnswers(this, i + ii, {\n                reponse: {\n                  value: [\n                    `\\\\frac{${AB}\\\\times\\\\tan(${alfaInteractif})}{\\\\tan(${baitaInteractif})-\\\\tan(${alfaInteractif})}`,\n                    `${AB}\\\\times\\\\frac{\\\\tan(${alfaInteractif})}{\\\\tan(${baitaInteractif})-\\\\tan(${alfaInteractif})}`,\n                    `\\\\tan(${alfaInteractif})\\\\times\\\\frac{${AB}}{\\\\tan(${baitaInteractif})-\\\\tan(${alfaInteractif})}`,\n                  ],\n                  options: { calculFormel: true },\n                },\n              })\n              ii++\n            } else if (context.isAmc) {\n              propositionsAMC[iiAMC] = {\n                type: 'AMCOpen',\n                propositions: [\n                  {\n                    texte: '',\n                    statut: 3,\n                    enonce: enonceAMC,\n                    pointilles: false,\n                  },\n                ],\n              }\n              iiAMC++\n            }\n            j++\n            enonceAMC = `${numAlpha(j)}Exprimer $${lC}${lA}$ en fonction de $${lB}${lS}$, $${alfa}$ et $${baita}$.`\n            texte += '<br>' + enonceAMC\n            if (this.interactif) {\n              texte +=\n                '<br>' +\n                ajouteChampTexteMathLive(this, i + ii, '  grecTrigo', {\n                  texteAvant: `$${sp(20)}${lC}${lA}=$`,\n                })\n              handleAnswers(this, i + ii, {\n                reponse: {\n                  value: [\n                    `\\\\frac{${AB}\\\\times\\\\tan(${alfaInteractif})\\\\times\\\\tan(${baitaInteractif})}{\\\\tan(${baitaInteractif})-\\\\tan(${alfaInteractif})}`,\n                    `${AB}\\\\times\\\\frac{\\\\tan(${alfaInteractif})\\\\times\\\\tan(${baitaInteractif})}{\\\\tan(${baitaInteractif})-\\\\tan(${alfaInteractif})}`,\n                    `\\\\tan(${alfaInteractif})\\\\times\\\\tan(${baitaInteractif})\\\\times\\\\frac{${AB}}{\\\\tan(${baitaInteractif})-\\\\tan(${alfaInteractif})}`,\n                  ],\n                  options: { calculFormel: true },\n                },\n              })\n              ii++\n            } else if (context.isAmc) {\n              propositionsAMC[iiAMC] = {\n                type: 'AMCOpen',\n                propositions: [\n                  {\n                    texte: '',\n                    statut: 2,\n                    enonce: enonceAMC,\n                    pointilles: false,\n                  },\n                ],\n              }\n              iiAMC++\n            }\n            j++\n          }\n          enonceAMC = this.sup ? `${numAlpha(j)}` : ''\n          texte += '<br>' + enonceAMC\n          enonceAMC += 'Quelle est la hauteur, en mètres, de la falaise ?'\n          texte += 'Quelle est la hauteur de la falaise ?'\n          if (this.interactif) {\n            texte += ajouteChampTexteMathLive(\n              this,\n              i + ii,\n              '  unites[longueurs]',\n              { texteApres: sp(4) + \"(Préciser l'unité)\" },\n            )\n            setReponse(this, i + ii, new Grandeur(arrondi(taille, 0), 'm'), {\n              formatInteractif: 'unites',\n            })\n            ii++\n          } else if (context.isAmc) {\n            if (!this.sup) {\n              propositionsAMC[iiAMC] = {\n                type: 'AMCOpen',\n                propositions: [\n                  {\n                    texte: '',\n                    statut: 6,\n                    enonce: enonceInit + '<br>' + enonceAMC,\n                    pointilles: false,\n                  },\n                ],\n              }\n              iiAMC++\n            }\n            propositionsAMC[iiAMC] = {\n              type: 'AMCNum',\n              propositions: [\n                {\n                  texte: '',\n                  statut: '',\n                  reponse: {\n                    texte: !this.sup\n                      ? 'Hauteur, en mètres et arrondie au mètre près, de la falaise :'\n                      : enonceAMC,\n                    valeur: [arrondi(taille, 0)],\n                    alignement: 'center',\n                    param: {\n                      digits: nombreDeChiffresDe(arrondi(taille, 0)),\n                      decimals: 0,\n                      signe: false,\n                    },\n                  },\n                },\n              ],\n            }\n            iiAMC++\n          }\n          j++\n          enonceAMC = this.sup ? `${numAlpha(j)}` : ''\n          texte += '<br>' + enonceAMC\n          enonceAMC +=\n            \"À quelle distance, en mètres et arrondie au mètre près, du pied de la falaise se trouve l'observateur lors du deuxième relevé ?\"\n          texte +=\n            \"À quelle distance du pied de la falaise se trouve l'observateur lors du deuxième relevé ?\"\n          if (this.interactif) {\n            texte += ajouteChampTexteMathLive(\n              this,\n              i + ii,\n              '  unites[longueurs]',\n              { texteApres: sp(4) + \"(Préciser l'unité)\" },\n            )\n            context.isAmc\n              ? setReponse(\n                  this,\n                  i + ii,\n                  arrondi(taille / Math.tan(((alpha + 5) * Math.PI) / 180), 0),\n                )\n              : setReponse(\n                  this,\n                  i + ii,\n                  new Grandeur(\n                    arrondi(\n                      taille / Math.tan(((alpha + 5) * Math.PI) / 180),\n                      0,\n                    ),\n                    'm',\n                  ),\n                  { formatInteractif: 'unites' },\n                )\n            ii++\n          } else if (context.isAmc) {\n            propositionsAMC[iiAMC] = {\n              type: 'AMCNum',\n              propositions: [\n                {\n                  texte: '',\n                  statut: '',\n                  reponse: {\n                    texte: enonceAMC,\n                    valeur: [\n                      arrondi(\n                        taille / Math.tan(((alpha + 5) * Math.PI) / 180),\n                        0,\n                      ),\n                    ],\n                    alignement: 'center',\n                    param: {\n                      digits: nombreDeChiffresDe(\n                        arrondi(\n                          taille / Math.tan(((alpha + 5) * Math.PI) / 180),\n                          0,\n                        ),\n                      ),\n                      decimals: 0,\n                      signe: false,\n                    },\n                  },\n                },\n              ],\n            }\n            iiAMC++\n          }\n          texte +=\n            \"<br>Arrondir les résultats au mètre près. (On supposera le point d'observation au niveau de l'eau)\"\n          texteCorr = mathalea2d(\n            {\n              xmin: Math.min(-sensH, absC + sensH),\n              ymin: -1,\n              xmax: Math.max(-sensH, absC + sensH),\n              ymax: ordA + 1,\n              pixelsParCm: 20,\n              scale: 0.5,\n            },\n            objets,\n          )\n          j = 0\n          texteCorr += this.sup ? `${numAlpha(j)}` : ''\n          texteCorr += `Dans le triangle $${lS}${lC}${lA}$ rectangle en $${lC}$, $\\\\tan(${baita})=\\\\dfrac{h}{${lS}${lC}}$.<br>D'où $h=${lS}${lC}\\\\times \\\\tan(${baita})$.<br>`\n          texteCorr += `Dans le triangle $${lB}${lC}${lA}$ rectangle en $${lC}$, $\\\\tan(${alfa})=\\\\dfrac{h}{${lB}${lC}}$.<br>D'où $h=${miseEnEvidence(`${lB}${lC}\\\\times \\\\tan(${alfa})`)}$.<br>`\n          j++\n          texteCorr += this.sup ? `${numAlpha(j)}` : ''\n          texteCorr += `Or $${lB}${lC}=${lB}${lS}+${lS}${lC}$ donc $h=(${lB}${lS}+${lS}${lC})\\\\times \\\\tan(${alfa})$.<br>`\n          texteCorr += `On en déduit que $${lS}${lC}\\\\times \\\\tan(${baita})=(${lB}${lS}+${lS}${lC})\\\\times \\\\tan(${alfa})$ soit $${lS}${lC}\\\\times \\\\tan(${baita})=${lB}${lS}\\\\times \\\\tan(${alfa})+${lS}${lC}\\\\times \\\\tan(${alfa})$.<br>`\n          texteCorr += `D'où $${lB}${lS}\\\\times \\\\tan(${alfa})=${lS}${lC}\\\\times \\\\tan(${baita})-${lS}${lC}\\\\times \\\\tan(${alfa})=${lS}${lC}\\\\times(\\\\tan(${baita})-\\\\tan(${alfa}))$.<br>`\n          texteCorr += `Et $${lS}${lC}=${miseEnEvidence(`\\\\dfrac{${lB}${lS}\\\\times \\\\tan(${alfa})}{\\\\tan(${baita})-\\\\tan(${alfa})}`)}$.<br>`\n          j++\n          texteCorr += this.sup ? `${numAlpha(j)}` : ''\n          texteCorr += `Ainsi $h=${lS}${lC}\\\\times \\\\tan(${baita})=${miseEnEvidence(`\\\\dfrac{${lB}${lS}\\\\times \\\\tan(${alfa})\\\\times \\\\tan(${baita})}{\\\\tan(${baita})-\\\\tan(${alfa})}`)}$.<br>`\n          // texteCorr += this.sup ? '' : 'Application numérique : <br>'\n          j++\n          texteCorr += this.sup ? `${numAlpha(j)}` : ''\n          texteCorr += `$h=\\\\dfrac{${distance}${sp()}\\\\text{m}\\\\times \\\\tan(${alpha}^\\\\circ)\\\\times \\\\tan(${alpha + 5}^\\\\circ)}{\\\\tan(${alpha + 5}^\\\\circ)-\\\\tan(${alpha}^\\\\circ)}\\\\approx ${Math.round(taille)}${sp()}\\\\text{m}$.<br>`\n          texteCorr += this.sup\n            ? `La hauteur de la falaise est de $${miseEnEvidence(`${Math.round(taille)}${sp()}\\\\text{m}`)}$.<br>`\n            : ''\n          j++\n          texteCorr += this.sup ? `${numAlpha(j)}` : ''\n          texteCorr += `$${lS}${lC}=\\\\dfrac{${distance}${sp()}\\\\text{m}\\\\times \\\\tan(${alpha}^\\\\circ)}{\\\\tan(${alpha + 5}^\\\\circ)-\\\\tan(${alpha}^\\\\circ)}\\\\approx ${texNombre(Math.round(taille / Math.tan(((alpha + 5) * Math.PI) / 180)))}${sp()}\\\\text{m}$.<br>`\n          texteCorr += this.sup\n            ? `L'observateur se trouve à $${miseEnEvidence(`${texNombre(Math.round(taille / Math.tan(((alpha + 5) * Math.PI) / 180)))}${sp()}\\\\text{m}`)}$ de la falaise lors du deuxième relevé.<br>`\n            : ''\n          texteCorr += this.sup\n            ? ''\n            : `La hauteur de la falaise est de $${miseEnEvidence(`${Math.round(taille)}${sp()}\\\\text{m}`)}$ et l'observateur se trouve à $${miseEnEvidence(`${texNombre(Math.round(taille / Math.tan(((alpha + 5) * Math.PI) / 180)))}${sp()}\\\\text{m}`)}$ de celle-ci lors du deuxième relevé.<br>`\n          break\n        case 5:\n          objets = []\n          alpha = randint(25, 45)\n          j = 0\n          beta = alpha + randint(1, 3)\n          taille = randint(20, 50) * 100\n          distance = Math.round(\n            (taille * Math.sin(((beta - alpha) * Math.PI) / 180)) /\n              Math.sin((alpha * Math.PI) / 180) /\n              Math.sin((beta * Math.PI) / 180),\n          )\n          taille = Math.round(\n            (distance *\n              Math.sin((alpha * Math.PI) / 180) *\n              Math.sin((beta * Math.PI) / 180)) /\n              Math.sin(((beta - alpha) * Math.PI) / 180),\n          )\n\n          B = point(0, 0, lB)\n          absC = sensH * randint(4, 6)\n          C = pointAdistance(B, absC, 0, lC)\n          absS = sensH * randint(10, 14)\n          S = pointAdistance(B, absS, 0, lS)\n          ordA = randint(5, 9)\n          A = pointAdistance(S, ordA, 90, lA)\n          H = projectionOrtho(\n            C,\n            droite(B, A),\n            lH,\n            sensH > 0 ? 'above left' : 'above right',\n          )\n          p = polygoneAvecNom(B, C, S, A)\n          objets.push(\n            p[1],\n            p[0],\n            segment(H, C),\n            segment(A, C),\n            codageAngleDroit(B, S, A),\n            codageAngleDroit(C, H, A),\n          )\n          objets.push(\n            afficheMesureAngle(S, B, A, 'black', 2, `${alfa}`),\n            afficheMesureAngle(S, C, A, 'black', 2, `${baita}`),\n          )\n\n          objets.push(\n            texteSurSegment(\n              `${stringNombre(distance)} m`,\n              B,\n              C,\n              'black',\n              -sensH * 0.5,\n            ),\n            labelPoint(H),\n            texteParPosition(\n              'h',\n              milieu(S, A).x + sensH * 0.5,\n              milieu(S, A).y,\n              0,\n              'black',\n              2,\n              'milieu',\n              true,\n            ),\n          )\n\n          texte =\n            \"Un voyageur approche d'une montagne. Il aimerait en calculer la hauteur.<br>\"\n          texte += `Pour cela, il utilise un théodolite en un point $${lB}$ qui lui permet de mesurer l'angle $${alfa}$ vertical formé par le sommet $${lA}$ de la montagne, le point $${lB}$ et la base de la montagne $${lS}$.<br>`\n          texte += `Il parcourt ensuite $${distance}$ m en direction de la montagne et effectue une nouvelle mesure de l'angle $${baita}$ en un point $${lC}$.<br>`\n          texte +=\n            \"(Le schéma ci-dessous n'est pas en vraie grandeur et ne respecte pas les proportions.)<br>\"\n          texte += `  On donne : $${alfa}=${alpha}^\\\\circ$, $${baita}=${beta}^\\\\circ$ et $${lB}${lC}=${distance}$ m.<br>`\n          texte += mathalea2d(\n            {\n              xmin: Math.min(-sensH, absS + sensH),\n              ymin: -1,\n              xmax: Math.max(-sensH, absS + sensH),\n              ymax: ordA + 1,\n              pixelsParCm: 20,\n              scale: 0.5,\n            },\n            objets,\n          )\n          enonceInit = texte\n          if (this.sup) {\n            enonceAMC = `${numAlpha(j)}Exprimer la mesure de l'angle $\\\\widehat{${lC}${lA}${lS}}$ en fonction de $${baita}$.`\n            texte += enonceAMC\n            if (this.interactif) {\n              texte += ajouteChampTexteMathLive(this, i + ii, '  grecTrigo', {\n                texteAvant: `$${sp(20)}\\\\widehat{CAS}=$`,\n              })\n              setReponse(\n                this,\n                i + ii,\n                [\n                  // Attention, l'emplacement des espaces est primordial\n                  `90-${baitaInteractif}`,\n                ],\n                { formatInteractif: 'texte' },\n              )\n              ii++\n            } else if (context.isAmc) {\n              propositionsAMC[iiAMC] = {\n                type: 'AMCOpen',\n                propositions: [\n                  {\n                    texte: '',\n                    statut: 2,\n                    enonce: enonceInit + '<br>' + enonceAMC,\n                    pointilles: false,\n                  },\n                ],\n              }\n              iiAMC++\n            }\n            enonceAMC = `${numAlpha(j + 1)}Exprimer la mesure de l'angle $\\\\widehat{${lB}${lA}${lS}}$ en fonction de $${alfa}$.`\n            texte += '<br>' + enonceAMC\n            if (this.interactif) {\n              texte += ajouteChampTexteMathLive(this, i + ii, '  grecTrigo', {\n                texteAvant: `$${sp(20)}\\\\widehat{${lB}${lA}${lS}}=$`,\n              })\n              setReponse(\n                this,\n                i + ii,\n                [\n                  // Attention, l'emplacement des espaces est primordial\n                  `90-${alfaInteractif}`,\n                ],\n                { formatInteractif: 'texte' },\n              )\n              ii++\n            } else if (context.isAmc) {\n              propositionsAMC[iiAMC] = {\n                type: 'AMCOpen',\n                propositions: [\n                  {\n                    texte: '',\n                    statut: 2,\n                    enonce: enonceAMC,\n                    pointilles: false,\n                  },\n                ],\n              }\n              iiAMC++\n            }\n            j += 2\n          }\n          enonceAMC = `${numAlpha(j)}Montrer que $\\\\widehat{${lC}${lA}${lH}}=${baita}-${alfa}$.`\n          texte += '<br>' + enonceAMC\n          if (context.isAmc) {\n            propositionsAMC[iiAMC] = {\n              type: 'AMCOpen',\n              propositions: [\n                {\n                  texte: '',\n                  statut: this.sup ? 2 : 4,\n                  enonce: this.sup\n                    ? enonceAMC\n                    : enonceInit + '<br>' + enonceAMC,\n                  pointilles: false,\n                },\n              ],\n            }\n            iiAMC++\n          }\n          j++\n          if (this.sup) {\n            enonceAMC = `${numAlpha(j)}Dans le triangle $${lC}${lH}${lA}$, exprimer $${lC}${lA}$ en fonction de $${lC}${lH}$.`\n          } else {\n            enonceAMC = `${numAlpha(j)}Exprimer $${lC}${lA}$ en fonction de $${lH}$.`\n          }\n          texte += '<br>' + enonceAMC\n          if (this.interactif) {\n            texte += ajouteChampTexteMathLive(this, i + ii, '  grecTrigo', {\n              texteAvant: `$${sp(20)}CA=$`,\n            })\n            handleAnswers(this, i + ii, {\n              reponse: {\n                value: `\\\\frac{CH}{\\\\sin(${baitaInteractif}-${alfaInteractif})}`,\n                options: { calculFormel: true },\n              },\n            })\n            ii++\n          } else if (context.isAmc) {\n            propositionsAMC[iiAMC] = {\n              type: 'AMCOpen',\n              propositions: [\n                {\n                  texte: '',\n                  statut: 2,\n                  enonce: enonceAMC,\n                  pointilles: false,\n                },\n              ],\n            }\n            iiAMC++\n          }\n          j++\n          if (this.sup) {\n            enonceAMC = `${numAlpha(j)}Dans le triangle $${lB}${lC}${lH}$, exprimer $${lC}${lH}$ en fonction de $${lB}${lC}$.`\n          } else {\n            enonceAMC = `${numAlpha(j)}Exprimer $${lC}${lH}$ en fonction de $${lB}${lC}$.`\n          }\n          texte += '<br>' + enonceAMC\n          if (this.interactif) {\n            texte += ajouteChampTexteMathLive(this, i + ii, '  grecTrigo', {\n              texteAvant: `$${sp(20)}${lC}${lH}=$`,\n            })\n            handleAnswers(this, i + ii, {\n              reponse: {\n                value: `${lB}${lC}\\\\times\\\\sin(${alfaInteractif})`,\n                options: { calculFormel: true },\n              },\n            })\n            ii++\n          } else if (context.isAmc) {\n            propositionsAMC[iiAMC] = {\n              type: 'AMCOpen',\n              propositions: [\n                {\n                  texte: '',\n                  statut: 2,\n                  enonce: enonceAMC,\n                  pointilles: false,\n                },\n              ],\n            }\n            iiAMC++\n          }\n          j++\n          if (this.sup) {\n            enonceAMC = `${numAlpha(j)}En déduire $h$ en fonction de $${lC}${lA}$, puis en fonction de $${lC}${lH}$ et enfin en fonction de $${lB}${lC}$.`\n          } else {\n            enonceAMC = `${numAlpha(j)}En déduire $h$ en fonction de $${lB}${lC}$.`\n          }\n          texte += '<br>' + enonceAMC\n          enonceAMC += this.sup ? '<br>' : ''\n          if (this.interactif) {\n            texte +=\n              '<br>' +\n              ajouteChampTexteMathLive(this, i + ii, '  grecTrigo', {\n                texteAvant: `$${sp(20)}h=$`,\n              })\n            handleAnswers(this, i + ii, {\n              reponse: {\n                value: `${lA}${lC}\\\\times\\\\sin(${baitaInteractif})`,\n                options: { calculFormel: true },\n              },\n            })\n            ii++\n            texte +=\n              '<br>' +\n              ajouteChampTexteMathLive(this, i + ii, '  grecTrigo', {\n                texteAvant: `$${sp(20)}h=$`,\n              })\n            handleAnswers(this, i + ii, {\n              reponse: {\n                value: [\n                  `\\\\frac{${lC}${lH}\\\\times\\\\sin(${baitaInteractif})}{${baitaInteractif}-${alfaInteractif}}`,\n                  `\\\\frac{\\\\sin(${baitaInteractif}\\\\times${lC}${lH}\\\\sin(${baitaInteractif})}{${baitaInteractif}-${alfaInteractif}}`,\n                ],\n                options: { calculFormel: true },\n              },\n            })\n            ii++\n            texte +=\n              '<br>' +\n              ajouteChampTexteMathLive(this, i + ii, '  grecTrigo', {\n                texteAvant: `$${sp(20)}h=$`,\n              })\n            handleAnswers(this, i + ii, {\n              reponse: {\n                value: [\n                  `\\\\frac{${lB}${lC}\\\\times\\\\sin(${alfaInteractif})\\\\times\\\\sin(${baitaInteractif})}{${baitaInteractif}-${alfaInteractif}}`,\n                  `\\\\frac{\\\\sin(${alfaInteractif})\\\\times${lB}${lC}\\\\times\\\\sin(${baitaInteractif})}{${baitaInteractif}-${alfaInteractif}}`,\n                ],\n                options: { calculFormel: true },\n              },\n            })\n            ii++\n          } else if (context.isAmc) {\n            propositionsAMC[iiAMC] = {\n              type: 'AMCOpen',\n              propositions: [\n                {\n                  texte: '',\n                  statut: 5,\n                  enonce: enonceAMC,\n                  pointilles: false,\n                },\n              ],\n            }\n            iiAMC++\n          }\n          j++\n          enonceAMC = `${numAlpha(j)}En supposant que le point d'observation est au niveau du sol, quelle est la hauteur de la montagne ? `\n          texte +=\n            '<br>' +\n            enonceAMC +\n            \"(arrondir au mètre près, en précisant l'unité)\"\n          enonceAMC += '(exprimer en mètres et arrondir au mètre près)'\n\n          if (this.interactif) {\n            texte += ajouteChampTexteMathLive(\n              this,\n              i + ii,\n              '  unites[longueurs]',\n            )\n            setReponse(this, i + ii, new Grandeur(arrondi(taille, 0), 'm'), {\n              formatInteractif: 'unites',\n            })\n            ii++\n          } else if (context.isAmc) {\n            propositionsAMC[iiAMC] = {\n              type: 'AMCNum',\n              propositions: [\n                {\n                  texte: '',\n                  statut: '',\n                  reponse: {\n                    texte: enonceAMC,\n                    valeur: [arrondi(taille, 0)],\n                    alignement: 'center',\n                    param: {\n                      digits: nombreDeChiffresDe(arrondi(taille, 0)),\n                      decimals: 0,\n                      signe: false,\n                    },\n                  },\n                },\n              ],\n            }\n            iiAMC++\n          }\n          j = 0\n          texteCorr = mathalea2d(\n            {\n              xmin: Math.min(-sensH, absS + sensH),\n              ymin: -1,\n              xmax: Math.max(-sensH, absS + sensH),\n              ymax: ordA + 1,\n              pixelsParCm: 20,\n              scale: 0.5,\n            },\n            objets,\n          )\n          if (this.sup) {\n            texteCorr += `${numAlpha(j)}Dans le triangle $${lC}${lS}${lA}$ rectangle en $${lS}$, les angles aigus sont complémentaires donc $\\\\widehat{${lC}${lA}${lS}}=${miseEnEvidence(`90-${baita}`)}$.<br>`\n            texteCorr += `${numAlpha(j + 1)}Dans le triangle $${lB}${lS}${lA}$ rectangle en $${lS}$, pour la même raison $\\\\widehat{${lB}${lA}${lS}}=${miseEnEvidence(`90-${alfa}`)}$.<br>`\n            j += 2\n          }\n          texteCorr += `${numAlpha(j)}On sait que $\\\\widehat{${lC}${lA}${lS}}=90-${baita}$ et $\\\\widehat{${lB}${lA}${lS}}=90-${alfa}$.<br>\n          Donc $\\\\widehat{${lC}${lA}${lH}}=\\\\widehat{${lB}${lA}${lS}}-\\\\widehat{${lC}${lA}${lS}}=90-${alfa}-(90-${baita})=\\\\cancel{90}-${alfa}-\\\\cancel{90}+${baita}=${miseEnEvidence(`${baita}-${alfa}`)}$.<br>`\n          j++\n          texteCorr += `${numAlpha(j)}Dans le triangle $${lC}${lH}${lA}$ rectangle en $${lH}$, $\\\\sin(\\\\widehat{${lC}${lA}${lH}})=\\\\dfrac{${lC}${lH}}{${lC}${lA}}$ \n          d'où $${lC}${lA}=\\\\dfrac{${lC}${lH}}{\\\\sin(\\\\widehat{${lC}${lA}${lH}})}=${miseEnEvidence(`\\\\dfrac{${lC}${lH}}{\\\\sin(${baita}-${alfa})}`)}$.<br>`\n          j++\n          texteCorr += `${numAlpha(j)}Dans le triangle $${lB}${lC}${lH}$ rectangle en $${lH}$, $\\\\sin(\\\\widehat{${lC}${lB}${lH}})=\\\\dfrac{${lC}${lH}}{${lB}${lC}}$ \n          d'où $${lC}${lH}=${lB}${lC}\\\\times \\\\sin(\\\\widehat{${lC}${lB}${lH}})=${miseEnEvidence(`${lB}${lC}\\\\times \\\\sin(${alfa})`)}$.<br>`\n          j++\n\n          texteCorr += `${numAlpha(j)}Dans le triangle $${lC}${lS}${lA}$ rectangle en $${lS}$, \n          $h=${lC}${lA}\\\\times \\\\sin(${baita})=\\\\dfrac{${lC}${lH}}{\\\\sin(${baita}-${alfa})}\\\\times \\\\sin(${baita})=${miseEnEvidence(`\\\\dfrac{${lB}${lC}\\\\times \\\\sin(${alfa})}{\\\\sin(${baita}-${alfa})}\\\\times \\\\sin(${baita})`)}$<br>`\n\n          j++\n          texteCorr += `${numAlpha(j)}Application numérique : $h=\\\\dfrac{${distance}${sp()}\\\\text{m}\\\\times \\\\sin(${alpha}^\\\\circ)}{\\\\sin(${beta}^\\\\circ-${alpha}^\\\\circ)}\\\\times \\\\sin(${beta}^\\\\circ)$`\n          texteCorr += `$=\\\\dfrac{${distance}${sp()}\\\\text{m}\\\\times \\\\sin(${alpha}^\\\\circ)\\\\times \\\\sin(${beta}^\\\\circ)}{\\\\sin(${beta - alpha}^\\\\circ)}\\\\approx ${miseEnEvidence(`${texNombre(Math.round(taille))}${sp()}\\\\text{m}`)}$.<br>`\n          break\n        case 6:\n          {\n            let objetsEnonce = []\n            let paramsEnonce = {}\n\n            const AD = randint(5, 9)\n            const AE = randint(AD + 1, AD + 4)\n            const AC = randint(3, AD - 1)\n            const A = point(0, 0, 'A', 'below left')\n            const C = point(AC, 0, 'C', 'below')\n            const D = point(AD, 0, 'D', 'below right')\n            const dDE = droiteVerticaleParPoint(D)\n            const cAE = cercle(A, AE)\n            const E = pointIntersectionLC(dDE, cAE, 'E')\n            E.positionLabel = 'right'\n            const p = polygone(A, D, E)\n            const dAE = droite(A, E)\n            const B = projectionOrtho(C, dAE, 'B', 'above left')\n            const codage1 = codageAngleDroit(A, B, C)\n            const codage2 = codageAngleDroit(A, D, E)\n            const nomDesSommets = creerNomDePolygone(5, listeDeNomsDePolygones)\n            listeDeNomsDePolygones.push(nomDesSommets)\n            A.nom = nomDesSommets[0]\n            B.nom = nomDesSommets[1]\n            C.nom = nomDesSommets[2]\n            D.nom = nomDesSommets[3]\n            E.nom = nomDesSommets[4]\n            const labels = labelPoint(A, B, C, D, E)\n            /* const mirroir = choice([true, false]) // EE : Je n'ai pas compris l'intérêt ici s'il n'y a pas de miroir sur la figure\n           if (mirroir) {\n            B.x *= -1\n            C.x *= -1\n            D.x *= -1\n            E.x *= -1\n            A.positionLabel = 'below'\n            B.positionLabel = 'above'\n            C.positionLabel = 'below'\n            D.positionLabel = 'below'\n            E.positionLabel = 'above'\n          } */\n            const sBC = segment(B, C)\n\n            objetsEnonce = [p, sBC, codage1, codage2, labels]\n            paramsEnonce = {\n              xmin: -10,\n              ymin: -1,\n              xmax: 10,\n              ymax: E.y + 1.5,\n              pixelsParCm: 20,\n              scale: 1,\n              mainlevee: false,\n            }\n            enonceAMC = `$${A.nom + E.nom} = ${AE}~\\\\text{cm}$, $${A.nom + D.nom} = ${AD}~\\\\text{cm}$ et $${A.nom + C.nom} = ${AC}~\\\\text{cm}$.`\n            enonceAMC += '<br>' + mathalea2d(paramsEnonce, objetsEnonce)\n            enonceAMC += `Calculer la longueur $${A.nom + B.nom}$ et donner une valeur approchée `\n            texte =\n              enonceAMC + \"(au millimètre près près, en précisant l'unité).\"\n            enonceAMC += 'en cm, au millimètre près.<br>'\n            if (this.interactif) {\n              texte += ajouteChampTexteMathLive(\n                this,\n                i + ii,\n                '  unites[longueurs]',\n              )\n              setReponse(\n                this,\n                i + ii,\n                new Grandeur(arrondi(longueur(A, B), 1), 'cm'),\n                { formatInteractif: 'unites' },\n              )\n              ii++\n            } else if (context.isAmc) {\n              propositionsAMC[iiAMC] = {\n                type: 'AMCOpen',\n                propositions: [\n                  {\n                    texte: '',\n                    statut: 5,\n                    enonce: enonceAMC,\n                    pointilles: false,\n                  },\n                ],\n              }\n              iiAMC++\n              propositionsAMC[iiAMC] = {\n                type: 'AMCNum',\n                propositions: [\n                  {\n                    texte: '',\n                    statut: '',\n                    reponse: {\n                      texte: `Longueur calculée, exprimée en cm et arrondie au millième, du segment $[${A.nom + B.nom}]$ : `,\n                      valeur: [arrondi(longueur(A, B), 1)],\n                      alignement: 'center',\n                      param: {\n                        digits:\n                          1 + nombreDeChiffresDe(arrondi(longueur(A, B), 1)),\n                        decimals: 1,\n                        signe: false,\n                      },\n                    },\n                  },\n                ],\n              }\n              iiAMC++\n            }\n            texteCorr = `Dans le triangle $${A.nom + D.nom + E.nom}$ rectangle en $${D.nom}$ : `\n            texteCorr += `<br>$\\\\cos(\\\\widehat{${D.nom + A.nom + E.nom}})=\\\\dfrac{${A.nom + D.nom}}{${A.nom + E.nom}}\\\\quad$ soit $\\\\quad\\\\cos(\\\\widehat{${D.nom + A.nom + E.nom}})=\\\\dfrac{${AD}}{${AE}}$,`\n            texteCorr += `<br> d'où $\\\\widehat{${D.nom + A.nom + E.nom}}=\\\\text{arccos}\\\\left(\\\\dfrac{${AD}}{${AE}}\\\\right)\\\\approx${texNombre(angle(D, A, E), 1)}^\\\\circ$.`\n\n            texteCorr += `<br><br>Dans le triangle $${A.nom + B.nom + C.nom}$ rectangle en $${B.nom}$ : `\n            texteCorr += `<br>$\\\\cos(\\\\widehat{${B.nom + A.nom + C.nom}})=\\\\dfrac{${A.nom + B.nom}}{${A.nom + C.nom}}\\\\quad$ soit $\\\\quad\\\\cos(${texNombre(arrondi(angle(D, A, E), 1))}^\\\\circ)\\\\approx\\\\dfrac{${A.nom + B.nom}}{${AC}}$,`\n            texteCorr += `<br> d'où $${A.nom + B.nom} \\\\approx ${AC}${sp()}\\\\text{cm}\\\\times \\\\cos(${texNombre(arrondi(angle(D, A, E), 1))}^\\\\circ)\\\\approx${miseEnEvidence(`${texNombre(longueur(A, B), 1)}${sp()}\\\\text{m}`)}$.`\n\n            // texteCorr += `<br><br>On pouvait aussi écrire : $${A.nom + B.nom} = ${AC}\\\\times \\\\cos\\\\left(\\\\text{arccos}\\\\left(\\\\dfrac{${AD}}{${AE}}\\\\right)\\\\right)=${AC}\\\\times \\\\dfrac{${AD}}{${AE}}=${texFractionReduite(AC * AD, AE)}$ cm qui est la valeur exacte.`\n          }\n          break\n      }\n      if (context.isAmc) {\n        this.autoCorrection[i] = {\n          // enonce: enonceAMC,\n          enonce: '',\n          // enonceAvant: this.nbQuestions > 1, // EE : ce champ est facultatif et permet (si false) de supprimer l'énoncé ci-dessus avant la numérotation de chaque question.\n          enonceAvant: false, // EE : ce champ est facultatif et permet (si false) de supprimer l'énoncé ci-dessus avant la numérotation de chaque question.\n          propositions: propositionsAMC,\n        }\n      }\n      if (this.questionJamaisPosee(i, alfa, baita, beta, alpha)) {\n        // Si la question n'a jamais été posée, on en crée une autre\n        this.listeQuestions[i] = texte\n        this.listeCorrections[i] = texteCorr\n        i++\n        ii-- // si on pousse la question, il ne faut pas que l'incrément de i et de ii se cumulent !\n        iiAMC--\n      } else {\n        ii = iiInitial // on ne pousse pas la question, ii reprend la valeur qu'il avait avant la question\n      }\n      cpt++\n    }\n    listeQuestionsToContenu(this)\n  }\n}\n"],"names":["titre","interactifReady","interactifType","amcReady","amcType","dateDePublication","dateDeModifImportante","uuid","refs","ProblemesTrigoLongueur","Exercice","listeDeNomsDePolygones","objet","distance","beta","alpha","taille","A","B","S","C","R","objets","p","O","H","M","R2","Axe","normalV","normalH","P","HP","Sph","OP","PoleNord","PoleSud","hauteur","teta","index","lettresGrecques","listeTypeQuestions","gestionnaireFormulaireTexte","ii","iiAMC","i","iiInitial","texte","numA","ordA","numB","numC","numR","absC","numS","absS","numH","AB","BA","propositionsAMC","enonceAMC","enonceInit","texteCorr","reponse","j","cpt","choixAlpha","randint","alfa","alfaInteractif","choixBeta","baita","baitaInteractif","sensV","choice","sensH","lR","lettreDepuisChiffre","lB","lC","lS","lA","lH","arrondi","point","polygoneAvecNom","context","colorToLatexOrHTML","segment","codageAngleDroit","labelPoint","afficheMesureAngle","texteSurSegment","stringNombre","mathalea2d","numAlpha","ajouteChampTexteMathLive","sp","handleAnswers","setReponse","Grandeur","nombreDeChiffresDe","miseEnEvidence","point3d","vecteur3d","arete3d","rotationV3d","sphere3d","CodageAngleDroit3D","tracePoint","demicercle3d","texNombre","pointAdistance","nombreDeChiffresDansLaPartieDecimale","texteParPosition","milieu","projectionOrtho","droite","objetsEnonce","paramsEnonce","AD","AE","AC","D","dDE","droiteVerticaleParPoint","cAE","cercle","E","pointIntersectionLC","polygone","dAE","codage1","codage2","nomDesSommets","creerNomDePolygone","labels","sBC","longueur","angle","listeQuestionsToContenu"],"mappings":"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"}
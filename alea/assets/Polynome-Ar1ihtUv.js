var L=Object.defineProperty;var j=(o,e,r)=>e in o?L(o,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):o[e]=r;var v=(o,e,r)=>j(o,typeof e!="symbol"?e+"":e,r);import{D as c}from"./vendors/decimal.js-16C9rIKp.js";import{p as $,F as f,r as S,_ as m,I as N,k,B as F,ab as C,G as I,v as y,ac as A}from"./index-Bk_D2JkM.js";import{o as R,q as B,v as q,g as z,r as E,w as M,x as H}from"./vendors/mathjs-oaIJR0Fd.js";function V({poly:o,xG:e,xD:r}){const i=o.derivee(),t=o.fonction(e),n=o.fonction(r);let a,s;if(i.deg===2){const u=Number(i.monomes[2]),l=Number(i.monomes[1]),w=Number(i.monomes[0]),p=l**2-4*u*w;if(p<0)u>0?(s=n,a=t):(s=t,a=n);else if(p===0){const g=-l/2/u;g>e&&g<e?u>0?(s=Math.max(t,n),a=o.fonction(g)):(s=o.fonction(g),a=Math.min(t,Number(n))):(s=Math.max(t,Number(n)),a=Math.min(t,Number(n)))}else{const g=Math.sqrt(p),b=u>0?(-l-g)/2/u:(-l+g)/2/u,d=u>0?(-l+g)/2/u:(-l-g)/2/u;e<b&&b<r?e<d&&d<r?u>0?(s=Math.max(o.fonction(b),n),a=Math.min(t,o.fonction(d))):(a=Math.min(o.fonction(b),n),s=Math.max(t,o.fonction(d))):u>0?(s=o.fonction(b),a=Math.min(t,n)):(a=o.fonction(b),s=Math.max(Number(t),Number(n))):e<d&&d<r?u>0?(a=o.fonction(d),s=Math.max(e,n)):(s=o.fonction(d),a=Math.min(e,n)):u>0?d<e||b>r?(s=n,a=t):(s=t,a=n):d<e||b>r?(s=t,a=n):(s=n,a=t)}}else if(i.deg===1){const u=i.monomes[1];Number(u)>0?(s=n,a=t):(s=t,a=n)}else a=t,s=t;return{minLocal:a,maxLocal:s}}const J=C(["virgules","fractions","espaces"]),D=function(o,e){return o instanceof c?e instanceof c?o.add(e):e instanceof f?o.add(new c(e.valeurDecimale)):o.add(new c(String(e))):o instanceof f?e instanceof f?o.sommeFraction(e).simplifie():o.sommeFraction(A(Number(e))).simplifie():Number(o)+Number(e)},x=function(o,e){if(typeof o=="number"&&typeof e=="number")return o*e;if(o instanceof c)return e instanceof c?o.mul(e):e instanceof f?o.mul(new c(e.valeurDecimale)):o.mul(new c(String(e)));if(o instanceof f)return e instanceof f?o.produitFraction(e).simplifie():o.produitFraction(A(Number(e))).simplifie()},K=function(o,e){if(m(Number(e),0)&&window.notify("quotient de Polynome.js a reçu un diviseur nul",{dividende:o,diviseur:e}),typeof o=="number"&&typeof e=="number")return o/e;if(o instanceof c)return e instanceof c?o.div(e):e instanceof f?o.div(new c(e.valeurDecimale)):o.div(new c(String(e)));if(o instanceof f)return e instanceof f?o.diviseFraction(e).simplifie():o.diviseFraction(A(Number(e))).simplifie()};class h{constructor({rand:e=!1,deg:r=-1,coeffs:i,useFraction:t=!1,useDecimal:n=!1}){v(this,"monomes");v(this,"fonction");v(this,"deg");v(this,"useFraction");v(this,"useDecimal");e?(R(r,0)&&(i=new Array(r+1),i.fill([10,!0])),this.monomes=i.map(function(s){if(typeof s=="number")return s;if(Array.isArray(s)){if(s[0]===0)return 0;if(t){const u=$([2,4,5]),l=new f(...new c(S(1,u*Number(s[0]))).div(u).toFraction(100).map(Number));return s[1]?l.multiplieEntier($([-1,1])):l}else if(n){const u=new c(S(1,10*Number(s[0]))).div(10);return s[1]?u.mul($([-1,1])):u}else return s[1]?$([-1,1])*S(1,Number(s[0])):S(1,Number(s[0]))}else return s instanceof f||s instanceof c?s:(window.notify("Dans Polynome, l'un des coefficient n'est pas d'un type attendu.",{coeff:s}),NaN)})):this.monomes=i.map(function(s){return s instanceof f?t?s:new c(`${s.num}/${s.den}`):s instanceof c?n?s:s.round():Number(s)}),this.useFraction=t??this.monomes.filter(s=>s instanceof f).length>0,this.useDecimal=n??(this.monomes.filter(s=>s instanceof c).length>0&&this.monomes.filter(s=>s instanceof f).length===0),this.deg=this.monomes.length-1;const a=this.monomes;this.fonction=function(s){let u=0;for(let l=0;l<a.length;l++)if(a[l]instanceof f){const w=a[l];u=u+w.valeurDecimale*s**l}else if(a[l]instanceof c){const w=a[l];u=u+w.toNumber()*s**l}else u=u+Number(a[l])*s**l;return u}}isMon(){return this.monomes.filter(e=>e!==0).length===1}isEqual(e){if(typeof e=="number"){if(this.monomes[0]!==e)return!1;for(let r=1;r<=this.deg;r++)if(this.monomes[r]!==0)return!1;return!0}if(e instanceof h){if(e.deg===this.deg)return this.monomes.filter((t,n)=>t!==e.monomes[n]).length===0;const i=Math.min(this.deg,e.deg);for(let t=0;t<=i;t++)if(!m(Number(e.monomes[t]),Number(this.monomes[t]),1e-15))return!1;for(let t=i+1;t<=Math.max(e.deg,this.deg);t++)if(t<=this.deg&&this.monomes[t]!==0||t<=e.deg&&e.monomes[t]!==0)return!1;return!0}return window.notify(`Polynome.isEqual a reçu comme argument autre chose qu'un number ou un polynôme : ${e}`,{p:e}),!1}toMathExpr(e=!1){let r="",i="";for(const[t,n]of this.monomes.entries()){switch(t){case this.deg:{let a;switch(n instanceof f?a=e?`${n.valeurDecimale<0?n.valeurAbsolue().valeurDecimale===1?"-":"-{"+String(n.n)+"/"+String(n.d)+"}":n.valeurDecimale===1?"+":"+{"+String(n.n)+"/"+String(n.d)}+'}'`:this.deg===0?n.ecritureAlgebrique:F(n):a=e?N(n):this.deg===0?k(n):F(n),this.deg){case 1:i=m(Number(n),0,1e-15)?"":`${a}x`;break;case 0:i=m(Number(n),0,1e-15)?"":`${a}`;break;default:i=m(Number(n),0,1e-15)?"":`${a}x^${t}`}break}case 0:i=m(Number(n),0,1e-15)?"":`${n instanceof f?(n.valeurDecimale<0?"-":"+")+String(n.n)+"/"+String(n.d):k(n)}`;break;case 1:i=m(Number(n),0,1e-15)?"":n instanceof f?`${n.valeurDecimale<0?n.valeurAbsolue().valeurDecimale===1?"-":"-{"+String(n.n)+"/"+String(n.d):n.valeurDecimale===1?"+":"+{"+String(n.n)+"/"+String(n.d)}}x`:`${N(n)}x`;break;default:i=m(Number(n),0,1e-15)?"":n instanceof f?`${n.valeurDecimale<0?n.valeurAbsolue().valeurDecimale===1?"-":"-{"+String(n.n)+"/"+String(n.d):n.valeurDecimale===1?"+":"+{"+String(n.n)+"/"+String(n.d)}}x^${t}`:`${N(n)}x^${t}`;break}i=J(i),r=i+r}return r}toLatex(e=!1){let r="",i="";for(const[t,n]of this.monomes.entries())if(n instanceof f){if(n.valeurDecimale===0)continue;switch(t){case this.deg:{const a=e?`${n.valeurDecimale<0?n.valeurAbsolue().valeurDecimale===1?"-":n.texFSD:n.valeurDecimale===1?"+":n.ecritureAlgebrique}`:this.deg===0?n.texFSD:F(Number(n));if(this.deg===0)return n.texFSD;switch(this.deg){case 1:i=m(Number(n),0,1e-15)?"":`${a}x`;break;case 0:i=m(Number(n),0,1e-15)?"":`${a}`;break;default:i=m(Number(n),0,1e-15)?"":`${a}x^{${t}}`}break}case 0:i=m(Number(n),0,1e-15)?"":n.ecritureAlgebrique;break;case 1:i=m(Number(n),0,1e-15)?"":`${n.valeurDecimale<0?n.valeurAbsolue().valeurDecimale===1?"-":n.texFSD:n.valeurDecimale===1?"+":n.ecritureAlgebrique}x`;break;default:i=m(Number(n),0,1e-15)?"":`${n.valeurDecimale<0?n.valeurAbsolue().valeurDecimale===1?"-":n.texFSD:n.valeurDecimale===1?"+":n.ecritureAlgebrique}x^{${t}}`;break}r=i+r}else{switch(t){case this.deg:{const a=e?N(n):this.deg===0?n:F(Number(n));if(this.deg===0)return I(n,2);switch(this.deg){case 1:i=m(Number(n),0,1e-15)?"":`${a}x`;break;case 0:i=m(Number(n),0,1e-15)?"":`${a}`;break;default:i=m(Number(n),0,1e-15)?"":`${a}x^{${t}}`}break}case 0:i=m(Number(n),0,1e-15)?"":k(n);break;case 1:i=m(Number(n),0,1e-15)?"":`${N(n)}x`;break;default:i=m(Number(n),0,1e-15)?"":`${N(n)}x^{${t}}`;break}r=i+r}return r}toString(){return this.toLatex()}add(e){if(typeof e=="number"){const r=this.monomes.filter(t=>t instanceof f).length>0,i=[...this.monomes];return i[0]=D(this.monomes[0],e),new h({coeffs:i,useFraction:r})}else if(e instanceof f){const r=[...this.monomes];return r[0]=D(this.monomes[0],e),new h({coeffs:r,useFraction:!0})}else if(e instanceof c){const r=this.monomes.filter(t=>t instanceof f).length>0,i=[...this.monomes];return i[0]=D(e,this.monomes[0]),new h({coeffs:i,useFraction:r})}else if(e instanceof h){const r=e.monomes.filter(s=>s instanceof f).length>0||this.monomes.filter(s=>s instanceof f).length>0,i=B(this.deg,e.deg),t=q(e.deg,i)?this:e,a=(q(e.deg,i)?e:this).monomes.map(function(s,u){return u<=t.deg?D(s,t.monomes[u]):s});return new h({coeffs:a,useFraction:r})}else return window.notify("Polynome.add(arg) : l'argument n'est ni un nombre, ni un polynome",{p:e}),this}multiply(e){let r;const i=e instanceof h?e.monomes.filter(t=>t instanceof f).length>0||this.monomes.filter(t=>t instanceof f).length>0:e instanceof f;if(typeof e=="number"||e instanceof f)r=this.monomes.map(function(t){return x(t,e)}).map(t=>t??0);else if(e instanceof h){r=new Array(this.deg+e.deg+1),r.fill(0);for(let t=0;t<=this.deg;t++)for(let n=0;n<=e.deg;n++)r[t+n]=D(r[t+n],x(this.monomes[t],e.monomes[n]))}else return window.notify("Polynome.multiply(arg) : l'argument n'est ni un nombre, ni un polynome",{q:e}),this;return new h({coeffs:r,useFraction:i})}derivee(){const e=this.monomes.map(function(r,i){return x(r,i)}).map(r=>r??0);e.shift();for(let r=e.length-1;r>0;r--){if(e[r]===0){e.pop();continue}break}return e.length===0?new h({deg:0,coeffs:[0]}):new h({coeffs:e,useFraction:this.useFraction,useDecimal:this.useDecimal})}detailleCalculDerivee(){let e="";for(let r=this.monomes.length-1;r>0;r--){const i=this.monomes[r];m(Number(i),0)||(e+=e===""?`${String(r)}\\times ${i instanceof f?i.texParentheses:y(i)}${r>2?`x^{${r-1}}`:r===2?"x":""}`:`+${String(r)}\\times ${i instanceof f?i.texParentheses:y(i)}${r>2?`x^{${r-1}}`:r===2?"x":""}`)}return e}primitive0(){let e=this.monomes.map((t,n)=>K(t,n+1));e=[0,...e];const r=e.filter(t=>t instanceof f).length>0,i=e.filter(t=>t instanceof c).length>0&&!r;return new h({coeffs:e,useFraction:r,useDecimal:i})}racines(){const e=[];if(this.monomes.slice(1).filter(i=>i!==0).length===0)return null;const r=z(...this.monomes.map(i=>Number(i)));for(const i of r){let t;if(typeof i=="number")t=E(i,3);else if(i.toPolar().r<1e-5)t=0;else{const a=i.arg();M(a)<.01||M(M(a)-Number(H(-1)))<.001?t=E(i.re,3):t=null}t!==null&&(e.includes(t)||e.push(t))}return e}static print(e,r=!1){return new h({coeffs:e}).toLatex(r)}image(e){return this.fonction(e)}static fromRoots(e,r=!1,i=!1){if(e.length===0)return new h({coeffs:[1]});let t=new h({coeffs:[1],useFraction:r,useDecimal:i});for(const n of e){const a=new h({coeffs:[typeof n=="number"?-n:x(n,-1),1],useFraction:r,useDecimal:i});t=t.multiply(a)}return t}}export{h as P,V as c};
//# sourceMappingURL=Polynome-Ar1ihtUv.js.map

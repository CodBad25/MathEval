var A=Object.defineProperty;var O=($,n,i)=>n in $?A($,n,{enumerable:!0,configurable:!0,writable:!0,value:i}):$[n]=i;var C=($,n,i)=>O($,typeof n!="symbol"?n+"":n,i);import{V as T,s as w,c as q,h as B,i as G,j as _,u as J,p as K,d as U,k as W,m as X,e as Y,n as Z,o as ee}from"./patternsPreDef-ChCmrS9E.js";import{l as g,a as N}from"./shapes2d-mo6GgJn-.js";import{E as te,P as k,aA as j,m as V,f as D,s as se,y as ie,r as re,p as oe,x as ae,a1 as ne,z as F}from"./index-Bk_D2JkM.js";import{D as Q}from"./vendors/decimal.js-16C9rIKp.js";import{V as z}from"./VisualPattern-CzXShT1T.js";import"./Canvas3DElement-CQDlgMO5.js";import"./vendors/troika-three-text-C_3dcAK8.js";import"./vendors/three-BSH761bm.js";import"./vendors/troika-worker-utils-DbVzmR1E.js";import"./vendors/webgl-sdf-generator-B9WjZ7l-.js";import"./vendors/bidi-js-Dpu9EnKw.js";import"./vendors/troika-three-utils-DmCyTLF3.js";import"./Figures2D-DUEBosBZ.js";/* empty css                         */import"./vendors/svelte-DYHmJxok.js";import"./vendors/ua-parser-js-IGXSU7q4.js";import"./vendors/instrumenpoche-BZzrq7Nx.js";import"./vendors/sesajstools-DShOIGrY.js";import"./vendors/ansi-styles-C5UZWym2.js";import"./vendors/katex-DoI0QyUo.js";import"./vendors/seedrandom-CNNRxp22.js";import"./vendors/crypto-js-jSnn2346.js";import"./vendors/apigeom-CSdzZNvA.js";import"./vendors/mathjs-oaIJR0Fd.js";import"./vendors/babel_runtime-91SaXnVV.js";import"./vendors/javascript-natural-sort-CZcnv-xn.js";import"./vendors/escape-latex-D2RmlMiC.js";import"./vendors/complex.js-CUuq6tox.js";import"./vendors/typed-function-DLw9ktPY.js";import"./vendors/fraction.js-CAdrwJ1J.js";import"./vendors/tiny-emitter-DDQe9_b_.js";import"./vendors/xstate-CiXeYAGM.js";import"./vendors/earcut-jJVragJp.js";import"./vendors/roughjs-GtHDBO_d.js";import"./json/referentielStaticCH-BvJ6T55O.js";import"./json/referentielStaticFR-CRF_Hjtf.js";import"./json/uuidsToUrlFR-BAWSFQnt.js";import"./vendors/cortex-js_compute-engine-CK5Y8453.js";import"./vendors/mathlive-DtHmjDB4.js";import"./vendors/bugsnag_js-CkCWaA3t.js";import"./vendors/bugsnag_browser-d00kmNSm.js";import"./vendors/big-integer-Cu-VsFVy.js";import"./json/codeToLevelList-Cc4cPPvZ.js";import"./json/codeToThemeList-xPVrG8Yb.js";import"./vendors/mixer_postmessage-rpc-Knoq2TfA.js";import"./vendors/eventemitter3-6E4L_h32.js";import"./vendors/scratchblocks-BVGw3YSR.js";import"./json/scratchFr-DbCU7OC2.js";import"./json/refToUuidFR-BN9okUDO.js";import"./json/refToUuidCH-Bo89B_4U.js";import"./vendors/loadjs-BzrfRgSk.js";import"./vendors/svelte-gestures-u4km4ICX.js";import"./vendors/tw-elements-Cl8JxGRl.js";import"./json/uuidsRessources-CtbQ0Y2s.js";import"./json/referentielProfs-Cey1_luL.js";import"./json/referentielBibliotheque-BkZtqQRj.js";import"./vendors/jszip-CxmGZ1c2.js";import"./vendors/jszip-utils-D5kR6ObF.js";import"./vendors/file-saver-FyOmtGcA.js";import"./vendors/copy-image-clipboard-Cf9y-QAU.js";import"./vendors/qrcode-SHonoxyK.js";import"./vendors/dijkstrajs-D_NXgYpA.js";import"./vendors/svelte-french-toast-BHXPj9o3.js";import"./vendors/svelte-writable-derived-Cn90q3ND.js";import"./vendors/brace-BiTXuHwf.js";import"./json/referentielAppsTierce-SxU58PZT.js";import"./vendors/sortablejs-C83syoBY.js";import"./json/carouselContent-BScQaKkw.js";import"./json/levelsThemesList-HiwLnYG4.js";import"./json/levelsThemesListCH-CWlgSx1G.js";import"./json/referentiel2022CH-BoAqvpTp.js";import"./json/referentiel2022FR-CoYbRrWo.js";import"./json/referentielGeometrieDynamique-BJ2PHXsv.js";import"./json/referentielRessources-BU2QQoSD.js";import"./json/referentielsActivation-CpD_hoec.js";const St="Liste des patterns stockés dans Mathaléa avec leurs numéros de référence",wt={"fr-fr":["P023"],"fr-ch":[]},Qt="4c9ca";class Lt extends te{constructor(){super();C(this,"destroyers",[]);this.nbQuestions=1,this.listePackages=["twemojis"],this.nbQuestionsModifiable=!1,this.besoinFormulaireNumerique=["Liste restreinte pour la référence",6,`1 : 6I13
2 : 6I13-1
3 : 6I13-2
4 : 6I14
5 : 5L10-5
6 : 5P12-2`],this.sup=1,this.besoinFormulaire3Numerique=["Nombre de motifs par pattern",6],this.sup3=4,this.comment=`Affiche la liste des patterns stockés dans Mathaléa avec leurs numéros de référence.<br>
Vous pouvez choisir d'afficher un ou plusieurs patterns en indiquant leur numéro de référence dans le formulaire.<br>
Le nombre de motifs par pattern (3 par défaut) est aussi modifiable dans le formulaire.<br>
Le nombre de patterns à afficher est aussi modifiable dans le formulaire.<br>
Le nombre donné entre parenthèses est le nombre d'éléments au rang 43 de chaque pattern.<br>
L'expression donnée entre crochets est la formule qui permet de calculer le nombre d'éléments au rang n de chaque pattern.<br>`}destroy(){this.destroyers.forEach(i=>i()),this.destroyers.length=0}nouvelleVersion(){this.destroyers.forEach(t=>t()),this.sup3=Math.max(2,this.sup3);let i=[];switch(this.sup){case 1:i=ee;break;case 2:i=Z;break;case 3:i=Y;break;case 4:i=X;break;case 5:i=W;break;case 6:i=U;break}const H=Array.from(new Set(i.map(t=>t.shapes).flat()));let p="";if(k.isHtml||(p+=`${H.map(t=>g[t].shapeDef.tikz()).join(`
`)}
`),!(i==null||i.length===0)){for(let t=0;t<i.length;t++){const s=i[t];if(s==null){p+=`
${j(`Pattern ${t+1}`,"red")}: ${j("Pattern inexistant","red")}`;continue}if("nbMotifMin"in s){const x=[];for(const o of s.shapes)o in g&&x.push(g[o].shapeDef);for(let o=0;o<=s.nbMotifMin;o++){const y=new z([]);y.shapes=s.shapes,y.iterate=s.iterate,x.push(y.render(o,o+1,0))}p+=`
${j(`Pattern ${t+1}`,"blue")}:  <br>`,p+=V(Object.assign(D(x,{rxmin:0,rymin:-1,rxmax:0,rymax:1}),{pixelsParCm:20,scale:.4,optionsTikz:"transform shape"}),x)}else{const x="nbMotifMin"in s?null:new Q(s.fonctionNb(43)).toString(),o="nbMotifMin"in s?null:s.fonctionRatio?s.fonctionRatio(43).values.map(e=>new Q(e).toString()).join("~:~"):null,y="nbMotifMin"in s?null:s.fonctionFraction&&s.fonctionRatio?`\\dfrac{${(s.fonctionRatio(43).values[0]??0).toString()}}{${new Q(s.fonctionNb(43)).toString()}}`:null;p+=`
${j(`Pattern ${t+1}`,"blue")}: Motif 43 : $\\left(${x}\\right)$ ${y?`; fraction : $${y}$ `:""} ${o?`; ratio : $${o}$`:""} ; formule : ${se(6)}$\\left[${ie(s.formule??"")}\\right]$ <br>`;const M=s;k.isHtml&&(p+=M.visualImg!=null?`<a href="${M.visualImg}" target="_blank">Image</a><br><br>`:"");const r="iterate3d"in s?new T({initialCells:[],type:"iso",shapes:s.shapes,prefixId:`Ex${this.numeroExercice}Q${t}`}):new z([]);"iterate3d"in r?(r.shapes=["cube"],r.iterate3d=M.iterate3d):(r.shapes=M.shapes||N[re(0,N.length-1)],r.iterate=M.iterate);const I=Math.PI/2.5;let v=0,E=0;const l=[];for(let e=0;e<this.sup3;e++){l[e]=[];let m=[],P=1/0,c=-1/0,f=1/0,u=-1/0;if(k.isHtml)for(let h=0;h<r.shapes.length;h++){let d=r.shapes[h];if(d in g){if(d==="carré"){const a=String(oe(Object.keys(g)));d=a,r.shapes[h]=a}l[e].push(g[d].shapeDef)}else if(d==="cube"){r.shape==null&&(r.shape=w());const a=q(`cubeIsoQ${t}F${e}`,1);a.svg=function(S){return`
          <defs>
            <g id="cubeIsoQ${t}F${e}">
              ${B(I)}
              ${G(I)}
              ${_(I)}
            </g>
          </defs>`},l[e].push(a)}else console.warn(`Shape ${d} n'est pas dans listeShapesDef ou emojis et n'est pas un cube`)}if("iterate3d"in r)if(r.shape==null&&(r.shape=w(`cubeIsoQ${t}F${e}`,0,0,{scale:1})),k.isHtml){const h=J({pattern:r,i:t,j:e,angle:I,inCorrectionMode:!1});h&&this.destroyers.push(h),r.shape.codeSvg=`<use href="#cubeIsoQ${t}F${e}"></use>`,r.update3DCells(e+1).forEach(a=>{const[S,R]=K(a[0],a[1],a[2],I),b=w(`cubeIsoQ${t}F${e}`,S,R,{scale:1});b.x=S/20,b.y=-R/20,m.push(b),P=Math.min(P,b.y),c=Math.max(c,b.y+1),f=Math.min(f,b.x),u=Math.max(u,b.x+1)})}else m=[q(`cubeIsoQ${t}F${e}`),...r.render(e+1,0,0,Math.PI/6)],{xmin:f,ymin:P,xmax:u,ymax:c}=D(m);else m=r.render(e+1,0,0),{xmin:f,ymin:P,xmax:u,ymax:c}=D(m);l[e].push(...m),l[e].push(ae(`Motif ${e+1}`,(u+f)/2,-1.5,0,"black",.8,"milieu"));const L=ne(F(f-2,-2),F(u+2,-2),F(u+2,c+2),F(f-2,c+2));L.pointilles=4,l[e].push(L),v=Math.max(v,c),E=Math.min(E,P)}p+=l.map((e,m)=>V(Object.assign(D(e,{rxmin:0,rymin:-1,rxmax:0,rymax:1}),{id:`Motif${t}F${m}`,pixelsParCm:20,yMax:v,yMin:E,scale:.5,style:"display: inline-block",optionsTikz:"transform shape"}),e)).join(`
`)+"<br>"}}this.listeQuestions=[p]}}}export{Lt as default,wt as refs,St as titre,Qt as uuid};
//# sourceMappingURL=listePatterns-DVdTsCVX.js.map

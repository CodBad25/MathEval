{"version":3,"file":"5M10-1-B7sH97Ti.js","sources":["../../src/exercices/5e/5M10-1.ts"],"sourcesContent":["import { codageAngleDroit } from '../../lib/2d/angles'\nimport {\n  afficheCoteSegment,\n  afficheLongueurSegment,\n} from '../../lib/2d/codages'\nimport { point } from '../../lib/2d/points'\nimport { polygoneAvecNom } from '../../lib/2d/polygones'\nimport { longueur, segment } from '../../lib/2d/segmentsVecteurs'\nimport { rotation } from '../../lib/2d/transformations'\nimport { triangle2points1hauteur } from '../../lib/2d/triangle'\nimport {\n  combinaisonListes,\n  combinaisonListesSansChangerOrdre,\n  shuffle,\n} from '../../lib/outils/arrayOutils'\nimport { arrondi } from '../../lib/outils/nombres'\nimport { creerNomDePolygone, sp } from '../../lib/outils/outilString'\nimport { texNombre } from '../../lib/outils/texNombre'\nimport { listeQuestionsToContenu, randint } from '../../modules/outils'\nimport Exercice from '../Exercice'\nimport { mathalea2d } from '../../modules/2dGeneralites'\nimport { context } from '../../modules/context'\nimport { ajouteChampTexteMathLive } from '../../lib/interactif/questionMathLive'\nimport Grandeur from '../../modules/Grandeur'\nimport { handleAnswers } from '../../lib/interactif/gestionInteractif'\nimport { miseEnEvidence } from '../../lib/outils/embellissements'\nimport { KeyboardType } from '../../lib/interactif/claviers/keyboard'\n\nexport const titre = \"Calculer l'aire de triangles\"\nexport const interactifReady = true\nexport const interactifType = 'mathLive'\nexport const amcReady = true\nexport const amcType = 'AMCNum'\n\nexport const dateDeModifImportante = '18/06/2024'\n\n/**\n * Calculer l'aire de 3 triangles dont une hauteur est tracée.\n *\n * Une figure dynamique est disponible sur laquelle on peut déplacer le pied de la hauteur.\n *\n * @author Rémi Angot conversion mathalea2d Jean-Claude Lhote\n * Ajout de la possibilité de choisir le nombre de questions par Guillaume Valmont le 08/05/2022\n */\nexport const uuid = '06b1a'\n\nexport const refs = {\n  'fr-fr': ['5M10-1'],\n  'fr-2016': ['6M20'],\n  'fr-ch': ['9GM1-3'],\n}\nexport default class AireDeTriangles extends Exercice {\n  constructor() {\n    super()\n    this.besoinFormulaireNumerique = [\n      'Type de triangles',\n      4,\n      '1 : Que des triangles sans angle obtus\\n2 : Que des triangles avec un angle obtus\\n3 : Mélange',\n    ]\n\n    this.spacing = 2\n\n    context.isHtml ? (this.spacingCorr = 3) : (this.spacingCorr = 2)\n    this.nbQuestions = 3\n\n    this.sup = 3\n\n    this.correctionDetailleeDisponible = true\n    this.correctionDetaillee = false\n  }\n\n  nouvelleVersion() {\n    const tableauDesCotes = shuffle([5, 6, 7, 8, 9]) // pour s'assurer que les 3 côtés sont différents\n    const tableauDesHauteurs = shuffle([3, 4, 5, 6]) // pour s'assurer que les 3 hauteurs sont différents\n    const cotes = combinaisonListesSansChangerOrdre(\n      tableauDesCotes,\n      this.nbQuestions,\n    )\n    const hauteurs = combinaisonListesSansChangerOrdre(\n      tableauDesHauteurs,\n      this.nbQuestions,\n    )\n    let triH\n    const A = point(0, 0)\n    let B\n    let C\n    let H\n    let triangle\n    let polynom\n    let hauteurpoly\n    let d\n    const objetsEnonce = []\n    const objetsCorrection = []\n    let xmin\n    let xmax\n    let ymin\n    let ymax\n\n    const NB_LETTRES = 20\n    const nom = creerNomDePolygone(NB_LETTRES, 'QD')\n\n    const typeQuestionsDisponibles =\n      this.sup === 3\n        ? ['intérieur', 'extérieur']\n        : this.sup === 1\n          ? ['intérieur']\n          : ['extérieur']\n\n    const listeTypeQuestions = combinaisonListes(\n      typeQuestionsDisponibles,\n      this.nbQuestions,\n    )\n    for (\n      let i = 0, texte, texteCorr, cpt = 0;\n      i < this.nbQuestions && cpt < 50;\n\n    ) {\n      objetsEnonce.length = 0\n      objetsCorrection.length = 0\n      A.nom = nom[(i * 4) % NB_LETTRES]\n      do {\n        B = rotation(\n          point(cotes[i], 0),\n          A,\n          randint(-60, 60),\n          nom[(i * 4 + 1) % NB_LETTRES],\n        )\n        if (listeTypeQuestions[i] === 'extérieur') {\n          d = longueur(A, B) + randint(6, 9) / 3\n        } else {\n          d = randint(6, Math.round(longueur(A, B) * 10 - 6)) / 10\n        }\n        triH = triangle2points1hauteur(A, B, hauteurs[i], d, 2)\n        H = triH.pied\n        triangle = triH.triangle\n        C = triangle.listePoints[2]\n      } while (\n        Math.abs(longueur(H, C) - longueur(B, C)) < 0.2 ||\n        Math.abs(longueur(H, C) - longueur(A, C)) < 0.2\n      ) // EE : Pour éviter que la hauteur ait la même longueur arrondie que les segments issus du même sommet que celui de la hauteur.\n      H.nom = nom[(i * 4 + 3) % NB_LETTRES]\n      C.nom = nom[(i * 4 + 2) % NB_LETTRES]\n      polynom = polygoneAvecNom(A, H, B, C)\n      hauteurpoly = segment(C, H)\n      hauteurpoly.pointilles = 2\n      xmin = Math.min(A.x, B.x, C.x, H.x) - 1.5\n      xmax = Math.max(A.x, B.x, C.x, H.x) + 1.5\n      ymin = Math.min(A.y, B.y, C.y, H.y) - 2\n      ymax = Math.max(A.y, B.y, C.y, H.y) + 1.5\n      objetsEnonce.push(\n        polynom[0],\n        polynom[1],\n        hauteurpoly,\n        afficheCoteSegment(segment(B, A), '', 1),\n        afficheLongueurSegment(A, C, 'black', 0.5),\n        afficheLongueurSegment(C, B, 'black', 0.5),\n        afficheLongueurSegment(C, H, 'black', 0.3),\n        codageAngleDroit(A, H, C),\n      )\n      objetsCorrection.push(\n        polynom[0],\n        polynom[1],\n        hauteurpoly,\n        afficheCoteSegment(segment(B, A), '', 1),\n        afficheLongueurSegment(C, H, 'black', 0.3),\n        codageAngleDroit(A, H, C),\n      )\n      texte = `Calculer l'aire du triangle ${A.nom}${B.nom}${C.nom}.<br>`\n      texte += mathalea2d(\n        {\n          xmin,\n          xmax,\n          ymin,\n          ymax,\n          pixelsParCm: 20,\n          scale: 0.5,\n          mainlevee: false,\n        },\n        objetsEnonce,\n      )\n      if (this.correctionDetaillee) {\n        texteCorr = mathalea2d(\n          {\n            xmin,\n            xmax,\n            ymin,\n            ymax,\n            pixelsParCm: 20,\n            scale: 0.5,\n            mainlevee: false,\n          },\n          objetsCorrection,\n        )\n      } else texteCorr = ''\n      texteCorr += `$\\\\mathcal{A}_{${A.nom}${B.nom}${C.nom}}=\\\\dfrac{1}{2}\\\\times ${A.nom}${B.nom}\\\\times ${H.nom}${C.nom}=\\\\dfrac{1}{2}\\\\times${cotes[i]}~\\\\text{cm}\\\\times ${hauteurs[i]}~\\\\text{cm}=${miseEnEvidence(\n        texNombre((cotes[i] * hauteurs[i]) / 2) + '~\\\\text{cm}^2',\n      )}$`\n      handleAnswers(\n        this,\n        i,\n        {\n          reponse: {\n            value: new Grandeur(\n              arrondi((cotes[i] * hauteurs[i]) / 2, 3),\n              'cm^2',\n            ),\n            options: { unite: true, precisionUnite: 3 },\n          },\n        },\n        { formatInteractif: 'mathlive' },\n      )\n      texte += ajouteChampTexteMathLive(this, i, KeyboardType.aire, {\n        texteAvant: `Aire du triangle ${A.nom}${B.nom}${C.nom} :`,\n        texteApres: sp(6) + \"Il faut penser à indiquer l'unité à la réponse.\",\n      })\n      if (context.isAmc) {\n        this.autoCorrection[i] = {\n          enonce: texte + `<br>Aire de ${A.nom}${B.nom}${C.nom} en cm$^2$ :`, // Si vide, l'énoncé est celui de l'exercice.\n          propositions: [\n            {\n              texte: texteCorr,\n            },\n          ],\n          reponse: {\n            // @ts-expect-error\n            valeur: [arrondi((cotes[i] * hauteurs[i]) / 2)], // obligatoire (la réponse numérique à comparer à celle de l'élève), NE PAS METTRE DE STRING à virgule ! 4.9 et non pas 4,9. Cette valeur doit être passée dans un tableau d'où la nécessité des crochets.\n            param: {\n              signe: false,\n              decimals: 1,\n              approx: 0,\n            },\n          },\n        }\n      }\n\n      // Si la question n'a jamais été posée, on l'enregistre\n      if (this.questionJamaisPosee(i, texte)) {\n        // <- laisser le i et ajouter toutes les variables qui rendent les exercices différents (par exemple a, b, c et d)\n        // Supprime b, c et d dans la ligne ci-dessus et remplace les par NombreAAjouter !\n        this.listeQuestions[i] = texte\n        this.listeCorrections[i] = texteCorr\n        i++\n      }\n      cpt++\n    }\n    listeQuestionsToContenu(this)\n  }\n}\n"],"names":["titre","interactifReady","interactifType","amcReady","amcType","dateDeModifImportante","uuid","refs","AireDeTriangles","Exercice","context","tableauDesCotes","shuffle","tableauDesHauteurs","cotes","combinaisonListesSansChangerOrdre","hauteurs","triH","A","point","B","C","H","triangle","polynom","hauteurpoly","d","objetsEnonce","objetsCorrection","xmin","xmax","ymin","ymax","NB_LETTRES","nom","creerNomDePolygone","typeQuestionsDisponibles","listeTypeQuestions","combinaisonListes","i","texte","texteCorr","cpt","rotation","randint","longueur","triangle2points1hauteur","polygoneAvecNom","segment","afficheCoteSegment","afficheLongueurSegment","codageAngleDroit","mathalea2d","miseEnEvidence","texNombre","handleAnswers","Grandeur","arrondi","ajouteChampTexteMathLive","KeyboardType","sp","listeQuestionsToContenu"],"mappings":"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"}
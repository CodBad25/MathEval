var B=Object.defineProperty;var G=(k,a,u)=>a in k?B(k,a,{enumerable:!0,configurable:!0,writable:!0,value:u}):k[a]=u;var x=(k,a,u)=>G(k,typeof a!="symbol"?a+"":a,u);import{r as S,R as l,z as s,Z as A,aQ as D,da as I,S as O,ba as Q,U as T}from"./index-Bk_D2JkM.js";import{r as U}from"./findPath-_qdi366R.js";class Z{constructor({nbLignes:a=3,nbColonnes:u=6,scaleFigure:v=1}={}){x(this,"niveau");x(this,"murs2d");x(this,"chemin2d");x(this,"nombres2d");x(this,"choisitChemin");x(this,"construitMurs");x(this,"traceChemin");x(this,"placeNombres");this.niveau=1,this.murs2d=[],this.chemin2d=[],this.nombres2d=[];const w=[];for(let r=0;r<a;r++)for(let p=0;p<a;p++){const i=U(a,u,r,0,p,u-1);w.push(...i)}w.sort((r,p)=>p.length-r.length);const E=[];w.forEach(r=>{const p=[];r.forEach(i=>{p.push([i.x+1,a-i.y-1])}),E.push(p)});const j=E,P=w;let y=[];const z=P[0].length,N=P[P.length-1].length,V=(z-N)/4;for(let r=0;r<4;r++)y.push(P.findIndex(p=>p.length<z-r*V));y[4]=P.length,y=y.map(r=>r-1),this.choisitChemin=function(r){let p;switch(r){case 1:p=S(0,y[0]);break;case 2:case 3:case 4:case 5:p=S(y[r-2]+1,y[r-1]);break;case 6:p=S(0,P.length-1);break}return typeof p>"u"?(window.notify("choisitChemin(niveau) doit être appelé avec un niveau entre 1 et 6.",{niveau:r}),j[0]):j[p]},this.construitMurs=function(r,p){const i=[];let e,c;const h=r[0][1];for(let t=0;t<u;t++)e=l(s(t*3,1),s(t*3,2)),e.epaisseur=2,i.push(e),c=l(s(t*3,1+3*a),s(t*3,3*a)),c.epaisseur=2,i.push(c);e=l(s(0,1+3*a),s(0,3+h*3)),e.epaisseur=3,i.push(e),e=l(s(0,1),s(0,2+h*3)),e.epaisseur=3,i.push(e),e=l(s(-3,1+h*3),s(0,1+h*3),"green"),e.epaisseur=3,i.push(e),e=l(s(-3,1+h*3),s(-3,4+h*3),"green"),e.epaisseur=3,i.push(e),e=l(s(-3,4+h*3),s(0,4+h*3),"green"),e.epaisseur=3,i.push(e),i.push(A("Départ",s(-1.5,2.5+h*3),0,"blue",p,"milieu",!1));for(let t=1;t<u;t++)for(let m=0;m<a-1;m++)e=l(s(t*3,5+3*m),s(t*3,3+3*m),"black"),e.epaisseur=2,c=l(s(t*3-.5,4+3*m),s(t*3+.5,4+3*m),"black"),c.epaisseur=2,i.push(c,e);e=l(s(0,1+3*a),s(3*u,1+3*a)),e.epaisseur=3,i.push(e),e=l(s(3*u,1+3*a-1),s(3*u,1+3*a)),e.epaisseur=3,i.push(e),e=l(s(3*u,1),s(3*u,2)),e.epaisseur=3,i.push(e),e=l(s(0,1),s(3*u,1)),e.epaisseur=3,i.push(e);for(let t=0;t<a-1;t++)e=l(s(3*u,3+t*3),s(3*u,5+t*3)),e.epaisseur=3,i.push(e);for(let t=0;t<a;t++)e=l(s(3*u,2+t*3),s(3*u+2,2+t*3)),e.epaisseur=3,c=l(s(3*u,3+t*3),s(3*u+2,3+t*3)),c.epaisseur=3,i.push(e,c);for(let t=1;t<=a;t++)i.push(A(`Sortie ${t}`,s(3*u+1.5,2.5+3*a-3*t),0,"blue",p,"milieu",!1));return i},this.traceChemin=function(r,p="brown"){let i=r[0][1],e=0;const c=[];let h;for(let t=0;t<r.length;t++)h=l(s(e*3-1.5,i*3+2.5),s(r[t][0]*3-1.5,r[t][1]*3+2.5),p),h.pointilles=5,h.stylePointilles=2,h.epaisseur=5,h.opacite=.3,c.push(h),e=r[t][0],i=r[t][1];return h=l(s(e*3-1.5,i*3+2.5),s(e*3+1.5,i*3+2.5),p),h.pointilles=5,h.stylePointilles=2,h.epaisseur=5,h.opacite=.3,c.push(h),c},this.placeNombres=function(r,p,i,e){p=D(p,r.length),i=D(i,u*a-r.length);const c=[],h=[];let t,m=0,M=0;for(let f=0;f<u;f++)h.push([0,0]);for(let f=1;f<u+1;f++)for(let o=0;o<a;o++){t=!1;for(let d=0;d<r.length;d++)r[d][0]===f&&r[d][1]===o&&(t=!0);t?(h[f-1][o]=p[m],m++):(h[f-1][o]=i[M],M++)}for(let f=1;f<u+1;f++)for(let o=0;o<a;o++){const d=h[f-1][o];typeof d=="number"?c.push(I(O(d),s(-1.5+f*3,2.5+o*3),0,"black",e,"milieu",!0,v)):typeof d=="string"?c.push(Q(d,-1.5+f*3,2.5+o*3,0,"black",e,"milieu",!0,v)):c.push(T(d.texFraction,-1.5+f*3,2.5+o*3,{color:"black",backgroundColor:"white",letterSize:"scriptsize"}))}return c}}}function F({nbLignes:k=3,nbColonnes:a=6,scaleFigure:u=1}={}){return new Z({nbLignes:k,nbColonnes:a,scaleFigure:u})}export{F as l};
//# sourceMappingURL=Labyrinthe-DlnuA7j0.js.map

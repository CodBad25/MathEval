import{P as u,c6 as E,c7 as f}from"./index-Bk_D2JkM.js";import{g as l}from"./vendors/svelte-DYHmJxok.js";function x({exercice:s,figure:e,animation:y=!1,i:c,defaultAction:d,idAddendum:L="",isDynamic:v}){if(!u.isHtml)return"";e.isDynamic=v!==void 0?v:!!s.interactif,e.divButtons.style.display=e.isDynamic?"grid":"none",e.divUserMessage.style.fontSize="1em",e.divUserMessage.style.pointerEvents="none",e.divUserMessage.style.removeProperty("color"),e.divUserMessage.classList.add("text-coopmaths-struct"),s.interactif||(e.divUserMessage.style.display="none");const o=`apigeomEx${s.numeroExercice}F${c}${L}`;e.id=o;function r(n){if(!e.container){document.removeEventListener(o,r);return}const t=n.detail;e.loadJson(JSON.parse(t)),l(E).isChoosen&&l(E).state==="solutions"&&(e.divButtons.style.display="none",e.divUserMessage.style.display="none")}document.addEventListener(o,r);let i=1;function m(n){if(!e.container||!e.container.id){document.removeEventListener("zoomChanged",m);return}const t=Number(n.detail.zoom);i!==t&&(i=t,e!=null&&e.zoom(t,{changeHeight:!0,changeWidth:!0,changeLeft:!1,changeBottom:!1}))}document.addEventListener("zoomChanged",m);function p(){var t;if(!e.container||!e.container.id){document.removeEventListener("exercicesAffiches",p),document.removeEventListener("zoomChanged",m),document.removeEventListener(o,r);return}if(!u.isHtml)return;const n=document.querySelector(`#${o}`);if(n==null)return;n.innerHTML="",e.setContainer(n),y&&(e.divUserMessage.innerHTML="",e.restart(),setTimeout(()=>{var h;(h=e.buttons.get("PLAY"))==null||h.click()},3e3)),d&&((t=e.buttons.get(d))==null||t.click(),d="");const a=Number(l(f).z);i!==a&&(i=a,e.zoom(a,{changeHeight:!0,changeWidth:!0,changeLeft:!1,changeBottom:!1}))}return document.addEventListener("exercicesAffiches",p),`<div class="m-6 leading-none" id="${o}"></div><span id="resultatCheckEx${s.numeroExercice}Q${c}"></span><div class="ml-2 py-2 text-coopmaths-warn-darkest dark:text-coopmathsdark-warn-darkest" id="feedbackEx${s.numeroExercice}Q${c}"></div>`}export{x as f};
//# sourceMappingURL=figureApigeom-Psdmf2IH.js.map

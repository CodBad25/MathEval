{"version":3,"file":"6N3F-1-BnDzYDW0.js","sources":["../../src/exercices/6e/6N3F-1.ts"],"sourcesContent":["import figureApigeom from '../../lib/figureApigeom'\nimport { KeyboardType } from '../../lib/interactif/claviers/keyboard'\nimport { handleAnswers } from '../../lib/interactif/gestionInteractif'\nimport { remplisLesBlancs } from '../../lib/interactif/questionMathLive'\nimport { miseEnEvidence } from '../../lib/outils/embellissements'\nimport { rangeMinMax } from '../../lib/outils/nombres'\nimport { mathalea2d } from '../../modules/2dGeneralites'\nimport { fractionCliquable } from '../../modules/2dinteractif'\nimport { context } from '../../modules/context'\nimport {\n  gestionnaireFormulaireTexte,\n  listeQuestionsToContenu,\n  quotientier,\n  randint,\n} from '../../modules/outils'\nimport Exercice from '../Exercice'\nimport { getDynamicFractionDiagram } from './6N3F-2'\n\nexport const titre = \"Écrire un nombre entier sous la forme d'une fraction\"\nexport const interactifReady = true\nexport const interactifType = 'mathLive'\nexport const dateDePublication = '27/11/2024'\nexport const dateDeModifImportante = '08/05/2025'\n\n/**\n * @author Guillaume Valmont\n * Rajout du paramètre 3 par Eric Elter\n */\nexport const uuid = '42ade'\nexport const refs = {\n  'fr-fr': ['6N3F-1'],\n  'fr-2016': ['6N20-0'],\n  'fr-ch': ['9NO12-11'],\n}\nexport default class EcrireEntierSousFormeDeFraction extends Exercice {\n  constructor() {\n    super()\n    this.nbQuestions = 4\n    this.consigne = 'Compléter.'\n    this.spacing = 2\n    this.spacingCorr = 2\n    this.nbCols = 2\n    this.nbColsCorr = 2\n    this.sup = '2-3-4-5-6-7-8-9-10-11'\n    this.sup2 = '1-2-3-4-5'\n    this.besoinFormulaireTexte = [\n      'Dénominateurs',\n      'Nombres séparés par des tirets :\\n(de 2 à 11 par défaut)',\n    ]\n    this.besoinFormulaire2Texte = [\n      'Nombres entiers',\n      'Nombres séparés par des tirets :\\n(de 1 à 5 par défaut)',\n    ]\n    this.besoinFormulaire3CaseACocher = ['Brouillon interactif', false]\n    this.correctionDetailleeDisponible = true\n  }\n\n  nouvelleVersion() {\n    if (this.sup3) {\n      const figure = getDynamicFractionDiagram()\n      this.introduction = figureApigeom({\n        exercice: this,\n        i: 0,\n        figure,\n        isDynamic: true,\n      })\n      if (figure.ui) figure.ui.send('FILL')\n    } else {\n      this.introduction = ''\n    }\n\n    const listeDenominateurs = gestionnaireFormulaireTexte({\n      saisie: this.sup,\n      min: 2,\n      max: 1000,\n      defaut: 1000,\n      melange: 0,\n      shuffle: true,\n      nbQuestions: this.nbQuestions,\n    }).map((element) => Number(element))\n    const listeNombresEntiers = gestionnaireFormulaireTexte({\n      saisie: this.sup2,\n      min: 1,\n      max: 1000,\n      defaut: 1000,\n      melange: 0,\n      shuffle: true,\n      nbQuestions: this.nbQuestions,\n    }).map((element) => Number(element))\n    let scale\n    context.isHtml ? (scale = 0.5) : (scale = 0.4)\n    for (let i = 0, cpt = 0; i < this.nbQuestions && cpt < 50; ) {\n      const denominateur =\n        listeDenominateurs[cpt % this.nbQuestions] === 1000\n          ? randint(2, 11)\n          : listeDenominateurs[cpt % this.nbQuestions]\n      const entier =\n        listeNombresEntiers[cpt % this.nbQuestions] === 1000\n          ? randint(1, 3)\n          : listeNombresEntiers[cpt % this.nbQuestions]\n\n      const texte = remplisLesBlancs(\n        this,\n        i,\n        `${entier} = \\\\dfrac{%{champ1}}{${denominateur}}`,\n        KeyboardType.clavierNumbers,\n      )\n      let texteCorr = ''\n      if (this.correctionDetaillee) {\n        texteCorr += `$1$ unité = $\\\\dfrac{${denominateur}}{${denominateur}}$.<br>\n        $${entier}$ unités $= ${entier} \\\\times 1$ unité.<br>\n        $${entier}$ unités $= ${entier} \\\\times \\\\dfrac{${denominateur}}{${denominateur}}$.<br>\n`\n      }\n      texteCorr += `$${entier} = \\\\dfrac{${miseEnEvidence(String(entier * denominateur))}}{${denominateur}}$`\n      if (this.correctionDetaillee) {\n        // Liste pour alterner les couleurs\n        const liste1 = []\n        const liste2 = []\n        for (let k = 0; k < entier; k++) {\n          if (k % 2 === 0)\n            liste1.push(\n              ...rangeMinMax(k * denominateur + 1, (k + 1) * denominateur),\n            )\n          else\n            liste2.push(\n              ...rangeMinMax(k * denominateur + 1, (k + 1) * denominateur),\n            )\n        }\n        const schemaCorr = fractionCliquable(\n          0,\n          0,\n          quotientier(entier * denominateur, denominateur) + 1,\n          denominateur,\n          {\n            cliquable: false,\n            liste1,\n            liste2,\n          },\n        )\n        texteCorr += mathalea2d(\n          {\n            scale,\n            xmin: -0.2,\n            xmax: (quotientier(entier * denominateur, denominateur) + 1) * 5,\n            ymin: -1,\n            ymax: 2,\n            style: 'display: inline',\n          },\n          schemaCorr,\n        )\n      }\n      handleAnswers(\n        this,\n        i,\n        {\n          champ1: { value: String(entier * denominateur) },\n        },\n        { formatInteractif: 'fillInTheBlank' },\n      )\n      if (this.questionJamaisPosee(i, entier, denominateur)) {\n        // Si la question n'a jamais été posée, on en créé une autre\n        this.listeQuestions[i] = texte\n        this.listeCorrections[i] = texteCorr\n        i++\n      }\n      cpt++\n    }\n    listeQuestionsToContenu(this)\n  }\n}\n"],"names":["titre","interactifReady","interactifType","dateDePublication","dateDeModifImportante","uuid","refs","EcrireEntierSousFormeDeFraction","Exercice","figure","getDynamicFractionDiagram","figureApigeom","listeDenominateurs","gestionnaireFormulaireTexte","element","listeNombresEntiers","scale","context","i","cpt","denominateur","randint","entier","texte","remplisLesBlancs","KeyboardType","texteCorr","miseEnEvidence","liste1","liste2","k","rangeMinMax","schemaCorr","fractionCliquable","quotientier","mathalea2d","handleAnswers","listeQuestionsToContenu"],"mappings":"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"}
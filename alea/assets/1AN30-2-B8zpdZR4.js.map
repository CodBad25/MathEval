{"version":3,"file":"1AN30-2-B8zpdZR4.js","sources":["../../src/lib/mathFonctions/Calcul.ts","../../src/exercices/1e/1AN30-2.ts"],"sourcesContent":["import type Trinome from '../../modules/Trinome'\n\n/**\n * Élément d'une opération (terme ou facteur ou ...)\n */\nexport class Operande {\n  value: string | number\n  constructor(value: string | number) {\n    this.value = value\n  }\n\n  get string(): string {\n    return this.value.toString()\n  }\n\n  toString({ parentheses }: { parentheses?: boolean } = {}): string {\n    if (parentheses) {\n      return `(${this.string})`\n    }\n    return this.string\n  }\n}\n\n/**\n * Opérande de la forme k * e^trinome\n */\nexport class ExponentialOperande extends Operande {\n  type: 'exponential'\n  polynome: Trinome\n  k: number\n  constructor({ polynome, k = 1 }: { polynome: Trinome; k?: number }) {\n    super(polynome.toString())\n    this.type = 'exponential'\n    this.polynome = polynome\n    this.k = k\n  }\n\n  get string(): string {\n    if (this.polynome.toString() === '') {\n      return String(this.k)\n    }\n    if (this.k === 0) {\n      return '0'\n    }\n    const kString = handle1(this.k)\n    return `${kString}e^{${this.polynome.toString()}}`\n  }\n}\n\n/**\n * Un calcul est un arbre qui a pour feuilles des opérandes ou des calculs\n * L'objectif de cette classe est de pouvoir gérer les calculs avec les étapes intermédiaires\n * et la gestion des parenthèses, signes et autres notations mathématiques\n */\nabstract class Calcul {\n  abstract string: string\n\n  toString({ parentheses }: { parentheses?: boolean } = {}): string {\n    if (parentheses) {\n      return `(${this.string})`\n    }\n    return this.string\n  }\n}\n\n/**\n * Addition de deux termes qui peuvent être des opérandes ou des calculs\n */\nexport class Add extends Calcul {\n  type: 'add'\n  operande1: Operande | Calcul | string\n  operande2: Operande | Calcul | string\n  constructor(\n    operande1: Operande | Calcul | string,\n    operande2: Operande | Calcul | string,\n  ) {\n    super()\n    this.type = 'add'\n    this.operande1 = operande1\n    this.operande2 = operande2\n  }\n\n  get result() {\n    if (\n      this.operande1 instanceof ExponentialOperande &&\n      this.operande2 instanceof ExponentialOperande\n    ) {\n      if (this.operande1.polynome.isEqual(this.operande2.polynome)) {\n        return new ExponentialOperande({\n          polynome: this.operande1.polynome,\n          k: this.operande1.k + this.operande2.k,\n        })\n      }\n    }\n    return this\n  }\n\n  get string(): string {\n    return `${this.operande1.toString()} + ${this.operande2.toString()}`\n  }\n}\n\n/**\n * Soustraction de deux termes qui peuvent être des opérandes ou des calculs\n */\nexport class Sub extends Calcul {\n  type: 'sub'\n  operande1: Operande | Calcul | string\n  operande2: Operande | Calcul | string\n  constructor(operande1: Operande | Calcul, operande2: Operande | Calcul) {\n    super()\n    this.type = 'sub'\n    this.operande1 = operande1\n    this.operande2 = operande2\n  }\n\n  get string(): string {\n    return `${this.operande1.toString()} - ${this.operande2.toString()}`\n  }\n\n  get result() {\n    if (\n      this.operande1 instanceof ExponentialOperande &&\n      this.operande2 instanceof ExponentialOperande\n    ) {\n      if (this.operande1.polynome.isEqual(this.operande2.polynome)) {\n        return new ExponentialOperande({\n          polynome: this.operande1.polynome,\n          k: this.operande1.k - this.operande2.k,\n        })\n      }\n    }\n    return this\n  }\n}\n\n/**\n * Multiplication de deux facteurs qui peuvent être des opérandes ou des calculs\n */\nexport class Mul extends Calcul {\n  type: 'mul'\n  operande1: Operande | Calcul | string\n  operande2: Operande | Calcul | string\n  constructor(\n    operande1: Operande | Calcul | string,\n    operande2: Operande | Calcul | string,\n  ) {\n    super()\n    this.type = 'mul'\n    this.operande1 = operande1\n    this.operande2 = operande2\n  }\n\n  get step(): string {\n    if (\n      this.operande1 instanceof ExponentialOperande &&\n      this.operande2 instanceof ExponentialOperande\n    ) {\n      if (this.operande1.k === 0 || this.operande2.k === 0) {\n        return ''\n      }\n      const kString = handle1(this.operande1.k * this.operande2.k)\n      return `${kString}e^{${this.operande1.polynome.toString()} + ${needParentheses(this.operande2.polynome.toString())}}`\n    }\n    return ''\n  }\n\n  get result() {\n    if (\n      this.operande1 instanceof ExponentialOperande &&\n      this.operande2 instanceof ExponentialOperande\n    ) {\n      return new ExponentialOperande({\n        polynome: this.operande1.polynome.add(this.operande2.polynome),\n        k: this.operande1.k * this.operande2.k,\n      })\n    }\n    return this\n  }\n\n  get string(): string {\n    const operande1HasParentheses =\n      this.operande1 instanceof Add || this.operande1 instanceof Sub\n    const operande2HasParentheses =\n      this.operande2 instanceof Add ||\n      this.operande2 instanceof Sub ||\n      this.operande2.toString()[0] === '-'\n    return `${this.operande1.toString({ parentheses: operande1HasParentheses })} \\\\times ${this.operande2.toString({ parentheses: operande2HasParentheses })}`\n  }\n}\n\n/**\n * Fraction avec un numérateur et un dénominateur qui peuvent être des opérandes ou des calculs\n */\nexport class Frac extends Calcul {\n  type: 'frac'\n  num: Operande | Calcul | string\n  den: Operande | Calcul | string\n  constructor(\n    num: Operande | Calcul | string,\n    den: Operande | Calcul | string,\n  ) {\n    super()\n    this.type = 'frac'\n    this.num = num\n    this.den = den\n  }\n\n  get step(): string {\n    if (\n      this.num instanceof ExponentialOperande &&\n      this.den instanceof ExponentialOperande\n    ) {\n      return `${handle1(this.num.k / this.den.k)}e^{${this.num.polynome.toString()} - ${needParentheses(this.den.polynome.toString())}}`\n    }\n    return ''\n  }\n\n  get result() {\n    if (\n      this.num instanceof ExponentialOperande &&\n      this.den instanceof ExponentialOperande\n    ) {\n      return new ExponentialOperande({\n        polynome: this.num.polynome.sub(this.den.polynome),\n        k: this.num.k / this.den.k,\n      })\n    }\n    return this\n  }\n\n  get string(): string {\n    return `\\\\dfrac{${this.num.toString()}}{${this.den.toString()}}`\n  }\n}\n\n/**\n * Puissance d'un opérande ou d'un calcul\n */\nexport class Pow extends Calcul {\n  type: 'pow'\n  operande: Operande | Calcul | string\n  exp: number\n  constructor(operande: Operande | Calcul, exp: number) {\n    super()\n    this.type = 'pow'\n    this.operande = operande\n    this.exp = exp\n  }\n\n  get string(): string {\n    return `${this.operande.toString({ parentheses: true })}^{${this.exp.toString()}}`\n  }\n\n  get step(): string {\n    if (this.operande instanceof ExponentialOperande) {\n      if (this.exp === 0 || this.operande.k === 0) {\n        return ''\n      }\n      const kString = handle1(this.operande.k ** this.exp)\n      return `${kString}e^{${needParentheses(this.operande.polynome.toString())} \\\\times ${needParentheses(this.exp)}}`\n    }\n    return ''\n  }\n\n  get result() {\n    if (this.operande instanceof ExponentialOperande) {\n      return new ExponentialOperande({\n        polynome: this.operande.polynome.mul(this.exp),\n        k: this.operande.k ** this.exp,\n      })\n    }\n    return this\n  }\n}\n\n/*\n * Quand mettre des parenthèses ?\n *\n * Pour une addition ou une soustraction :\n *   - Jamais pour l'opérande 1\n *   - Pour l'opérande 2 si c'est une addition, une soustraction ou un nombre négatif ou un positif avec le signe devant\n *\n * Pour une multiplication :\n *  - Pour l'opérande 1 si c'est une addition ou une soustraction\n *  - Pour l'opérande 2 si c'est une addition, une soustraction ou un nombre négatif ou un positif avec le signe devant\n *\n * */\n\nfunction handle1(k: number) {\n  if (k === 1) {\n    return ''\n  }\n  if (k === -1) {\n    return '-'\n  }\n  return String(k)\n}\n\nfunction needParentheses(expression: string | Operande | Calcul | number) {\n  const string = expression.toString()\n  if (string.includes('+') || string.includes('-')) {\n    return `(${string})`\n  }\n  return string\n}\n","import Exercice from '../Exercice'\nimport { choice } from '../../lib/outils/arrayOutils'\nimport {\n  gestionnaireFormulaireTexte,\n  listeQuestionsToContenu,\n  randint,\n} from '../../modules/outils'\nimport Trinome from '../../modules/Trinome'\nimport {\n  Add,\n  ExponentialOperande,\n  Frac,\n  Mul,\n  Pow,\n  Sub,\n} from '../../lib/mathFonctions/Calcul'\nimport { lettreDepuisChiffre } from '../../lib/outils/outilString'\nimport { ajouteChampTexteMathLive } from '../../lib/interactif/questionMathLive'\nimport { KeyboardType } from '../../lib/interactif/claviers/keyboard'\nimport { handleAnswers } from '../../lib/interactif/gestionInteractif'\nexport const titre = 'Simplifier des expressions exponentielles'\n\nexport const dateDePublication = '2/7/2024'\nexport const interactifReady = true\nexport const interactifType = 'mathlive'\nexport const uuid = '9325e'\nexport const refs = {\n  'fr-fr': ['1AN30-2'],\n  'fr-ch': [],\n}\n\n/**\n *\n * @author Rémi Angot\n\n*/\nexport default class SimplifierExponentielles extends Exercice {\n  can: boolean\n  constructor() {\n    super()\n    this.can = false\n    this.consigne = 'Simplifier les expressions suivantes.'\n    this.nbQuestions = 7\n    this.spacing = 2\n    this.spacingCorr = 3\n    this.sup = 1\n    this.sup2 = 8\n    this.besoinFormulaireNumerique = [\n      'Niveaux de difficulté',\n      3,\n      '1 : Exposants entiers\\n2 : Exposants de la forme ax\\n3 : Exposants de la forme ax + b',\n    ]\n    this.besoinFormulaire2Texte = [\n      'Types de calculs',\n      'Nombres séparés par des tirets : \\n1 : Produit\\n2 : Puissance\\n3 : Produit et puisances\\n4 : Distributivité simple\\n5 : Différence de puissance et de produit \\n6 : Fraction et puissance\\n7 : Fraction et produit\\n8 : Mélange',\n    ]\n    this.comment =\n      '7 types de calculs différents. Le résultat peut être une exponentielle ou une somme de deux exponentiels'\n    this.listeAvecNumerotation = false\n  }\n\n  nouvelleVersion() {\n    const listeTypeQuestions = gestionnaireFormulaireTexte({\n      saisie: this.sup2,\n      min: 1,\n      max: 7,\n      defaut: 1,\n      melange: 8,\n      nbQuestions: this.nbQuestions,\n      listeOfCase: [\n        'mul',\n        'pow',\n        'powTimesPow',\n        'k(a+b)',\n        '(e^mx)p - e^nx * e^ox',\n        'fracPowNum',\n        'fracMulNum',\n      ],\n    })\n    if (this.sup >= 2) {\n      this.consigne = 'Soit $x$ un réel. Simplifier les expressions suivantes :'\n    }\n    for (let i = 0, cpt = 0; i < this.nbQuestions && cpt < 50; ) {\n      let texte = ''\n      let texteCorr = ''\n      let answer = ''\n      let p1 = new Trinome(0, 0, randint(-5, 5, [0, 1]))\n      let p2 = new Trinome(0, 0, randint(-5, 5, [0, 1]))\n      let p3 = new Trinome(0, 0, randint(-5, 5, [0, 1]))\n      if (this.sup === 2) {\n        p1 = new Trinome(0, randint(-5, 5, [0]), 0)\n        p2 = new Trinome(0, randint(-5, 5, [0]), 0)\n        p3 = new Trinome(0, randint(-5, 5, [0]), 0)\n      } else if (this.sup === 3) {\n        p1 = new Trinome(0, randint(-5, 5, [0]), randint(-5, 5, [0]))\n        p2 = new Trinome(0, randint(-5, 5, [0]), randint(-5, 5, [0]))\n        p3 = new Trinome(0, randint(-5, 5, [0]), randint(-5, 5, [0]))\n      }\n      const e1 = new ExponentialOperande({ polynome: p1 })\n      const e2 = new ExponentialOperande({ polynome: p2 })\n      const e3 = new ExponentialOperande({ polynome: p3 })\n      switch (listeTypeQuestions[i]) {\n        case 'mul': {\n          const calcul = new Mul(e1, e2)\n          texte = `$${lettreDepuisChiffre(i + 1)} = ${calcul.toString()}$`\n          if (calcul.step !== '') {\n            texteCorr = `$${lettreDepuisChiffre(i + 1)} = ${calcul.step}$<br>`\n          }\n          texteCorr += `$${lettreDepuisChiffre(i + 1)} = ${calcul.result}$`\n          answer = calcul.result.toString()\n          break\n        }\n        case 'pow': {\n          const calcul = new Pow(e1, randint(2, 4))\n          texte = `$${lettreDepuisChiffre(i + 1)} = ${calcul.toString()}$`\n          texteCorr = ''\n          if (calcul.step !== '') {\n            texteCorr += `$${lettreDepuisChiffre(i + 1)} = ${calcul.step}$<br>`\n          }\n          texteCorr += `$${lettreDepuisChiffre(i + 1)} = ${calcul.result}$`\n          answer = calcul.result.toString()\n          break\n        }\n        case 'powTimesPow': {\n          const facteur1 = new Pow(e1, randint(2, 4))\n          const facteur2 = new Pow(e2, randint(2, 4))\n          const calcul = new Mul(facteur1, facteur2)\n          const calculStep = new Mul(facteur1.result, facteur2.result)\n          texte = `$${lettreDepuisChiffre(i + 1)} = ${calcul.toString()}$`\n          texteCorr += `$${lettreDepuisChiffre(i + 1)} = ${new Mul(facteur1.step, facteur2.step)}$`\n          texteCorr += `<br>$${lettreDepuisChiffre(i + 1)} = ${calculStep}$`\n          texteCorr += `<br>$${lettreDepuisChiffre(i + 1)} = ${calculStep.step}$`\n          texteCorr += `<br>$${lettreDepuisChiffre(i + 1)} = ${calculStep.result}$`\n          answer = calculStep.result.toString()\n          break\n        }\n        case 'k(a+b)': {\n          const calcul = new Mul(e1, new Add(e2, e3))\n          texte = `$${lettreDepuisChiffre(i + 1)} = ${calcul.toString()}$`\n          texteCorr = `$${lettreDepuisChiffre(i + 1)} = `\n          const mul1 = new Mul(e1, e2)\n          const mul2 = new Mul(e1, e3)\n          const add = new Add(mul1, mul2)\n          texteCorr += `${add.toString()}$`\n          const mul1Step = mul1.step\n          const mul2Step = mul2.step\n          const add2 = new Add(mul1Step, mul2Step)\n          texteCorr += `<br> $${lettreDepuisChiffre(i + 1)} = ${add2}$`\n          const add3 = new Add(mul1.result, mul2.result)\n          texteCorr += `<br> $${lettreDepuisChiffre(i + 1)}= ${add3}$`\n          if (add3.result.toString() !== add3.toString()) {\n            texteCorr += `<br> $${lettreDepuisChiffre(i + 1)}= ${add3.result}$`\n          }\n          answer = add3.result.toString()\n\n          break\n        }\n        case '(e^mx)p - e^nx * e^ox': {\n          const [m, p, n, o] = choice([\n            productEqualSum(),\n            [randint(2, 5), randint(2, 5), randint(2, 5), randint(2, 5)],\n          ])\n          let p1 = new Trinome(0, 0, m)\n          let p2 = new Trinome(0, 0, n)\n          let p3 = new Trinome(0, 0, o)\n          if (this.sup > 1) {\n            p1 = new Trinome(0, m, 0)\n            p2 = new Trinome(0, n, 0)\n            p3 = new Trinome(0, o, 0)\n          }\n          const e1 = new ExponentialOperande({ polynome: p1 })\n          const e2 = new ExponentialOperande({ polynome: p2 })\n          const e3 = new ExponentialOperande({ polynome: p3 })\n          const terme1 = new Pow(e1, p)\n          const terme2 = new Mul(e2, e3)\n          const calcul = new Sub(terme1, terme2)\n          const result = new Sub(terme1.result, terme2.result)\n          texte = `$${lettreDepuisChiffre(i + 1)} = ${calcul.toString()}$`\n          texteCorr = `$${lettreDepuisChiffre(i + 1)} = ${terme1.step} - ${terme2.step}$`\n          texteCorr += `<br>$${lettreDepuisChiffre(i + 1)} = ${result}$`\n          if (String(result) !== String(result.result)) {\n            texteCorr += `<br> $${lettreDepuisChiffre(i + 1)} = ${result.result}$`\n          }\n          answer = result.result.toString()\n          break\n        }\n        case 'fracPowNum': {\n          const n = randint(2, 4)\n          const num = new Pow(e1, n)\n          const den = e2\n          const calcul = new Frac(num, den)\n          texte = `$${lettreDepuisChiffre(i + 1)} = ${calcul}$`\n          const numStep = new Frac(num.step, den)\n          texteCorr = `$${lettreDepuisChiffre(i + 1)} = ${numStep}$`\n          const calcul2 = new Frac(num.result, den)\n          texteCorr += `<br>$${lettreDepuisChiffre(i + 1)} = ${calcul2}$`\n          texteCorr += `<br>$${lettreDepuisChiffre(i + 1)} = ${calcul2.step}$`\n          texteCorr += `<br>$${lettreDepuisChiffre(i + 1)} = ${calcul2.result}$`\n          answer = calcul2.result.toString()\n          break\n        }\n        case 'fracMulNum': {\n          const num = new Mul(e1, e2)\n          const den = e3\n          const calcul = new Frac(num, den)\n          texte = `$${lettreDepuisChiffre(i + 1)} = ${calcul}$`\n          const numStep = new Frac(num.step, den)\n          texteCorr = `$${lettreDepuisChiffre(i + 1)} = ${numStep}$`\n          const calcul2 = new Frac(num.result, den)\n          texteCorr += `<br>$${lettreDepuisChiffre(i + 1)} = ${calcul2}$`\n          texteCorr += `<br>$${lettreDepuisChiffre(i + 1)} = ${calcul2.step}$`\n          texteCorr += `<br>$${lettreDepuisChiffre(i + 1)} = ${calcul2.result}$`\n          answer = calcul2.result.toString()\n          break\n        }\n      }\n      if (this.can) {\n        texte = \"Simplifier l'expression :<br>\" + texte\n      }\n      if (this.interactif) {\n        texte +=\n          `<br><br> $${lettreDepuisChiffre(i + 1)} = $` +\n          ajouteChampTexteMathLive(this, i, KeyboardType.lycee)\n        handleAnswers(this, i, { reponse: { value: answer } })\n      }\n      if (this.questionJamaisPosee(i, texte)) {\n        // <- laisser le i et ajouter toutes les variables qui rendent les exercices différents (par exemple a, b, c et d)\n        this.listeQuestions[i] = texte\n        this.listeCorrections[i] = texteCorr\n        i++\n      }\n      cpt++\n    }\n    listeQuestionsToContenu(this)\n  }\n}\n\n/**\n * @returns [a, b, c, d] avec a * b = c + d\n */\nfunction productEqualSum() {\n  // return [a, b, c, d] avec\n  // a * b = c + d\n  return choice([\n    [2, 3, 4, 2],\n    [2, 3, 5, 1],\n    [2, 3, 3, 3],\n    [2, 4, 1, 7],\n    [2, 4, 2, 6],\n    [2, 4, 3, 5],\n    [2, 4, 4, 4],\n    [3, 3, 1, 8],\n    [3, 3, 2, 7],\n    [3, 3, 3, 6],\n    [3, 3, 4, 5],\n  ])\n}\n"],"names":["Operande","value","__publicField","parentheses","ExponentialOperande","polynome","k","handle1","Calcul","Add","operande1","operande2","Sub","Mul","needParentheses","operande1HasParentheses","operande2HasParentheses","Frac","num","den","Pow","operande","exp","expression","string","titre","dateDePublication","interactifReady","interactifType","uuid","refs","SimplifierExponentielles","Exercice","listeTypeQuestions","gestionnaireFormulaireTexte","i","cpt","texte","texteCorr","answer","p1","Trinome","randint","p2","p3","e1","e2","e3","calcul","lettreDepuisChiffre","facteur1","facteur2","calculStep","mul1","mul2","add","mul1Step","mul2Step","add2","add3","m","p","n","o","choice","productEqualSum","terme1","terme2","result","numStep","calcul2","ajouteChampTexteMathLive","KeyboardType","handleAnswers","listeQuestionsToContenu"],"mappings":"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"}
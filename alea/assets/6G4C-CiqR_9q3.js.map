{"version":3,"file":"6G4C-CiqR_9q3.js","sources":["../../src/exercices/6e/6G4C.ts"],"sourcesContent":["import { cibleCouronne } from '../../lib/2d/cibles'\nimport { afficheMesureAngle } from '../../lib/2d/codages'\nimport { point } from '../../lib/2d/points'\nimport { segment } from '../../lib/2d/segmentsVecteurs'\nimport { texteParPoint } from '../../lib/2d/textes'\nimport {\n  homothetie,\n  rotation,\n  sensDeRotation,\n  similitude,\n} from '../../lib/2d/transformations'\nimport { combinaisonListes } from '../../lib/outils/arrayOutils'\nimport { lettreDepuisChiffre } from '../../lib/outils/outilString'\nimport { texNombre } from '../../lib/outils/texNombre'\nimport Exercice from '../Exercice'\nimport { fixeBordures, mathalea2d } from '../../modules/2dGeneralites'\nimport { context } from '../../modules/context'\nimport { listeQuestionsToContenu, randint } from '../../modules/outils'\n\nexport const titre = 'Construire un angle de mesure donnée'\nexport const amcReady = true\nexport const amcType = 'AMCOpen'\n\n/**\n * Construire un angle\n * @author Jean-Claude Lhote\n */\nexport const uuid = '34e3c'\n\nexport const refs = {\n  'fr-fr': ['6G4C'],\n  'fr-2016': ['6G23'],\n  'fr-ch': ['9ES5-3'],\n}\nexport default class ConstruireUnAngle extends Exercice {\n  constructor() {\n    super()\n    this.nbQuestions = 2\n    this.besoinFormulaireNumerique = [\n      \"Précision de l'angle\",\n      4,\n      '1 : Angle à 10°\\n2 : Angle à 5°\\n3 : Angle à 1°\\n4 : Mélange',\n    ]\n\n    this.sup = 1\n    this.video = 'cU80v1p6mMI'\n  }\n\n  nouvelleVersion() {\n    let typeDeQuestions\n    if (this.sup < 4) typeDeQuestions = [this.sup]\n    else typeDeQuestions = [1, 2, 3]\n    const listeTypeDeQuestion = combinaisonListes(\n      typeDeQuestions,\n      this.nbQuestions,\n    )\n    let angle = 0\n    let anglerot\n    let Apos\n    let Bpos\n    let Cpos\n    let fleche\n    const signe = []\n    let p\n    let texte\n    let texteCorr\n    let A\n    let B\n    let s\n    let C\n    let s2\n    let secteur, cible, xMin, xMax, yMin, yMax, objetsEnonce, objetsCorrection\n    signe[0] = randint(-1, 1, 0)\n    for (let i = 1; i < this.nbQuestions; i++) {\n      signe.push(-1 * signe[i - 1])\n    }\n    for (let i = 0, cpt = 0; i < this.nbQuestions && cpt < 50; ) {\n      switch (listeTypeDeQuestion[i]) {\n        case 1:\n          angle = randint(1, 17, 9) * 10\n          break\n        case 2:\n          angle = randint(1, 8) * 10 + randint(0, 1) * 90 + 5\n          break\n        case 3:\n          angle = randint(1, 16) * 10 + randint(1, 9)\n          break\n      }\n      angle = angle * signe[i]\n      anglerot = randint(-50, 50)\n      p = ['x', lettreDepuisChiffre(19 + i), 'y']\n      texte = `Construire l'angle $\\\\widehat{${p[0] + p[1] + p[2]}}$ de mesure $${texNombre(Math.abs(angle))}^\\\\circ$ en tournant dans le sens `\n      if (angle < 0) {\n        texte += \"des aiguilles d'une montre.<br>\"\n      } else {\n        texte += \"inverse des aiguilles d'une montre.<br>\"\n      }\n      A = point(0, 0)\n      B = point(5, 0)\n      B = rotation(B, A, anglerot)\n      Apos = texteParPoint(\n        p[1],\n        similitude(B, A, -90, 0.1),\n        0,\n        'black',\n        1,\n        'milieu',\n        true,\n      )\n      Bpos = texteParPoint(\n        p[0],\n        similitude(A, homothetie(B, A, 0.9), signe[i] * 90, 0.1),\n        0,\n        'black',\n        1,\n        'milieu',\n        true,\n      )\n\n      s = segment(A, B)\n      s.styleExtremites = '|-'\n      s.epaisseur = 2\n      s.tailleExtremites = 1.5\n      C = rotation(B, A, angle)\n      Cpos = texteParPoint(\n        p[2],\n        similitude(A, homothetie(C, A, 0.9), -signe[i] * 90, 0.1),\n        0,\n        'black',\n        1,\n        'milieu',\n        true,\n      )\n      fleche = sensDeRotation(B, A, signe[i])\n      s2 = segment(A, C)\n      s2.styleExtremites = '|-'\n      s2.tailleExtremites = 1.5\n      secteur = afficheMesureAngle(B, A, C)\n      texteCorr = ''\n      cible = cibleCouronne({ x: 0, y: 0, taille: 3 })\n      xMin = Math.min(A.x - 4, C.x)\n      xMax = Math.max(B.x, C.x) + 0.5\n      yMin = Math.min(A.y - 4, C.y) - 0.5\n      yMax = Math.max(A.y + 4, C.y) + 0.5\n      context.fenetreMathalea2d = [xMin, yMin, xMax, yMax]\n      objetsEnonce = [s, cible, Apos, Bpos, fleche]\n      const bordure = fixeBordures(objetsEnonce, { rxmax: 1.5 })\n      objetsCorrection = [s, secteur, cible, s2, Apos, Bpos, Cpos, fleche]\n      texte += mathalea2d(\n        Object.assign({}, bordure, { pixelsParCm: 20, scale: 0.65 }),\n        objetsEnonce,\n      )\n      // if ((!context.isHtml) && ((i + 1) % 2 === 0 && !(i + 1) % 4 === 0)) texte += '\\\\columnbreak '\n      if (!context.isHtml && (i + 1) % 4 === 0) texte += '\\\\newpage '\n      texteCorr = mathalea2d(\n        Object.assign({}, fixeBordures(objetsCorrection), {\n          pixelsParCm: 20,\n          scale: 0.6,\n        }),\n        objetsCorrection,\n      )\n      if (this.questionJamaisPosee(i, angle, signe[i])) {\n        this.listeQuestions[i] = texte\n        this.listeCorrections[i] = texteCorr\n\n        if (context.isAmc) {\n          this.autoCorrection[i] = {\n            enonce: texte,\n            propositions: [\n              {\n                texte: texteCorr,\n                statut: 0,\n                sanscadre: true,\n              },\n            ],\n          }\n        }\n        i++\n      }\n      cpt++\n    }\n    listeQuestionsToContenu(this)\n  }\n}\n"],"names":["titre","amcReady","amcType","uuid","refs","ConstruireUnAngle","Exercice","typeDeQuestions","listeTypeDeQuestion","combinaisonListes","angle","anglerot","Apos","Bpos","Cpos","fleche","signe","p","texte","texteCorr","A","B","s","C","s2","secteur","cible","xMin","xMax","yMin","yMax","objetsEnonce","objetsCorrection","randint","i","cpt","lettreDepuisChiffre","texNombre","point","rotation","texteParPoint","similitude","homothetie","segment","sensDeRotation","afficheMesureAngle","cibleCouronne","context","bordure","fixeBordures","mathalea2d","listeQuestionsToContenu"],"mappings":"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"}
{"version":3,"file":"OutilSpline-D28Mt0n7.js","sources":["../../src/exercicesInteractifs/OutilSpline.svelte"],"sourcesContent":["<script>\n  import HeaderExerciceVueProf from '../components/shared/exercice/shared/headerExerciceVueProf/HeaderExerciceVueProf.svelte'\n  import { repere } from '../lib/2d/reperes'\n  import { spline, trieNoeuds } from '../lib/mathFonctions/Spline'\n  import { fixeBordures, mathalea2d } from '../modules/2dGeneralites'\n\n  export const titre = 'Interpolation par splines (avec formulaire)'\n\n  export const refs = {\n    'fr-fr': ['P022'],\n    'fr-ch': [],\n  }\n  export const uuid = 'spline'\n\n  export let indiceExercice\n  export let indiceLastExercice\n  const headerExerciceProps = {\n    title: '',\n    isInteractif: false,\n    settingsReady: false,\n    interactifReady: false,\n    randomReady: false,\n    correctionReady: false,\n  }\n  let noeuds = [\n    { x: -3, y: -2, deriveeGauche: 2, deriveeDroit: 2, isVisible: true },\n    { x: -1, y: 0, deriveeGauche: 0, deriveeDroit: 0, isVisible: true },\n    { x: 1, y: -3, deriveeGauche: 0, deriveeDroit: 0, isVisible: true },\n    { x: 3, y: 4, deriveeGauche: 1, deriveeDroit: 1, isVisible: true },\n  ]\n\n  let contenu = ''\n\n  function refreshCourb() {\n    if (trieNoeuds(noeuds)) {\n      const f = spline(noeuds)\n      const { xMin, xMax, yMin, yMax } = f.trouveMaxes()\n      const r = repere({ xMin, xMax, yMin, yMax })\n      const c = f.courbe({ repere: r, ajouteNoeuds: true })\n      const objets = [r, c]\n      contenu = mathalea2d(Object.assign({}, fixeBordures(objets)), objets)\n    }\n  }\n\n  function removeNoeud() {\n    if (noeuds.length < 4) return\n    noeuds.pop()\n    noeuds = noeuds\n    refreshCourb()\n  }\n\n  function addNoeud() {\n    noeuds.push({\n      x: noeuds.at(-1).x + 1,\n      y: noeuds.at(-1).y,\n      deriveeGauche: 0,\n      deriveeDroit: 0,\n      isVisible: true,\n    })\n    noeuds = noeuds\n    refreshCourb()\n  }\n\n  function copy() {\n    noeuds = noeuds\n    navigator.clipboard.writeText(JSON.stringify(noeuds))\n    alert('Noeuds copiés dans le presse-papier')\n  }\n\n  async function paste() {\n    const jsonNoeuds = (await navigator.clipboard.readText())\n      .replaceAll('x', '\"x\"')\n      .replaceAll('y', '\"y\"')\n      .replaceAll('deriveeGauche', '\"deriveeGauche\"')\n      .replaceAll('deriveeDroit', '\"deriveeDroit\"')\n      .replaceAll('isVisible', '\"isVisible\"')\n    try {\n      noeuds = JSON.parse(jsonNoeuds)\n      alert('Presse-papier importé')\n    } catch (e) {\n      console.error(e.message)\n    }\n  }\n\n  refreshCourb()\n</script>\n\n<HeaderExerciceVueProf\n  {indiceExercice}\n  {indiceLastExercice}\n  id=\"spline\"\n  {...headerExerciceProps}\n/>\n\n<section>\n  <div class=\"grid grid-cols-2 gap-4\">\n    <div>\n      <!-- eslint-disable-next-line svelte/no-at-html-tags -->\n      {@html contenu}\n    </div>\n    <div class=\"my-10 grid grid-cols-5 gap-4 text-center\">\n      <div>x</div>\n      <div>y</div>\n      <div>Dérivée à gauche</div>\n      <div>Dérivée à droite</div>\n      <div class=\"text-left\">Visible ?</div>\n      {#each noeuds as { x, y, deriveeGauche, deriveeDroit, isVisible }}\n        <input\n          type=\"number\"\n          bind:value=\"{x}\"\n          min=\"{-10}\"\n          max=\"{10}\"\n          step=\"{0.1}\"\n          on:change=\"{refreshCourb}\"\n        />\n        <input\n          type=\"number\"\n          bind:value=\"{y}\"\n          min=\"{-10}\"\n          max=\"{10}\"\n          step=\"{0.1}\"\n          on:change=\"{refreshCourb}\"\n        />\n        <input\n          type=\"number\"\n          bind:value=\"{deriveeGauche}\"\n          min=\"{-10}\"\n          max=\"{10}\"\n          step=\"{0.1}\"\n          on:change=\"{refreshCourb}\"\n        />\n        <input\n          type=\"number\"\n          bind:value=\"{deriveeDroit}\"\n          min=\"{-10}\"\n          max=\"{10}\"\n          step=\"{0.1}\"\n          on:change=\"{refreshCourb}\"\n        />\n        <input\n          type=\"checkbox\"\n          bind:checked=\"{isVisible}\"\n          on:change=\"{refreshCourb}\"\n        />\n      {/each}\n      <button on:click=\"{removeNoeud}\"\n        ><i class=\"bx bx-lg bx-minus-circle\"></i></button\n      >\n      <button on:click=\"{addNoeud}\"\n        ><i class=\"bx bx-lg bx-plus-circle\"></i></button\n      >\n      <button on:click=\"{copy}\"><i class=\"bx bx-lg bx-clipboard\"></i></button>\n      <button on:click=\"{paste}\"><i class=\"bx bx-lg bx-download\"></i></button>\n    </div>\n  </div>\n</section>\n"],"names":["insert","target","input0","anchor","ctx","input1","input2","input3","input4","i","section","append","div7","div0","div6","div1","div2","div3","div4","div5","button0","button1","button2","button3","titre","refs","uuid","indiceExercice","$$props","indiceLastExercice","headerExerciceProps","noeuds","contenu","refreshCourb","trieNoeuds","f","spline","xMin","xMax","yMin","yMax","r","repere","c","objets","mathalea2d","fixeBordures","removeNoeud","addNoeud","copy","paste","jsonNoeuds","$$invalidate","e"],"mappings":"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"}
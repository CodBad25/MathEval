{"version":3,"file":"5G11-10-CZwBA3BQ.js","sources":["../../src/exercices/5e/5G11-10.ts"],"sourcesContent":["import Figure from 'apigeom'\nimport { rotationCoord } from 'apigeom/src/elements/calculus/Coords'\nimport type PointApigeom from 'apigeom/src/elements/points/Point'\nimport { cercleCentrePoint } from '../../lib/2d/cercle'\nimport { codageMilieu } from '../../lib/2d/codages'\nimport { point, Point, TracePoint } from '../../lib/2d/points'\nimport { grille } from '../../lib/2d/reperes'\nimport { demiDroite } from '../../lib/2d/segmentsVecteurs'\nimport { labelPoint } from '../../lib/2d/textes'\nimport { rotation } from '../../lib/2d/transformations'\nimport figureApigeom from '../../lib/figureApigeom'\nimport { choisitLettresDifferentes } from '../../lib/outils/aleatoires'\nimport { shuffle } from '../../lib/outils/arrayOutils'\nimport {\n  colorToLatexOrHTML,\n  fixeBordures,\n  mathalea2d,\n  type NestedObjetMathalea2dArray,\n} from '../../modules/2dGeneralites'\nimport { context } from '../../modules/context'\nimport { contraindreValeur, egal, randint } from '../../modules/outils'\nimport Exercice from '../Exercice'\n\nexport const titre =\n  'Construire des symétriques de points par rapport à un point'\nexport const dateDePublication = '27/09/2024'\nexport const interactifReady = true\nexport const interactifType = 'custom'\n\nexport const uuid = '67c96'\nexport const refs = {\n  'fr-fr': ['5G11-10'],\n  'fr-ch': ['9ES6-27', '10ES2-14'],\n}\n\n/**\n * Fonction pour positionner le label\n * @param pointA\n * @param pointB\n */\nfunction positionneLabel(pointA: Point, pointB: Point) {\n  if (pointA.x < pointB.x) return 'above left'\n  else if (pointA.x > pointB.x) return 'below right'\n  else {\n    if (pointA.y > pointB.y) return 'above left'\n    else return 'below right'\n  }\n}\n\n/**\n * fonction pour verifier qu'on est dans le cadre\n * @param points\n */\nfunction checkDistance(points: { x: number; y: number }[]) {\n  for (const point of points) {\n    if (point.y < -8 || point.y > 8) {\n      return false\n    }\n  }\n  return true\n}\n\n/**\n * Construction interactive de symétriques de points\n * @author Jean-Claude Lhote\n */\nclass ConstrctionsSymetrieCentralePoints extends Exercice {\n  antecedents!: object[][]\n  labels!: string[][]\n  centres!: Point[] | PointApigeom[]\n  exoCustomResultat: boolean\n  nbPoints!: number\n  figuresApiGeom!: Figure[]\n  constructor() {\n    super()\n    this.exoCustomResultat = true\n    this.nbQuestions = 1\n\n    this.besoinFormulaireNumerique = [\n      \"Type d'aide\",\n      4,\n      'Quadrillages\\nDemi-droites en pointillés\\nMarques de compas\\nAucune',\n    ]\n    this.besoinFormulaire2Numerique = [\n      'Nombre de points à construire (5 maxi)',\n      5,\n    ]\n    this.sup = 1\n    this.sup2 = 3\n  }\n\n  nouvelleVersion() {\n    const marks: string[] = ['//', '///', 'x', 'O', '|||']\n    const colors: string[] = context.isHtml\n      ? ['red', 'green', 'purple', 'blue', 'gray']\n      : ['gray', 'gray', 'gray', 'gray', 'gray']\n    this.answers = {}\n\n    this.figuresApiGeom = []\n    this.nbPoints = contraindreValeur(1, 5, this.sup2, 3) // on veut entre 1 et 5 points à construire\n    this.antecedents = []\n    this.labels = []\n    this.centres = []\n    for (let i = 0, cpt = 0; i < this.nbQuestions && cpt < 20; ) {\n      let enonce = ''\n      // Ici on fait une figure Mathalea2d, pas apiGeom. On est en mode non interactif pour l'instant\n      let antecedents: Array<Point> = []\n      const symetriques: Point[] = []\n      const objets: NestedObjetMathalea2dArray = []\n      let objetsCorrection: NestedObjetMathalea2dArray = []\n\n      objets.length = 0\n      objetsCorrection.length = 0\n      symetriques.length = 0\n      antecedents.length = 0\n      let nuage: { x: number; y: number }[] = []\n      // On construit les points\n      do {\n        nuage = []\n        for (let x = -8; x < 8; x += 1) {\n          if (x !== 0) nuage.push({ y: (randint(2, 8) + 1) * (-1) ** x, x })\n        }\n        nuage = shuffle(nuage)\n        nuage = nuage.slice(0, this.nbPoints)\n      } while (!checkDistance(nuage))\n\n      this.labels[i] = Array.from(\n        choisitLettresDifferentes(nuage.length, 'Q', true),\n      )\n      const labelCentre = choisitLettresDifferentes(\n        1,\n        this.labels[i].join('') + 'Q',\n        true,\n      )[0]\n\n      // Les antécédents sont des points nommés\n      antecedents = shuffle(nuage).map((el, k) =>\n        point(el.x, el.y, this.labels[i][k]),\n      ) // on mélange et on ne prendra que les this.nbPoints premiers\n      this.centres[i] = point(0, 0, labelCentre, 'above')\n\n      const guideDroites = []\n      for (let k = 0; k < this.nbPoints; k++) {\n        const guide = demiDroite(antecedents[k], this.centres[i] as Point)\n        guide.pointilles = 2\n        guide.color = colorToLatexOrHTML(colors[k])\n        guide.opacite = 0.8\n        guideDroites.push(guide)\n      }\n      enonce =\n        `${this.sup === 1 ? 'Placer' : 'Construire'} le${this.nbPoints > 1 ? 's' : ''} symétrique${this.nbPoints > 1 ? 's' : ''} $${this.nbPoints > 1 ? this.labels[i].slice(0, this.nbPoints - 1).join(\"',\") + \"'\" : this.labels[i][0] + \"' \"}$` +\n        (this.nbPoints > 1\n          ? ` et $${this.labels[i][this.nbPoints - 1] + \"'\"}$`\n          : '') +\n        (this.nbPoints > 1 ? ' respectifs ' : '')\n      enonce +=\n        `${this.nbPoints > 1 ? ' des' : ' du'} point${this.nbPoints > 1 ? 's' : ''} $${this.nbPoints > 1 ? this.labels[i].slice(0, this.nbPoints - 1).join(',') : this.labels[i][0] + `$ par rapport au point $${labelCentre}$.`}$` +\n        (this.nbPoints > 1\n          ? ` et $${this.labels[i][this.nbPoints - 1]}$ par rapport au point $${labelCentre}$.<br>`\n          : '<br>')\n      const guidesArc = []\n      for (let k = 0; k < this.nbPoints; k++) {\n        symetriques[k] = rotation(\n          antecedents[k] as Point,\n          this.centres[i] as Point,\n          180,\n        )\n        /*  const angleOffset = choice([-12, -10, -8, 8, 10, 12])\n          const ext1 = rotation(symetriques[k], middle[k], 3 * angleOffset)\n          const ext2 = rotation(symetriques[k], middle[k], -angleOffset)\n         */\n        const guide = cercleCentrePoint(\n          this.centres[i] as Point,\n          antecedents[k],\n          colors[k],\n        )\n        guide.pointilles = 2\n        guide.opacite = 0.8\n        guidesArc.push(guide)\n      }\n      if (this.sup === 1) {\n        objets.push(grille(-8, -8, 8, 8, 'gray', 0.5, 1, 0))\n      } else if (this.sup === 2) {\n        enonce += `Les demi-droites tracées en pointillés passent par $${labelCentre}$.<br>`\n        objets.push(...guideDroites)\n      } else if (this.sup === 3) {\n        enonce += `Les cercles tracés en pointillés sont centrés en $${labelCentre}$.<br>`\n        objets.push(...guidesArc)\n      }\n      objets.push(\n        new TracePoint(this.centres[i] as Point),\n        labelPoint(this.centres[i] as Point),\n      )\n      objetsCorrection.push(\n        new TracePoint(this.centres[i] as Point),\n        labelPoint(this.centres[i] as Point),\n      )\n      for (let k = 0; k < this.nbPoints; k++) {\n        objets.push(new TracePoint(antecedents[k]))\n        const sym = rotation(\n          antecedents[k] as Point,\n          this.centres[i] as Point,\n          180,\n          (antecedents[k] as Point).nom + \"'\",\n        )\n        sym.positionLabel = positionneLabel(sym, antecedents[k])\n        antecedents[k].positionLabel = positionneLabel(antecedents[k], sym)\n        const egalite = codageMilieu(antecedents[k], sym, colors[k], marks[k])\n        const trace: TracePoint = new TracePoint(sym)\n        trace.color = colorToLatexOrHTML('red')\n        const labelSym = labelPoint(sym)\n        const label = labelPoint(antecedents[k])\n        objets.push(label)\n        objetsCorrection.push(trace, labelSym, egalite)\n      }\n      objetsCorrection = [...objets, ...objetsCorrection, ...guideDroites]\n      if (this.sup2 === 2) {\n        guideDroites.forEach((guide) => {\n          guide.epaisseur = 1\n          guide.opacite = 0.8\n        })\n        objetsCorrection.push(...guideDroites)\n      }\n      if (this.sup2 === 3) {\n        guidesArc.forEach((guide) => {\n          guide.epaisseur = 1\n          guide.opacite = 0.8\n        })\n        objetsCorrection.push(...guidesArc)\n      }\n      const options = {}\n      if (this.sup === 1)\n        Object.assign(options, { snapGrid: true, dx: 1, dy: 1 })\n      if (this.questionJamaisPosee(i, labelCentre, this.labels.join())) {\n        if (context.isHtml && this.interactif) {\n          // On crée la figure avec apigeom pour l'interactif\n          this.figuresApiGeom[i] = new Figure(\n            Object.assign(options, {\n              xMin: -10,\n              yMin: -10,\n              width: 600,\n              height: 600,\n            }),\n          )\n          this.figuresApiGeom[i].scale = 1\n          this.figuresApiGeom[i].setToolbar({\n            tools: [\n              'NAME_POINT',\n              'POINT_ON',\n              'POINT_INTERSECTION',\n              'CIRCLE_CENTER_POINT',\n              'RAY',\n              'UNDO',\n              'REDO',\n              'REMOVE',\n            ],\n            position: 'top',\n          })\n          this.centres[i] = this.figuresApiGeom[i].create('Point', {\n            x: 0,\n            y: 0,\n            isVisible: true,\n            isSelectable: true,\n            label: labelCentre,\n          })\n          this.antecedents[i] = []\n          for (let k = 0; k < this.nbPoints; k++) {\n            ;(this.antecedents[i][k] as PointApigeom) = this.figuresApiGeom[\n              i\n            ].create('Point', {\n              x: antecedents[k].x,\n              y: antecedents[k].y,\n              isFree: false,\n              isSelectable: true,\n              label: antecedents[k].nom,\n            })\n          }\n          if (this.sup === 1) {\n            this.figuresApiGeom[i].create('Grid', {\n              xMin: -10,\n              yMin: -10,\n              xMax: 10,\n              yMax: 10,\n              stepX: 1,\n              stepY: 1,\n              color: 'gray',\n              axeX: false,\n              axeY: false,\n              labelX: false,\n              labelY: false,\n            })\n          }\n          if (this.sup === 2) {\n            for (let k = 0; k < this.nbPoints; k++) {\n              this.figuresApiGeom[i].create('Ray', {\n                point1: this.antecedents[i][k] as PointApigeom,\n                point2: this.centres[i] as PointApigeom,\n                isDashed: true,\n                color: 'gray',\n              })\n            }\n          }\n          if (this.sup === 3) {\n            for (let k = 0; k < this.nbPoints; k++) {\n              this.figuresApiGeom[i].create('CircleCenterPoint', {\n                center: this.figuresApiGeom[i].create('Point', {\n                  isVisible: false,\n                  x: this.centres[i].x,\n                  y: this.centres[i].y,\n                }),\n                point: this.antecedents[i][k] as PointApigeom,\n                isDashed: true,\n                color: 'gray',\n              })\n            }\n          }\n          this.figuresApiGeom[i].options.limitNumberOfElement.set('Point', 1)\n          const emplacementPourFigure = figureApigeom({\n            exercice: this,\n            i,\n            figure: this.figuresApiGeom[i],\n            defaultAction: 'NAME_POINT',\n          })\n          this.listeQuestions[i] = enonce + '<br><br>' + emplacementPourFigure\n        } else {\n          this.listeQuestions[i] =\n            enonce +\n            '<br><br>' +\n            mathalea2d(\n              Object.assign(\n                { scale: 0.5, pixelsParCm: 20 },\n                fixeBordures([...objets, ...objetsCorrection]),\n              ),\n              objets,\n            )\n        }\n        this.listeCorrections[i] = mathalea2d(\n          Object.assign(\n            { scale: 0.5, pixelsParCm: 20 },\n            fixeBordures(objetsCorrection),\n          ),\n          objetsCorrection,\n        )\n        i++\n      }\n      cpt++\n    }\n  }\n\n  correctionInteractive = (i: number) => {\n    if (this.answers === undefined) this.answers = {}\n    // Sauvegarde de la réponse pour Capytale\n    this.answers[this.figuresApiGeom[i].id] = this.figuresApiGeom[i].json\n    const resultat = []\n    const divFeedback = document.querySelector(\n      `#feedbackEx${this.numeroExercice}Q${i}`,\n    ) as HTMLDivElement\n    let feedback = ''\n\n    // on crée les bons symétriques :\n    for (let k = 0; k < this.nbPoints; k++) {\n      const { x, y } = rotationCoord(\n        this.antecedents[i][k] as PointApigeom,\n        this.centres[i] as PointApigeom,\n        180,\n      )\n      const elts = Array.from(this.figuresApiGeom[i].elements.values())\n      const points = elts.filter(\n        (e) =>\n          e.type !== 'pointer' &&\n          (e.type === 'Point' ||\n            e.type === 'PointOnLine' ||\n            e.type === 'PointOnCircle' ||\n            e.type === 'PointIntersectionLL' ||\n            e.type === 'PointIntersectionLC' ||\n            e.type === 'PointIntersectionCC'),\n      ) as PointApigeom[]\n      const matchPoint = points.find(\n        (p) => p.label === `${this.labels[i][k]}'`,\n      ) as PointApigeom\n      const sym = points.find(\n        (p) => egal(x, p.x, 0.001) && egal(y, p.y, 0.001),\n      ) as PointApigeom\n      if (matchPoint != null) {\n        if (egal(x, matchPoint.x, 0.001) && egal(y, matchPoint.y, 0.001)) {\n          matchPoint.color = 'green'\n          matchPoint.thickness = 2\n          matchPoint.colorLabel = 'green'\n          resultat.push('OK')\n        } else {\n          matchPoint.color = 'red'\n          matchPoint.thickness = 2\n          matchPoint.colorLabel = 'green'\n          feedback += `Il y a  bien un point nommé $${(this.antecedents[i][k] as PointApigeom).label}'$ mais ce n'est pas le symétrique de $${(this.antecedents[i][k] as PointApigeom).label}$ !<br>`\n          resultat.push('KO')\n        }\n      } else {\n        if (sym != null) {\n          sym.color = 'green'\n          sym.thickness = 2\n          sym.colorLabel = 'red'\n          feedback += `Le symétrique de $${(this.antecedents[i][k] as PointApigeom).label}$ est bien construit mais il n'est pas nommé $${(this.antecedents[i][k] as PointApigeom).label}'$ !<br>`\n        } else {\n          feedback += `Il n'y a pas de point symétrique de $${(this.antecedents[i][k] as PointApigeom).label}$ et il n'y a pas de point nommé $${(this.antecedents[i][k] as PointApigeom).label}'$ !<br>`\n        }\n        resultat.push('KO')\n      }\n    }\n    if (divFeedback) divFeedback.innerHTML = feedback\n    this.figuresApiGeom[i].isDynamic = false\n    this.figuresApiGeom[i].divButtons.style.display = 'none'\n    this.figuresApiGeom[i].divUserMessage.style.display = 'none'\n    return resultat\n  }\n}\n\nexport default ConstrctionsSymetrieCentralePoints\n"],"names":["titre","dateDePublication","interactifReady","interactifType","uuid","refs","positionneLabel","pointA","pointB","checkDistance","points","point","ConstrctionsSymetrieCentralePoints","Exercice","__publicField","resultat","divFeedback","feedback","k","x","y","rotationCoord","e","matchPoint","p","sym","egal","marks","colors","context","contraindreValeur","i","cpt","enonce","antecedents","symetriques","objets","objetsCorrection","nuage","randint","shuffle","choisitLettresDifferentes","labelCentre","el","guideDroites","guide","demiDroite","colorToLatexOrHTML","guidesArc","rotation","cercleCentrePoint","grille","TracePoint","labelPoint","egalite","codageMilieu","trace","labelSym","label","options","Figure","emplacementPourFigure","figureApigeom","mathalea2d","fixeBordures"],"mappings":"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"}
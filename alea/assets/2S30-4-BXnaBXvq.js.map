{"version":3,"file":"2S30-4-BXnaBXvq.js","sources":["../../src/exercices/2e/2S30-4.ts"],"sourcesContent":["import { choice, shuffle } from '../../lib/outils/arrayOutils'\nimport {\n  numAlpha,\n  premiereLettreEnMajuscule,\n} from '../../lib/outils/outilString'\nimport Exercice from '../Exercice'\nimport { mathalea2d } from '../../modules/2dGeneralites'\nimport { listeQuestionsToContenu, randint } from '../../modules/outils'\nimport { fraction } from '../../modules/fractions'\nimport { Arbre, texProba } from '../../modules/arbres'\n\nimport { ajouteChampTexteMathLive } from '../../lib/interactif/questionMathLive'\nimport FractionEtendue from '../../modules/FractionEtendue'\nimport { setReponse } from '../../lib/interactif/gestionInteractif'\nimport { tableauColonneLigne } from '../../lib/2d/tableau'\n\nexport const titre =\n  'Calculer des probabilités dans une expérience aléatoire à deux épreuves'\nexport const dateDePublication = '28/12/2021'\nexport const dateDeModifImportante = '30/08/2022' // Passage en intégralité interactif\n\nexport const interactifReady = true\nexport const interactifType = 'mathLive'\nexport const amcReady = true\nexport const amcType = 'AMCNum'\n\n/**\n * On doit calculer la probabilité qu'un événement se réalise après une expérience aléatoire à deux épreuves\n * @author Jean-Claude Lhote (et EE pour passage en interactif intégral)\n\n */\nexport const uuid = 'cee5d'\n\nexport const refs = {\n  'fr-fr': ['2S30-4'],\n  'fr-ch': [],\n}\n\nfunction unePieceDeuxUrnes(\n  exercice: Exercice,\n  i: number,\n  sup: boolean,\n  sup2: boolean,\n  sup3: boolean,\n  numQuestionInteractif: number,\n) {\n  i += numQuestionInteractif\n  const p = []\n  const choix = randint(0, 2)\n  let nombres1, nombres2, n1, n2, urne1, urne2, texte, texteCorr\n  if (!sup3) {\n    nombres1 = choice([\n      [1, 2, 3],\n      [1, 1, 2],\n      [1, 2, 2],\n      [1, 1, 3],\n    ])\n    nombres2 = choice([\n      [1, 2, 3],\n      [1, 1, 2],\n      [1, 2, 2],\n      [1, 1, 3],\n    ])\n  } else {\n    nombres1 = [1, 2, 3]\n    nombres2 = [1, 2, 3]\n  }\n  const B = ['B', 'R', 'V']\n  const boules = ['bleue', 'rouge', 'verte']\n  do {\n    n1 = shuffle(nombres1)\n    n2 = shuffle(nombres2)\n  } while (n1[0] === n2[0] && n1[1] === n2[1])\n  const card1 = n1[0] + n1[1] + n1[2]\n  const card2 = n2[0] + n2[1] + n2[2]\n  if (sup2) {\n    urne1 = new Arbre({\n      racine: false,\n      rationnel: true,\n      nom: 'Pile',\n      proba: fraction(1, 2),\n      visible: true,\n      alter: '',\n      enfants: [],\n    })\n    urne2 = new Arbre({\n      racine: false,\n      rationnel: true,\n      nom: 'Face',\n      proba: fraction(1, 2),\n      visible: true,\n      alter: '',\n      enfants: [],\n    })\n    for (let j = 0; j < 3; j++) {\n      urne1.enfants.push(\n        new Arbre({\n          nom: B[j],\n          proba: fraction(n1[j], card1),\n          rationnel: true,\n          visible: true,\n        }),\n      )\n    }\n    for (let j = 0; j < 3; j++) {\n      urne2.enfants.push(\n        new Arbre({\n          nom: B[j],\n          proba: fraction(n2[j], card2),\n          rationnel: true,\n          visible: true,\n        }),\n      )\n    }\n  } else {\n    urne1 = new Arbre({\n      racine: false,\n      rationnel: true,\n      nom: 'Pile',\n      proba: fraction(1, 2),\n      visible: false,\n      alter: '',\n      enfants: [],\n    })\n    urne2 = new Arbre({\n      racine: false,\n      rationnel: true,\n      nom: 'Face',\n      proba: fraction(1, 2),\n      visible: false,\n      alter: '',\n      enfants: [],\n    })\n    for (let j = 0; j < 3; j++) {\n      for (let b = 0; b < n1[j]; b++) {\n        urne1.enfants.push(\n          new Arbre({\n            nom: B[j],\n            proba: fraction(1, card1),\n            rationnel: true,\n            visible: false,\n          }),\n        )\n      }\n    }\n    for (let j = 0; j < 3; j++) {\n      for (let b = 0; b < n2[j]; b++) {\n        urne2.enfants.push(\n          new Arbre({\n            nom: B[j],\n            proba: fraction(1, card2),\n            rationnel: true,\n            visible: false,\n          }),\n        )\n      }\n    }\n  }\n\n  // On définit l'arbre complet\n  const omega = new Arbre({\n    racine: true,\n    rationnel: true,\n    nom: '',\n    proba: 1,\n    visible: false,\n    alter: '',\n    enfants: [urne1, urne2],\n  })\n\n  omega.setTailles() // On calcule les tailles des arbres.\n  const objets = omega.represente(0, 11, 0, sup2 ? 2.5 : 1.2, false, -1, 8) // On crée l'arbre complet echelle 1.4 feuilles verticales sens gauche-droite\n  for (let j = 0; j < 3; j++) {\n    p[j] = omega.getProba(B[j]) // on calcule P(C) décimale.\n  }\n  texte = 'On lance une pièce équilibrée.<br>'\n  texte +=\n    \"Si la pièce tombe sur 'Pile', on tire une boule dans une urne contenant \"\n  for (let j = 0; j < 2; j++) {\n    texte += `${n1[j]} boule${n1[j] > 1 ? 's' : ''} ${boules[j]}${n1[j] > 1 ? 's' : ''}, `\n  }\n  texte += ` et ${n1[2]} boule${n1[2] > 1 ? 's' : ''} ${boules[2]}${n1[2] > 1 ? 's' : ''}.<br>`\n  texte +=\n    \"Si la pièce tombe sur 'Face', on tire une boule dans une urne contenant \"\n  for (let j = 0; j < 2; j++) {\n    texte += `${n2[j]} boule${n2[j] > 1 ? 's' : ''} ${boules[j]}${n2[j] > 1 ? 's' : ''}, `\n  }\n  texte += ` et ${n2[2]} boule${n2[2] > 1 ? 's' : ''} ${boules[2]}${n2[2] > 1 ? 's' : ''}.<br>`\n  texte += sup ? \"On a représenté l'expérience par l'arbre ci-dessous<br>\" : ''\n  texte += sup\n    ? mathalea2d(\n        { xmin: -0.1, xmax: 16, ymin: 0, ymax: 12, zoom: 1.5, scale: 0.6 },\n        ...objets,\n      )\n    : ''\n  texte +=\n    `<br>Donner la probabilité d'obtenir une boule ${boules[choix]}.` +\n    ajouteChampTexteMathLive(exercice, i, '')\n  setReponse(exercice, i, new FractionEtendue(p[choix].n, p[choix].d), {\n    formatInteractif: 'fractionEgale',\n  })\n  texteCorr =\n    \"La probabilité que la pièce tombe sur 'Pile' est de $\\\\dfrac{1}{2}$ et \"\n  texteCorr += `la probabilité de tirer une boule ${boules[choix]} dans la première urne est de $${texProba(urne1.getProba(B[choix]))}$.<br>`\n  texteCorr += `La probabilité de l'issue ('Pile','${boules[choix]}') est donc : $\\\\dfrac{1}{2}\\\\times ${texProba(urne1.getProba(B[choix]))}=${texProba(fraction(n1[choix], 2 * card1))}$.<br>`\n  texteCorr +=\n    \"La probabilité que la pièce tombe sur 'Face' est de $\\\\dfrac{1}{2}$ et \"\n  texteCorr += `la probabilité de tirer une boule ${boules[choix]} dans la deuxième urne est de $${texProba(urne2.getProba(B[choix]))}$.<br>`\n  texteCorr += `La probabilité de l'issue ('Face','${boules[choix]}') est donc : $\\\\dfrac{1}{2}\\\\times ${texProba(urne2.getProba(B[choix]))}=${texProba(fraction(n2[choix], 2 * card2))}$.<br>`\n  texteCorr += `L'événement 'obtenir une boule ${boules[choix]}' est réalisé par les issues ('Pile','${boules[choix]}') et ('Face','${boules[choix]}'), donc sa probabilité est la somme des probabilités calculées ci-dessus.<br>`\n  texteCorr += `La probabilité d'obtenir une boule ${boules[choix]} est donc de $${texProba(fraction(n1[choix], 2 * card1))}+${texProba(fraction(n2[choix], 2 * card2))}=${texProba(p[choix])}$.`\n\n  return { texte, texteCorr, alea: [...n1, ...n2] }\n}\n\nfunction urneDeuxTiragesAvecRemise(\n  exercice: Exercice,\n  i: number,\n  sup: boolean,\n  sup2: boolean,\n  niveau: string,\n  numQuestionInteractif: number,\n) {\n  // tirage dans une urne avec remise\n  i += numQuestionInteractif\n  const [b1Color, b2Color] = shuffle([\n    'bleue',\n    'rouge',\n    'verte',\n    'orange',\n    'noire',\n    'jaune',\n  ]).splice(0, 2)\n\n  const b1Char = premiereLettreEnMajuscule(b1Color.charAt(0))\n  const b2Char = premiereLettreEnMajuscule(b2Color.charAt(0))\n  const nbBoule1 = randint(1, 3)\n  const nbBoule2 = randint(1, 3) //, nbBoule1)\n  const ligneEnt = ['\\\\text{Tirage1\\\\textbackslash Tirage2}']\n  const colonneEnt = []\n  const contenu = []\n  const card = nbBoule1 + nbBoule2\n  const tirage1 = []\n  for (let i = 0; i < nbBoule1; i++) {\n    tirage1.push(\n      new Arbre({\n        nom: `${b1Char}`,\n        rationnel: true,\n        proba: fraction(1, card),\n        visible: false,\n        alter: '',\n        enfants: [],\n        racine: false,\n      }),\n    )\n    for (let j = 0; j < nbBoule1; j++) {\n      tirage1[i].enfants.push(\n        new Arbre({\n          nom: `${b1Char} `,\n          rationnel: true,\n          proba: fraction(1, card),\n          visible: false,\n          alter: '',\n          enfants: [],\n          racine: false,\n        }),\n      )\n    }\n    for (let j = 0; j < nbBoule2; j++) {\n      tirage1[i].enfants.push(\n        new Arbre({\n          nom: `${b2Char}`,\n          rationnel: true,\n          proba: fraction(1, card),\n          visible: false,\n          alter: '',\n          enfants: [],\n          racine: false,\n        }),\n      )\n    }\n  }\n\n  for (let i = 0; i < nbBoule2; i++) {\n    tirage1.push(\n      new Arbre({\n        nom: `${b2Char}`,\n        rationnel: true,\n        proba: fraction(1, card),\n        visible: false,\n        alter: '',\n        enfants: [],\n        racine: false,\n      }),\n    )\n    for (let j = 0; j < nbBoule1; j++) {\n      tirage1[i + nbBoule1].enfants.push(\n        new Arbre({\n          nom: `${b1Char} `,\n          rationnel: true,\n          proba: fraction(1, card),\n          visible: false,\n          alter: '',\n          enfants: [],\n          racine: false,\n        }),\n      )\n    }\n    for (let j = 0; j < nbBoule2; j++) {\n      tirage1[i + nbBoule1].enfants.push(\n        new Arbre({\n          nom: `${b2Char} `,\n          rationnel: true,\n          proba: fraction(1, card),\n          visible: false,\n          alter: '',\n          enfants: [],\n          racine: false,\n        }),\n      )\n    }\n  }\n  const omega = new Arbre({\n    nom: '',\n    rationnel: true,\n    proba: 1,\n    visible: false,\n    alter: '',\n    enfants: tirage1,\n    racine: true,\n  })\n\n  for (let i = 0; i < card; i++) {\n    if (i < nbBoule1) {\n      ligneEnt.push(`\\\\text{${b1Char}}`)\n      colonneEnt.push(`\\\\text{${b1Char}}`)\n    } else {\n      ligneEnt.push(`\\\\text{${b2Char}}`)\n      colonneEnt.push(`\\\\text{${b2Char}}`)\n    }\n    for (let j = 0; j < card; j++) {\n      contenu.push(`\\\\text{${tirage1[i].nom + tirage1[i].enfants[j].nom}}`)\n    }\n  }\n\n  const tableau = tableauColonneLigne(\n    ligneEnt,\n    colonneEnt,\n    contenu,\n    1,\n    true,\n    exercice.numeroExercice,\n    numQuestionInteractif,\n  )\n\n  omega.setTailles() // On calcule les tailles des arbres.\n  const objets = omega.represente(0, 12, 0, sup2 ? 2.5 : 1.4, false, -1, 8) // On crée l'arbre complet echelle 1.4 feuilles verticales sens gauche-droite\n  const choix = choice([\n    [nbBoule1, b1Color, b1Char],\n    [nbBoule2, b2Color, b2Char],\n  ])\n  const probaChoix = fraction(Number(choix[0]) ** 2, card ** 2)\n  const proba1 = fraction(nbBoule1 ** 2, card ** 2)\n  const proba2 = fraction(nbBoule2 ** 2, card ** 2)\n  const proba1et2 = proba1.sommeFraction(proba2)\n  const proba3 = fraction(nbBoule1 * nbBoule2, card ** 2)\n  const proba4 = proba3.multiplieEntier(2)\n  let texte = `Dans une urne, il y a ${nbBoule1} boule${nbBoule1 > 1 ? 's' : ''} ${b1Color}${nbBoule1 > 1 && b1Char !== 'O' ? 's' : ''} et ${nbBoule2} boule${nbBoule2 > 1 ? 's' : ''} ${b2Color}${nbBoule2 > 1 && b2Char !== 'O' ? 's' : ''} indiscernables au toucher.<br>`\n  texte += 'On tire successivement et avec remise deux boules.<br>'\n  texte += `${numAlpha(0)} Déterminer la probabilité d'obtenir deux boules ${choix[1]}${choix[2] !== 'O' ? 's' : ''}.`\n  texte += ajouteChampTexteMathLive(exercice, i, '') + '<br>'\n  setReponse(exercice, i, probaChoix, { formatInteractif: 'fractionEgale' })\n  texte += `${numAlpha(1)} Déterminer la probabilité d'obtenir deux boules de la même couleur.`\n  texte += ajouteChampTexteMathLive(exercice, i + 1, '') + '<br>'\n  setReponse(exercice, i + 1, proba1et2, { formatInteractif: 'fractionEgale' })\n  texte += `${numAlpha(2)} Déterminer la probabilité d'obtenir deux boules de couleurs différentes.`\n  texte += ajouteChampTexteMathLive(exercice, i + 2, '') + '<br>'\n  setReponse(exercice, i + 2, proba4, { formatInteractif: 'fractionEgale' })\n  let texteCorr = ''\n  texteCorr += \"On a représenté l'expérience par le tableau ci-dessous :<br>\"\n  texteCorr += tableau + '<br>'\n  texteCorr += `${b1Char} = ${b1Color} et ${b2Char} = ${b2Color}.<br>`\n  texteCorr +=\n    \"On peut aussi présenter les deux épreuves sous la forme d'un arbre de dénombrement :<br>\"\n  texteCorr += mathalea2d(\n    {\n      xmin: 0,\n      xmax: card * 8.5,\n      ymin: 0,\n      ymax: 13,\n      zoom: 0.8,\n      scale: 1 / card,\n    },\n    ...objets,\n  )\n  texteCorr += `<br>${numAlpha(0)} L'événement \"obtenir deux boules ${choix[1]}${choix[2] !== 'O' ? 's' : ''}\" est réalisé par l'issue {${choix[2]} ${choix[2]}}.`\n  texteCorr += ` On comptabilise ${Number(choix[0]) ** 2} issues {${choix[2]} ${choix[2]}} sur ${card ** 2} issues en tout.<br>`\n  texteCorr += `La probabilité de cet événement est donc de $${probaChoix.texFraction}${!probaChoix.estIrreductible ? '=' + probaChoix.texFractionSimplifiee : ''}$.<br>`\n  texteCorr += `${numAlpha(1)} L'événement \"obtenir deux boules de la même couleur\" est réalisé par les issues {${b1Char + b1Char}, ${b2Char + b2Char}}.`\n  texteCorr += ` On comptabilise ${nbBoule1 ** 2} issues {${b1Char + b1Char}} et   ${nbBoule2 ** 2} issues {${b2Char + b2Char}} sur ${card ** 2} issues en tout.<br>`\n  texteCorr += `La probabilité de cet événement est donc de $${proba1.texFraction}+${proba2.texFraction}`\n  texteCorr += `=${proba1et2.texFraction}${!proba1et2.estIrreductible ? '=' + proba1et2.texFractionSimplifiee : ''}$.<br>`\n\n  texteCorr += `${numAlpha(2)} L'événement \"obtenir deux boules de couleurs différentes\" est réalisé par les issues {${b1Char + b2Char}, ${b2Char + b1Char}}.`\n  texteCorr += ` On comptabilise ${nbBoule1 * nbBoule2} issues {${b1Char + b2Char}} et autant d'issues {${b2Char + b1Char}} sur ${card ** 2} issues en tout.<br>`\n  texteCorr += `La probabilité de cet événement est donc de $2\\\\times ${proba3.texFraction}=${proba4.texFraction}${!proba4.estIrreductible ? '=' + proba4.texFractionSimplifiee : ''}$.<br>`\n  texteCorr += `Une autre façon de faire est de considéré que c'est l'événement contraire de \"obtenir deux boules de la même couleur\" dont on a calculé la probabilité à la question ${numAlpha(1)}.<br>`\n  texteCorr += `On peut donc calculer la probabilité de cet événement en calculant : $1 -${proba1et2.texFractionSimplifiee} = ${proba1et2.entierMoinsFraction(1).texFractionSimplifiee}$.`\n\n  return { texte, texteCorr, alea: [nbBoule1, nbBoule2, b1Char, b2Char] }\n}\nexport default class CalculProbaExperience2Epreuves2e extends Exercice {\n  constructor() {\n    super()\n    this.besoinFormulaireCaseACocher = ['Avec arbre', false]\n    this.besoinFormulaire2CaseACocher = ['Arbre pondéré', false]\n    this.besoinFormulaire3CaseACocher = ['Équiprobabilité', false]\n    this.sup = true\n    this.sup2 = false\n\n    this.sup3 = false\n    this.nbQuestions = 1\n    this.spacing = 2\n    this.spacingCorr = 3\n  }\n\n  nouvelleVersion() {\n    for (\n      let i = 0, cpt = 0, question, numQuestionInteractif = 0;\n      i < this.nbQuestions && cpt < 50;\n\n    ) {\n      switch (i % 2) {\n        case 0:\n          question = unePieceDeuxUrnes(\n            this,\n            i,\n            this.sup,\n            this.sup2,\n            this.sup3,\n            numQuestionInteractif,\n          )\n          break\n        case 1:\n        default:\n          question = urneDeuxTiragesAvecRemise(\n            this,\n            i,\n            this.sup,\n            this.sup2,\n            this.sup3,\n            numQuestionInteractif,\n          )\n          numQuestionInteractif = +2\n          break\n      }\n      if (this.questionJamaisPosee(i, ...question.alea)) {\n        this.listeQuestions[i] = question.texte\n        this.listeCorrections[i] = question.texteCorr\n        i++\n      }\n      cpt++\n    }\n    listeQuestionsToContenu(this)\n  }\n}\n"],"names":["titre","dateDePublication","dateDeModifImportante","interactifReady","interactifType","amcReady","amcType","uuid","refs","unePieceDeuxUrnes","exercice","i","sup","sup2","sup3","numQuestionInteractif","p","choix","randint","nombres1","nombres2","n1","n2","urne1","urne2","texte","texteCorr","choice","B","boules","shuffle","card1","card2","Arbre","fraction","j","b","omega","objets","mathalea2d","ajouteChampTexteMathLive","setReponse","FractionEtendue","texProba","urneDeuxTiragesAvecRemise","niveau","b1Color","b2Color","b1Char","premiereLettreEnMajuscule","b2Char","nbBoule1","nbBoule2","ligneEnt","colonneEnt","contenu","card","tirage1","tableau","tableauColonneLigne","probaChoix","proba1","proba2","proba1et2","proba3","proba4","numAlpha","CalculProbaExperience2Epreuves2e","Exercice","cpt","question","listeQuestionsToContenu"],"mappings":"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"}
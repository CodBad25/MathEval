{"version":3,"file":"_RelationDeThales-BYhC_5Oh.js","sources":["../../src/exercices/4e/_RelationDeThales.ts"],"sourcesContent":["import { angle, angleOriente } from '../../lib/2d/angles'\nimport { point, pointAdistance, pointSurSegment } from '../../lib/2d/points'\nimport { polygone } from '../../lib/2d/polygones'\nimport { longueur } from '../../lib/2d/segmentsVecteurs'\nimport { texteParPoint } from '../../lib/2d/textes'\nimport { homothetie, similitude } from '../../lib/2d/transformations'\nimport { triangle2points2longueurs } from '../../lib/2d/triangle'\nimport { ajouterBoutonMathalea2d } from '../../lib/outils/enrichissements'\nimport { texteGras } from '../../lib/format/style'\nimport { creerNomDePolygone } from '../../lib/outils/outilString'\nimport Exercice from '../Exercice'\nimport { mathalea2d } from '../../modules/2dGeneralites'\nimport { context } from '../../modules/context'\nimport { listeQuestionsToContenu, randint } from '../../modules/outils'\n\nexport const titre = 'Écrire une relation de Thalès'\n\n/**\n * Relation de Thalès\n * @author Sébastien LOZANO\n */\nexport default class RelationDeThales extends Exercice {\n  level: number\n  constructor() {\n    super()\n    this.besoinFormulaireNumerique = [\n      'Configuration',\n      3,\n      '1 : Triangles imbriqués\\n2 : Papillon\\n3 : Mélange',\n    ]\n\n    this.nbQuestions = 1\n\n    this.sup = 1 // Triangles imbriqués / configuration papillon / les 2\n    this.level = 4\n  }\n\n  nouvelleVersion(numeroExercice: number) {\n    let listeDeNomsDePolygones: string[] = []\n\n    if (this.level === 4) {\n      this.sup = 1\n    }\n    const premiereQuestionPapillon = randint(0, 1) // Pour alterner les configurations et savoir par laquelle on commence\n\n    for (\n      let i = 0, texte = '', texteCorr = '', cpt = 0;\n      i < this.nbQuestions && cpt < 50;\n\n    ) {\n      // this.autoCorrection[i] = {}\n      if (i % 3 === 0) {\n        // Toutes les 3 questions, on repart à zéro sur les noms des polygones\n        listeDeNomsDePolygones = ['QD']\n      }\n      const nomDesPoints = creerNomDePolygone(5, listeDeNomsDePolygones)\n      listeDeNomsDePolygones.push(nomDesPoints)\n      const nomA = nomDesPoints[0]\n      const nomB = nomDesPoints[1]\n      const nomC = nomDesPoints[2]\n      const nomM = nomDesPoints[3]\n      const nomN = nomDesPoints[4]\n      const ab = randint(5, 10)\n      const ac = randint(5, 10, ab)\n      const bc = randint(Math.max(ab - ac, ac - ab) + 1, ab + ac - 1, [ab, ac]) // Pas de triangle isocèle ou équilatéral\n      const A = point(0, 0, nomA)\n      const B = pointAdistance(A, ab, nomB)\n      const ABC = triangle2points2longueurs(A, B, ac, bc)\n      ABC.id = `M2D_${numeroExercice}_${i}_1`\n      const C = ABC.listePoints[2]\n      C.nom = nomC\n      let k = randint(3, 8, 5) / 10\n      if (this.sup === 2) {\n        k *= -1\n      }\n      if (this.sup === 3 && (i + premiereQuestionPapillon) % 2 === 0) {\n        k *= -1\n      }\n      const M = homothetie(A, C, k)\n      const N = homothetie(B, C, k)\n      const MNC = polygone(M, N, C)\n      MNC.id = `M2D_${numeroExercice}_${i}_2`\n      const m = pointSurSegment(M, N, -0.5)\n      const n = pointSurSegment(N, M, -0.5)\n      const marqueNomM = texteParPoint(nomM, m, 0, 'black', 1, 'milieu', true)\n      const marqueNomN = texteParPoint(nomN, n, 0, 'black', 1, 'milieu', true)\n      const a = pointSurSegment(A, B, -0.5)\n      const b = pointSurSegment(B, A, -0.5)\n      const marqueNomA = texteParPoint(nomA, a, 0, 'black', 1, 'milieu', true)\n      const marqueNomB = texteParPoint(nomB, b, 0, 'black', 1, 'milieu', true)\n      let c\n      if (k < 0) {\n        if (angle(A, C, N) < angle(N, C, A)) {\n          c = similitude(A, C, -angleOriente(A, C, N) / 2, 1 / longueur(A, C))\n        } else {\n          c = similitude(\n            A,\n            C,\n            -angleOriente(N, C, A) / 2,\n            (1 / longueur(A, C)) * 0.5,\n          )\n        }\n      } else {\n        c = similitude(\n          A,\n          C,\n          -180 + angleOriente(A, C, B) / 2,\n          (1 / longueur(A, C)) * 0.5,\n        )\n      }\n      const marqueNomC = texteParPoint(nomC, c, 0, 'black', 1, 'milieu', true)\n\n      texte = 'Sur la figure suivante : '\n      if (k > 0) {\n        texte += `\n        <br> $\\\\leadsto ${nomM}$ est sur $${'[' + nomC + nomA + ']'}$,\n        <br> $\\\\leadsto ${nomN}$ est sur $${'[' + nomC + nomB + ']'}$,`\n      } else {\n        texte += `<br> $\\\\leadsto$ les droites $(${nomA + nomM})$ et $(${nomB + nomN})$ sont sécantes en $${nomC}$,`\n      }\n\n      texte += `<br> $\\\\leadsto$ les droites $(${nomA + nomB})$ et $(${nomM + nomN})$ sont parallèles.<br>Écrire une relation de Thalès.<br>`\n\n      texte += mathalea2d(\n        {\n          xmin: Math.min(A.x, B.x, C.x, M.x, N.x) - 1.5,\n          ymin: Math.min(A.y, B.y, C.y, M.y, N.y) - 0.8,\n          xmax: Math.max(A.x, B.x, C.x, M.x, N.x) + 1.5,\n          ymax: Math.max(A.y, B.y, C.y, M.y, N.y) + 0.8,\n          scale: 0.5,\n        },\n\n        ABC,\n        MNC,\n        marqueNomA,\n        marqueNomB,\n        marqueNomC,\n        marqueNomM,\n        marqueNomN,\n      )\n\n      const epaisseurTriangle = k < 0 ? 2 : 6 // En cas de configuration papillon il est inutile de changer l'épaisseur\n      const boutonAideMathalea2d = ajouterBoutonMathalea2d(\n        `${numeroExercice}_${i}`,\n        `if (!document.getElementById('M2D_${numeroExercice}_${i}_1').dataset.colorie == true || (document.getElementById('M2D_${numeroExercice}_${i}_1').dataset.colorie == 'false')){\n          document.getElementById('M2D_${numeroExercice}_${i}_1').style.stroke = 'blue';\n          document.getElementById('M2D_${numeroExercice}_${i}_2').style.stroke = 'red';\n          document.getElementById('M2D_${numeroExercice}_${i}_1').style.opacity = .5;\n          document.getElementById('M2D_${numeroExercice}_${i}_1').style.strokeWidth = ${epaisseurTriangle};\n          document.getElementById('M2D_${numeroExercice}_${i}_2').style.opacity = 1;\n          document.getElementById('M2D_${numeroExercice}_${i}_2').style.strokeWidth = 2;\n          document.getElementById('M2D_${numeroExercice}_${i}_1').dataset.colorie = true;\n          document.getElementById('btnMathALEA2d_${numeroExercice}_${i}').classList.add('active');\n        } else {\n          document.getElementById('M2D_${numeroExercice}_${i}_1').style.stroke = 'black';\n          document.getElementById('M2D_${numeroExercice}_${i}_2').style.stroke = 'black';\n          document.getElementById('M2D_${numeroExercice}_${i}_1').style.opacity = 1;\n          document.getElementById('M2D_${numeroExercice}_${i}_1').style.strokeWidth = 1;\n          document.getElementById('M2D_${numeroExercice}_${i}_2').style.opacity = 1;\n          document.getElementById('M2D_${numeroExercice}_${i}_2').style.strokeWidth = 1;\n          document.getElementById('M2D_${numeroExercice}_${i}_1').dataset.colorie = false;\n          document.getElementById('btnMathALEA2d_${numeroExercice}_${i}').classList.remove('active');\n  \n        }\n        `,\n        'Mettre en couleur les 2 triangles',\n      )\n\n      if (k > 0) {\n        texteCorr = `Dans le triangle $${nomA + nomB + nomC}$ :\n       <br> $\\\\leadsto$ $${nomM}\\\\in${'[' + nomC + nomA + ']'}$,\n       <br> $\\\\leadsto$ $${nomN}\\\\in${'[' + nomC + nomB + ']'}$,\n       <br> $\\\\leadsto$  $(${nomA + nomB})//(${nomM + nomN})$,\n       <br> donc d'après le théorème de Thalès, les triangles $${nomA + nomB + nomC}$ et $${nomM + nomN + nomC}$ ont des longueurs proportionnelles.`\n      } else {\n        texteCorr = `$\\\\leadsto$ Les droites $(${nomA + nomM})$ et $(${nomB + nomN})$ sont sécantes en $${nomC}$,\n        <br> $\\\\leadsto$ les droites $(${nomA + nomB})$ et $(${nomM + nomN})$ sont parallèles,<br>\n        donc d'après le théorème de Thalès, les triangles $${nomA + nomB + nomC}$ et $${nomM + nomN + nomC}$ ont des longueurs proportionnelles.`\n      }\n      texteCorr += '<br><br>'\n      if (context.isHtml) {\n        texteCorr += `$\\\\dfrac{\\\\color{red}${nomC + nomM}}{\\\\color{blue}${nomC + nomA}}=\\\\dfrac{\\\\color{red}${nomC + nomN}}{\\\\color{blue}${nomC + nomB}}=\\\\dfrac{\\\\color{red}${nomM + nomN}}{\\\\color{blue}${nomA + nomB}}$`\n      } else {\n        texteCorr += `$\\\\dfrac{${nomC + nomM}}{${nomC + nomA}}=\\\\dfrac{${nomC + nomN}}{${nomC + nomB}}=\\\\dfrac{${nomM + nomN}}{${nomA + nomB}}$`\n      }\n\n      texteCorr += context.isHtml ? '<br>' : '\\\\medskip'\n      texteCorr += `<br>${texteGras('Remarque')}<br>On pourrait aussi écrire : `\n      if (context.isHtml) {\n        texteCorr += `$\\\\dfrac{\\\\color{blue}${nomC + nomA}}{\\\\color{red}${nomC + nomM}}=\\\\dfrac{\\\\color{blue}${nomC + nomB}}{\\\\color{red}${nomC + nomN}}=\\\\dfrac{\\\\color{blue}${nomA + nomB}}{\\\\color{red}${nomM + nomN}}$`\n      } else {\n        texteCorr += `$\\\\dfrac{${nomC + nomA}}{${nomC + nomM}}=\\\\dfrac{${nomC + nomB}}{${nomC + nomN}}=\\\\dfrac{${nomA + nomB}}{${nomM + nomN}}$`\n      }\n\n      if (context.isHtml) {\n        texte += `<br><div style=\"display: inline-block;margin-top:20px;\">${boutonAideMathalea2d}</div>`\n      }\n\n      if (this.listeQuestions.indexOf(texte) === -1) {\n        // Si la question n'a jamais été posée, on en créé une autre\n        this.listeQuestions[i] = texte\n        this.listeCorrections[i] = texteCorr\n        i++\n      }\n      cpt++\n    }\n    listeQuestionsToContenu(this)\n  }\n}\n"],"names":["titre","RelationDeThales","Exercice","__publicField","numeroExercice","listeDeNomsDePolygones","premiereQuestionPapillon","randint","i","texte","texteCorr","cpt","nomDesPoints","creerNomDePolygone","nomA","nomB","nomC","nomM","nomN","ab","ac","bc","A","point","B","pointAdistance","ABC","triangle2points2longueurs","C","k","M","homothetie","N","MNC","polygone","m","pointSurSegment","n","marqueNomM","texteParPoint","marqueNomN","a","b","marqueNomA","marqueNomB","c","angle","similitude","angleOriente","longueur","marqueNomC","mathalea2d","epaisseurTriangle","boutonAideMathalea2d","ajouterBoutonMathalea2d","context","texteGras","listeQuestionsToContenu"],"mappings":"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"}
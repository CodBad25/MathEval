{"version":3,"file":"1AN14-7-DGHz5V0g.js","sources":["../../src/exercices/1e/1AN14-7.ts"],"sourcesContent":["import { Polynome } from '../../lib/mathFonctions/Polynome'\nimport { combinaisonListes } from '../../lib/outils/arrayOutils'\nimport { rienSi1 } from '../../lib/outils/ecritures'\nimport { lettreMinusculeDepuisChiffre } from '../../lib/outils/outilString'\nimport { gestionnaireFormulaireTexte, listeQuestionsToContenu, randint } from '../../modules/outils'\nimport Exercice from '../Exercice'\nimport { handleAnswers } from '../../lib/interactif/gestionInteractif'\nimport { functionCompare } from '../../lib/interactif/comparisonFunctions'\nimport { ajouteChampTexteMathLive } from '../../lib/interactif/questionMathLive'\nexport const interactifReady = true\nexport const interactifType = 'mathLive'\nexport const titre = 'Dérivée de $x\\\\mapsto u(ax + b)$'\n\n/**\n * Calculer la dérivée de x -> f(ax+b)\n * @author Jean-Léon Henry\n\n */\n\nexport const uuid = '3391d'\nexport const refs = {\n  'fr-fr': ['1AN14-7'],\n  'fr-ch': ['3mA2-9', '4mAna-3'],\n}\ntype TypeDeFonction = 'monome' | 'racine' | 'inv' | 'exp'\n\nexport default class DeriveeComposee extends Exercice {\n  constructor() {\n    super()\n    this.besoinFormulaireTexte = ['Choix possibles pour $u$', 'Nombres séparés par des tirets.\\n' + [\"Puissance\", \"Racine\", \"Inverse\", \"Exponentielle\", \"Mélange\"].map((nom, index) => `${index + 1}. ${nom}`).join(\"\\n\")]\n    this.sup = 5\n    // this.consigne = \"Pour chacune des fonctions suivantes, dire sur quel ensemble elle est dérivable, puis déterminer l'expression de sa fonction dérivée.\"\n    this.consigne =\n      \"Pour chacune des fonctions suivantes, déterminer l'expression de sa fonction dérivée.\"\n    this.nbQuestions = 5\n    // Sortie LaTeX\n    this.nbCols = 2 // Nombre de colonnes\n    this.nbColsCorr = 2 // Nombre de colonnes dans la correction\n    // On modifie les règles de simplifications par défaut de math.js pour éviter 10x+10 = 10(x+1) et -4x=(-4x)\n  }\n\n  nouvelleVersion() {\n\n\n    const listeValeurs = [\n      'monome',\n      'racine',\n      'inv',\n      'exp'\n    ]\n    const listeTypeDeQuestionsDisponibles = gestionnaireFormulaireTexte({\n      saisie: this.sup,\n      min: 1,\n      max: 4,\n      melange: 5,\n      defaut: 5,\n      nbQuestions: this.nbQuestions,\n      listeOfCase: listeValeurs,\n\n    })\n    const listeTypeDeQuestions = combinaisonListes(\n      listeTypeDeQuestionsDisponibles,\n      this.nbQuestions,\n    )\n    for (let i = 0, cpt = 0; i < this.nbQuestions && cpt < 50;) {\n      let texte = ''\n      let texteCorr = ''\n      let exprF = ''\n      let expression = ''\n      // On génère des fonctions qui pourrait servir\n      const coeffs = new Array(randint(2, 9))\n      coeffs.fill(0)\n      coeffs.push(1)\n      const dictFonctions = {\n        exp: 'e^',\n        racine: '\\\\sqrt',\n        inv: '1/',\n        monome: new Polynome({ coeffs }),\n      }\n      const polAff = new Polynome({ rand: true, deg: 1 })\n      const a: number = Number(polAff.monomes[1])\n      const b: number = Number(polAff.monomes[0])\n      const typeF: TypeDeFonction = listeTypeDeQuestions[i]\n      const f = dictFonctions[typeF]\n      // Expression finale de la fonction\n      exprF =\n        typeF === 'monome'\n          ? (f as Polynome).toMathExpr()\n          : typeF === 'inv'\n            ? '\\\\frac{1}{x}'\n            : (f as string) + '{x}'\n      expression =\n        typeF === 'monome'\n          ? `${rienSi1((f as Polynome).monomes[(f as Polynome).deg])}(${polAff})^${(f as Polynome).deg}`\n          : typeF === 'inv'\n            ? `\\\\frac{1}{${polAff}}`\n            : `${f}{${polAff}}`\n      let value = ''\n\n      // Enoncé\n      const nameF = lettreMinusculeDepuisChiffre(i + 6)\n      texte = `$${nameF}(x)=${expression}$`\n      // Correction\n      texteCorr =\n        'On rappelle le cours. Si $x$ est un nombre réel tel que $u$ soit dérivable en $ax+b$, alors $v:x\\\\mapsto u(ax+b)$ est dérivable en $x$ et on a :'\n      texteCorr += \"\\\\[v'(x)=a\\\\times u'(ax+b).\\\\]\"\n      let deriveeF = ''\n      // Déterminons la dérivée de u\n      switch (typeF) {\n        case 'exp':\n          deriveeF = 'e^x'\n          break\n        case 'inv':\n          deriveeF = '\\\\frac{-1}{x^2}'\n          break\n        case 'racine':\n          deriveeF = '\\\\frac{1}{2\\\\sqrt{x}}'\n          break\n        case 'monome':\n          deriveeF = (f as Polynome).derivee().toLatex()\n          break\n      }\n      texteCorr += `Ici : \\\\[\\\\begin{aligned}u(x)&=${exprF}\\\\\\\\ u^\\\\prime(x)&=${deriveeF}\\\\\\\\a&=${a}\\\\\\\\b&=${b}.\\\\end{aligned}\\\\]`\n      texteCorr += `Soit $x$ un réel de l'ensemble de dérivabilité de $${nameF}$. On a, en appliquant la formule ci-dessus : `\n      switch (typeF) {\n        case 'exp':\n          texteCorr += `\\\\[${nameF}'(x)=${rienSi1(a)}e^{${polAff}}.\\\\]`\n          value = `${rienSi1(a)}e^{${polAff}}`\n          break\n        case 'inv':\n          texteCorr += `\\\\[${nameF}'(x)=${a}\\\\times ${`\\\\frac{-1}{(${polAff})^2}`}.\\\\]`\n          texteCorr += \"D'où, en simplifiant : \"\n          texteCorr += `\\\\[${nameF}'(x)=${`\\\\frac{${-a}}{(${polAff})^2}`}.\\\\]`\n          value = `${`\\\\frac{${-a}}{(${polAff})^2}`}`\n          break\n        case 'racine': {\n          texteCorr += `\\\\[${nameF}'(x)=${a}\\\\times${`\\\\frac{1}{2\\\\sqrt{${polAff}}}`}.\\\\]`\n          texteCorr += \"D'où, en simplifiant :\"\n          const num = a % 2 === 0 ? a / 2 : a\n          const den = `${a % 2 === 0 ? '' : '2'}\\\\sqrt{${polAff}}`\n          texteCorr += `\\\\[${nameF}'(x)=${`\\\\frac{${num}}{${den}}`}.\\\\]`\n          value = `${`\\\\frac{${num}}{${den}}`}`\n          break\n        }\n        case 'monome':\n          texteCorr += `\\\\[${nameF}'(x)=${a}\\\\times ${`${(f as Polynome).deg}(${polAff})${(f as Polynome).deg === 2 ? '' : `^{${(f as Polynome).deg - 1}}`}`}.\\\\]`\n          texteCorr += \"D'où, en simplifiant : \"\n          texteCorr += `\\\\[${nameF}'(x)=${a * (f as Polynome).deg}(${polAff})${(f as Polynome).deg === 2 ? '' : `^{${(f as Polynome).deg - 1}}`}.\\\\]`\n          value = `${a * (f as Polynome).deg}(${polAff})${(f as Polynome).deg === 2 ? '' : `^{${(f as Polynome).deg - 1}}`}`\n\n          if ((f as Polynome).deg === 2) {\n            texteCorr += 'On développe et on réduit pour obtenir  :'\n            texteCorr += `\\\\[${nameF}'(x)=${polAff.multiply(2 * a)}\\\\]`\n            value = `${polAff.multiply(2 * a)}`\n          }\n          break\n        default:\n          texteCorr += 'Correction non encore implémentée.'\n          break\n      }\n      texte =\n        texte.replaceAll('\\\\frac', '\\\\dfrac') +\n        ajouteChampTexteMathLive(this, i, '')\n      texteCorr = texteCorr.replaceAll('\\\\frac', '\\\\dfrac')\n\n      if (listeValeurs.indexOf(expression) === -1) {\n        listeValeurs.push(expression)\n        this.listeQuestions[i] = texte\n        this.listeCorrections[i] = texteCorr\n\n        handleAnswers(this, i, { reponse: { value, compare: functionCompare } })\n        i++\n      }\n      cpt++\n    }\n    listeQuestionsToContenu(this)\n  }\n}\n"],"names":["interactifReady","interactifType","titre","uuid","refs","DeriveeComposee","Exercice","nom","index","listeValeurs","listeTypeDeQuestionsDisponibles","gestionnaireFormulaireTexte","listeTypeDeQuestions","combinaisonListes","i","cpt","texte","texteCorr","exprF","expression","coeffs","randint","dictFonctions","Polynome","polAff","a","b","typeF","f","rienSi1","value","nameF","lettreMinusculeDepuisChiffre","deriveeF","num","den","ajouteChampTexteMathLive","handleAnswers","functionCompare","listeQuestionsToContenu"],"mappings":"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"}
var $=Object.defineProperty;var C=(x,e,i)=>e in x?$(x,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):x[e]=i;var m=(x,e,i)=>C(x,typeof e!="symbol"?e+"":e,i);import{r,F as l,p as w,z as F,aF as v,aW as N,aw as M,R as y,aH as g,bI as P,dt as E,Z as b,J as V,du as L,ao as B,V as H}from"./index-Bk_D2JkM.js";import{c as k}from"./outilsMathjs-Bnn2JRQq.js";/* empty css                         */import"./vendors/svelte-DYHmJxok.js";import"./vendors/ua-parser-js-IGXSU7q4.js";import"./vendors/instrumenpoche-BZzrq7Nx.js";import"./vendors/sesajstools-DShOIGrY.js";import"./vendors/ansi-styles-C5UZWym2.js";import"./vendors/decimal.js-16C9rIKp.js";import"./vendors/katex-DoI0QyUo.js";import"./vendors/seedrandom-CNNRxp22.js";import"./vendors/crypto-js-jSnn2346.js";import"./vendors/apigeom-CSdzZNvA.js";import"./vendors/mathjs-oaIJR0Fd.js";import"./vendors/babel_runtime-91SaXnVV.js";import"./vendors/javascript-natural-sort-CZcnv-xn.js";import"./vendors/escape-latex-D2RmlMiC.js";import"./vendors/complex.js-CUuq6tox.js";import"./vendors/typed-function-DLw9ktPY.js";import"./vendors/fraction.js-CAdrwJ1J.js";import"./vendors/tiny-emitter-DDQe9_b_.js";import"./vendors/xstate-CiXeYAGM.js";import"./vendors/earcut-jJVragJp.js";import"./vendors/roughjs-GtHDBO_d.js";import"./json/referentielStaticCH-BvJ6T55O.js";import"./json/referentielStaticFR-CRF_Hjtf.js";import"./json/uuidsToUrlFR-BAWSFQnt.js";import"./vendors/cortex-js_compute-engine-CK5Y8453.js";import"./vendors/mathlive-DtHmjDB4.js";import"./vendors/bugsnag_js-CkCWaA3t.js";import"./vendors/bugsnag_browser-d00kmNSm.js";import"./vendors/big-integer-Cu-VsFVy.js";import"./json/codeToLevelList-Cc4cPPvZ.js";import"./json/codeToThemeList-xPVrG8Yb.js";import"./vendors/mixer_postmessage-rpc-Knoq2TfA.js";import"./vendors/eventemitter3-6E4L_h32.js";import"./vendors/scratchblocks-BVGw3YSR.js";import"./json/scratchFr-DbCU7OC2.js";import"./json/refToUuidFR-BN9okUDO.js";import"./json/refToUuidCH-Bo89B_4U.js";import"./vendors/loadjs-BzrfRgSk.js";import"./vendors/svelte-gestures-u4km4ICX.js";import"./vendors/tw-elements-Cl8JxGRl.js";import"./json/uuidsRessources-CtbQ0Y2s.js";import"./json/referentielProfs-Cey1_luL.js";import"./json/referentielBibliotheque-BkZtqQRj.js";import"./vendors/jszip-CxmGZ1c2.js";import"./vendors/jszip-utils-D5kR6ObF.js";import"./vendors/file-saver-FyOmtGcA.js";import"./vendors/copy-image-clipboard-Cf9y-QAU.js";import"./vendors/qrcode-SHonoxyK.js";import"./vendors/dijkstrajs-D_NXgYpA.js";import"./vendors/svelte-french-toast-BHXPj9o3.js";import"./vendors/svelte-writable-derived-Cn90q3ND.js";import"./vendors/brace-BiTXuHwf.js";import"./json/referentielAppsTierce-SxU58PZT.js";import"./vendors/sortablejs-C83syoBY.js";import"./json/carouselContent-BScQaKkw.js";import"./json/levelsThemesList-HiwLnYG4.js";import"./json/levelsThemesListCH-CWlgSx1G.js";import"./json/referentiel2022CH-BoAqvpTp.js";import"./json/referentiel2022FR-CoYbRrWo.js";import"./json/referentielGeometrieDynamique-BJ2PHXsv.js";import"./json/referentielRessources-BU2QQoSD.js";import"./json/referentielsActivation-CpD_hoec.js";import"./vendors/mathsteps-C-ubxiiN.js";class Ye{constructor({values:e=[],nombreDeValeurs:i=3,rayon:o=2,operation:t="addition",type:u="résultats",typeDonnees:p="entiers",cellulesPreremplies:s=Array.from("abcdefghi"),valeurMax:h=10,indexInconnue:f=999}){m(this,"type");m(this,"operation");m(this,"typeDonnees");m(this,"nombreDeValeurs");m(this,"cellulesPreremplies");m(this,"rayon");m(this,"resultats");m(this,"valeurMax");m(this,"indexInconnue");m(this,"values");m(this,"rayonBoite");if(this.type=u,this.operation=t,this.typeDonnees=p,this.nombreDeValeurs=i,this.cellulesPreremplies=s,this.rayon=o,this.resultats=[],this.valeurMax=h,this.indexInconnue=f,e===void 0||e.length===0){for(e=[];this.valeurMax-2<this.nombreDeValeurs;)this.valeurMax++;const n=r(2,this.valeurMax);for(let c=0;c<this.nombreDeValeurs;c++)switch(this.typeDonnees){case"entiers":e.push(r(2,this.valeurMax,e.map(Number))),this.rayon=2;break;case"entiers relatifs":e.push(r(-this.valeurMax,this.valeurMax,[0,1,...e.map(Number)])),this.rayon=2;break;case"litteraux":{const a=k(`${r(1,this.valeurMax)}x + ${r(1,this.valeurMax)}`,null).printResult;e.push(a),this.rayon=3}break;case"fractions dénominateurs multiples":e.push(new l(r(1,this.valeurMax),n).simplifie()),this.rayon=2.5;break;case"fractions positives dénominateurs premiers":e.push(new l(r(1,this.valeurMax),w([2,3,5,7])).simplifie()),this.rayon=2.5;break;case"fractions positives":e.push(new l(r(1,this.valeurMax),r(2,this.valeurMax)).simplifie()),this.rayon=2.5;break;case"fractions relatives":e.push(new l(r(-this.valeurMax,this.valeurMax,0),r(2,this.valeurMax)).simplifie()),this.rayon=2.5;break}}else for(let n=e.length;n<this.nombreDeValeurs;n++)switch(this.typeDonnees){case"entiers":e.push(r(2,this.valeurMax,e.map(Number)));break;case"entiers relatifs":e.push(r(-this.valeurMax,this.valeurMax,[0,1,...e.map(Number)]));break;case"litteraux":{const c=k(`${r(1,this.valeurMax)}x + ${r(1,this.valeurMax)}`,null).printResult;e.push(c)}break;case"fractions dénominateurs multiples":e.push(new l(r(1,this.valeurMax),e[n-1].d).simplifie());break;case"fractions positives dénominateurs premiers":e.push(new l(r(1,this.valeurMax),w([2,3,5,7])).simplifie());break;case"fractions positives":e.push(new l(r(1,this.valeurMax),r(2,this.valeurMax)).simplifie());break;case"fractions relatives":e.push(new l(r(-this.valeurMax,this.valeurMax,0),r(2,this.valeurMax)).simplifie());break}this.values=e,this.calculeResultats()}calculeResultats(){for(let e=0;e<this.nombreDeValeurs;e++){const i=this.values[e]instanceof l?this.values[e].texFraction.replace("dfrac","frac"):typeof this.values[e]=="number"?String(this.values[e]):String(this.values[e]),o=this.values[(e+1)%this.nombreDeValeurs]instanceof l?this.values[(e+1)%this.nombreDeValeurs].texFraction.replace("dfrac","frac"):typeof this.values[(e+1)%this.nombreDeValeurs]=="number"?String(this.values[(e+1)%this.nombreDeValeurs]):String(this.values[(e+1)%this.nombreDeValeurs]);this.resultats[e]=this.operate(i,o)}}operate(e,i){switch(this.operation){case"addition":if(this.typeDonnees!=="litteraux")if(this.typeDonnees.substring(0,4)==="frac"){const o=e.match(/\{(\d+)\}\{(\d+)\}/);let t,u;o?(t=Number(o[1]),u=Number(o[2])):(t=Number(e),u=1);const p=i.match(/\{(\d+)\}\{(\d+)\}/);let s,h;p?(s=Number(p[1]),h=Number(p[2])):(s=Number(i),h=1);const f=new l(t,u),n=new l(s,h);return f.sommeFraction(n).texFraction}else{const o=Number(e.replace(",",".").replace("{.}",".")),t=Number(i.replace(",",".").replace("{.}","."));return String(o+t)}else return k(`${String(e).replace("\\times","*")}+${String(i).replace("\\times","*")}`,null).printResult;case"multiplication":default:if(this.typeDonnees!=="litteraux")if(this.typeDonnees.substring(0,4)==="frac"){const o=e.match(/\{(\d+)\}\{(\d+)\}/);let t,u;o?(t=Number(o[1]),u=Number(o[2])):(t=Number(e),u=1);const p=i.match(/\{(\d+)\}\{(\d+)\}/);let s,h;p?(s=Number(p[1]),h=Number(p[2])):(s=Number(i),h=1);const f=new l(t,u),n=new l(s,h);return f.produitFraction(n).texFraction}else{const o=Number(e.replace(",",".").replace("{.}",".")),t=Number(i.replace(",",".").replace("{.}","."));return String(o*t)}else return k(`(${String(e).replace("\\times","*")}) * (${String(i).replace("\\times","*")})`,null).printResult}}representation(){this.type==="résultats"?this.rayonBoite=1:this.typeDonnees.substring(0,4)==="frac"?this.rayonBoite=1.5:this.typeDonnees==="litteraux"?this.operation==="multiplication"?this.rayonBoite=3.2:this.rayonBoite=2.5:this.rayonBoite=1;const e=[],i=F(0,0,"",""),o=v(F(this.rayon,0,"",""),i,180/this.nombreDeValeurs-90,"A");for(let t=0,u,p;t<this.nombreDeValeurs;t++){const s=v(o,i,360*t/this.nombreDeValeurs,"M");s.positionLabel="center";const h=N(s,i,180/this.nombreDeValeurs,1.2,"B"),f=N(s,i,-180/this.nombreDeValeurs,1.2,"D"),n=M(s,i,1.5,"C"),c=v(n,i,360/this.nombreDeValeurs,"N"),a=N(s,i,180/this.nombreDeValeurs,2.5,"P"),I=y(i,h,"black"),R=y(h,n,"black"),A=y(n,f,"black"),S=M(n,i,.6),D=M(y(n,a),n,(g(n,a)-this.rayonBoite)/g(n,a));D.styleExtremites="->",D.tailleExtremites=5,D.pointilles=2;const d=M(y(c,a),c,(g(c,a)-this.rayonBoite)/g(c,a));d.styleExtremites="->",d.tailleExtremites=5,d.pointilles=2,this.type==="can1"?u=P():u=P(),e.push(u),e.push(I,R,A,D,d),p=v(E(a,this.rayonBoite,this.nombreDeValeurs),a,360/this.nombreDeValeurs-90),(this.type==="résultats"||this.type==="solutions"||this.type==="can1"||this.type==="can2")&&(this.type==="can1"&&(this.indexInconnue===t||t===(this.indexInconnue-1)%this.nombreDeValeurs||t===(this.indexInconnue+1)%this.nombreDeValeurs)||this.type==="can2"&&(this.indexInconnue===t||t===(this.indexInconnue+1)%this.nombreDeValeurs)||(this.typeDonnees!=="litteraux"&&this.typeDonnees.substring(0,4)!=="frac"?e.push(b(String(this.values[t]),s,0,"black",1,"milieu",!0)):this.typeDonnees!=="litteraux"?this.values[t]instanceof l?e.push(V(this.values[t].texFSD,s.x,s.y,"black",0,0,"none",8)):e.push(b(String(this.values[t]),s,0,"black",1,"milieu",!0)):e.push(L(String(this.values[t]),S.x,S.y,"black",50,12,"none",8,{anchor:"center"}))),this.type==="can1"&&this.indexInconnue===t&&e.push(b(B(t+1),s))),this.type==="solutions"||this.type==="valeurs"||this.type==="can1"||this.type==="can2"?(this.type==="can2"&&this.indexInconnue===t||(this.typeDonnees!=="litteraux"&&this.typeDonnees.substring(0,4)!=="frac"?e.push(b(this.resultats[t],a,0,"black",1,"milieu",!0)):this.resultats[t]instanceof l?e.push(V(this.resultats[t].texFSD,a.x,a.y,"black",0,0,"none",8)):e.push(V(String(this.resultats[t]),a.x,a.y,"black",0,0,"none",8))),this.type==="can2"&&this.indexInconnue===t?e.push(b(B(t+1),a)):(p.color=H("black"),this.type==="valeurs"&&e.push(b(B(t+1),s)))):this.cellulesPreremplies[t]instanceof l?e.push(b(this.cellulesPreremplies[t].texFSD,a,0,"black",1,"milieu",!0)):e.push(b(String(this.cellulesPreremplies[t]),a,0,"black",1,"milieu",!0)),e.push(p)}return e}}export{Ye as Rose};
//# sourceMappingURL=_Rose-BdNY2hrB.js.map

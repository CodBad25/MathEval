{"version":3,"file":"2G12-7-BWWZ5Z0Q.js","sources":["../../src/exercices/2e/2G12-7.ts"],"sourcesContent":["import Exercice from '../Exercice'\nimport { point } from '../../lib/2d/points'\nimport { gestionnaireFormulaireTexte, randint } from '../../modules/outils'\nimport { choice } from '../../lib/outils/arrayOutils'\nimport { choisitLettresDifferentes } from '../../lib/outils/aleatoires'\nimport { Matrice } from '../../lib/mathFonctions/Matrice'\nimport Figure from 'apigeom'\nimport type PointApigeom from 'apigeom/src/elements/points/Point'\nimport figureApigeom from '../../lib/figureApigeom'\nimport { wrapperApigeomToMathalea } from '../../lib/apigeom/apigeomZoom'\nimport { context } from '../../modules/context'\nimport { similitude } from '../../lib/2d/transformations'\nimport { fraction } from '../../modules/fractions'\nimport type FractionEtendue from '../../modules/FractionEtendue'\n\nexport const interactifReady = true\nexport const interactifType = 'custom'\nexport const uuid = 'df171'\nexport const titre =\n  'Placer un point dans un rep√®re orthogonal, norm√© ou quelconque'\nexport const refs = {\n  'fr-fr': ['2G12-7'],\n  'fr-ch': [],\n}\n\n/**\n * @title Rep√©rage 2e bis\n * @author Jean-Claude Lhote\n * On se propose de placer des points aux coordonn√©es donn√©es dans un rep√®re orthogonal, norm√© ou quelconque.\n */\nexport default class BetaReperage2e extends Exercice {\n  figuresApiGeom!: Figure[]\n  labelsPoints!: string[][]\n  X!: number[][]\n  Y!: number[][]\n  constructor() {\n    super()\n    this.nbQuestions = 1\n    this.figuresApiGeom = []\n    this.labelsPoints = []\n    this.X = []\n    this.Y = []\n    this.exoCustomResultat = true\n\n    this.besoinFormulaireTexte = [\n      'Type de rep√®re',\n      [\n        'Nombres s√©par√©s par des tirets  :',\n        '1 : Orthogonal',\n        '2 : Norm√©',\n        '3 : Quelconque',\n        '4 : M√©lange',\n      ].join('\\n'),\n    ]\n    this.sup = '1'\n    this.besoinFormulaire2CaseACocher = [\n      'Pr√©sence de coordonn√©es fractionnaires',\n      false,\n    ]\n    this.sup2 = false\n    this.besoinFormulaire3Numerique = ['Nombre de points √† trouver/placer', 3]\n    this.sup3 = 3\n    this.comment = `Exercice fait suite √† une demande sur la forge de Carole Feug√®re.<br> Il y a trois types de rep√®res, le premier est orthogonal mais pas norm√©, le deuxi√®me est norm√© mais pas orthonormal, le troisi√®me n'est ni norm√© ni orthogonal.<br>\n    Les points √† Placer sont choisis al√©atoirement √† coordonn√©es enti√®res. On peut choisir le nombre de points √† Placer de 1 √† 3.`\n  }\n\n  nouvelleVersion() {\n    const listeTypeDeReperes = gestionnaireFormulaireTexte({\n      saisie: this.sup,\n      min: 1,\n      max: 3,\n      melange: 4,\n      nbQuestions: this.nbQuestions,\n      defaut: 4,\n    })\n    const x: FractionEtendue[][] = []\n    const y: FractionEtendue[][] = []\n    const points: PointApigeom[][] = []\n\n    for (let i = 0; i < this.nbQuestions; ) {\n      const options = {}\n      this.figuresApiGeom[i] = new Figure(\n        Object.assign(options, {\n          xMin: -10,\n          yMin: -10,\n          width: 300,\n          height: 300,\n          scale: 0.5,\n        }),\n      )\n      this.figuresApiGeom[i].options.latexHeight = 20\n      this.figuresApiGeom[i].options.labelDxInPixels = 20\n      this.figuresApiGeom[i].options.labelDyInPixels = 20\n      this.figuresApiGeom[i].setToolbar({\n        tools: ['NAME_POINT', 'POINT_INTERSECTION', 'UNDO', 'REDO', 'REMOVE'],\n        position: 'top',\n      })\n      const fig = this.figuresApiGeom[i]\n      x[i] = []\n      y[i] = []\n      this.X[i] = []\n      this.Y[i] = []\n      points[i] = []\n      let coordsI: [number, number]\n      let coordsK: [number, number]\n      let matrice: Matrice\n      let matriceInverse: Matrice | undefined\n      const listeNoms = choisitLettresDifferentes(3 + this.sup3)\n      const [labelI, labelK, labelO] = listeNoms.slice(0, 3)\n      this.labelsPoints[i] = listeNoms.slice(3)\n      const pointO = fig.create('Point', {\n        x: 0,\n        y: 0,\n        label: labelO,\n        labelDxInPixels: -20,\n        labelDyInPixels: -20,\n        color: 'black',\n        shape: 'o',\n        sizeInPixels: 2,\n        isSelectable: false,\n      })\n      do {\n        switch (listeTypeDeReperes[i]) {\n          case 1:\n            coordsI = [choice([1.5, 2.5]), 0]\n            coordsK = [0, choice([1, 2])]\n            break\n          case 2:\n            {\n              const o = point(pointO.x, pointO.y)\n              const I = similitude(\n                point(randint(6, 8) * 0.2, 0),\n                o,\n                randint(-20, 20),\n                1,\n              )\n              coordsI = [I.x, I.y]\n              const K = similitude(point(...coordsI), o, randint(60, 80), 1)\n              coordsK = [K.x, K.y]\n            }\n            break\n          case 3:\n          default:\n            {\n              const o = point(pointO.x, pointO.y)\n              coordsI = [1.5, randint(-4, 4, [0]) * 0.2]\n              const K = similitude(\n                point(...coordsI),\n                o,\n                randint(60, 80),\n                choice([0.6, 0.7, 1.25, 1.3, 1.4]),\n              )\n              coordsK = [K.x, K.y]\n            }\n            break\n        }\n        matrice = new Matrice([\n          [coordsI[0], coordsK[0]],\n          [coordsI[1], coordsK[1]],\n        ])\n        matriceInverse = matrice.inverse()\n      } while (matriceInverse == null)\n\n      const pointI = fig.create('Point', {\n        x: coordsI[0],\n        y: coordsI[1],\n        label: labelI,\n        labelDxInPixels: 0,\n        labelDyInPixels: -20,\n        shape: 'o',\n        color: 'black',\n        sizeInPixels: 2,\n        isSelectable: false,\n      })\n      const pointK = fig.create('Point', {\n        x: coordsK[0],\n        y: coordsK[1],\n        label: labelK,\n        labelDxInPixels: -20,\n        labelDyInPixels: 0,\n        shape: 'o',\n        color: 'black',\n        sizeInPixels: 2,\n        isSelectable: false,\n      })\n      const IPrime = fig.create('Point', {\n        x: pointI.x * 4,\n        y: pointI.y * 4,\n        isVisible: false,\n        isSelectable: false,\n      })\n      const KPrime = fig.create('Point', {\n        x: pointK.x * 3,\n        y: pointK.y * 3,\n        isVisible: false,\n        isSelectable: false,\n      })\n      const INeg = fig.create('Point', {\n        x: -IPrime.x,\n        y: -IPrime.y,\n        isVisible: false,\n        isSelectable: false,\n      })\n      const KNeg = fig.create('Point', {\n        x: -KPrime.x,\n        y: -KPrime.y,\n        isVisible: false,\n        isSelectable: false,\n      })\n\n      fig.create('Segment', {\n        point1: INeg,\n        point2: IPrime,\n        shape: '->',\n        color: 'black',\n        thickness: 2,\n      })\n      fig.create('Segment', {\n        point1: KNeg,\n        point2: KPrime,\n        shape: '->',\n        color: 'black',\n        thickness: 2,\n      })\n\n      /*\n      Construire la grille\n      */\n      let denX: number = 1\n      let denY: number = 1\n      if (this.sup2) {\n        denX = choice([1, 2, 3])\n        denY = choice([1, 2, 3], [denX])\n      }\n\n      for (let xx = -4; xx < 4 + 1 / denX; xx += 1 / denX) {\n        const coordL = matrice.multiply([xx, -3]).toArray() as [number, number]\n        const coordH = matrice.multiply([xx, 3]).toArray() as [number, number]\n        const pointL = fig.create('Point', {\n          x: coordL[0],\n          y: coordL[1],\n          label: '',\n          isSelectable: false,\n          isVisible: false,\n        })\n        const pointH = fig.create('Point', {\n          x: coordH[0],\n          y: coordH[1],\n          label: '',\n          isSelectable: false,\n          isVisible: false,\n        })\n        if (Math.abs(xx) > 0.1)\n          fig.create('Segment', {\n            point1: pointL,\n            point2: pointH,\n            color: 'gray',\n            thickness: 0.5,\n            opacity: 0.5,\n          })\n        for (let yy = -3; yy < 3 + 1 / denY; yy += 1 / denY) {\n          if (xx === -4) {\n            const coordsL = matrice.multiply([-4, yy]).toArray() as [\n              number,\n              number,\n            ]\n            const coordsR = matrice.multiply([4, yy]).toArray() as [\n              number,\n              number,\n            ]\n            const pointL = fig.create('Point', {\n              x: coordsL[0],\n              y: coordsL[1],\n              label: '',\n              isSelectable: false,\n              isVisible: false,\n            })\n            const pointR = fig.create('Point', {\n              x: coordsR[0],\n              y: coordsR[1],\n              label: '',\n              isSelectable: false,\n              isVisible: false,\n            })\n            if (Math.abs(yy) > 0.1)\n              fig.create('Segment', {\n                point1: pointL,\n                point2: pointR,\n                color: 'gray',\n                thickness: 0.5,\n                opacity: 0.5,\n              })\n          }\n        }\n      }\n\n      const figureCorrection = new Figure(\n        Object.assign(options, {\n          xMin: -10,\n          yMin: -10,\n          width: 300,\n          height: 300,\n          scale: 0.5,\n        }),\n      )\n      figureCorrection.options.latexHeight = 20\n      figureCorrection.options.labelDxInPixels = 20\n      figureCorrection.options.labelDyInPixels = 20\n      figureCorrection.loadJson(JSON.parse(this.figuresApiGeom[i].json))\n\n      for (let k = 0; k < this.sup3; k++) {\n        do {\n          x[i][k] = fraction(randint(-3 * denX, 3 * denX, [0]), denX)\n          y[i][k] = fraction(randint(-2 * denY, 2 * denY, [0]), denY)\n        } while (\n          x[i]\n            .slice(0, k)\n            .map((el) => el.num)\n            .includes(x[i][k].num) &&\n          y[i]\n            .slice(0, k)\n            .map((el) => el.num)\n            .includes(y[i][k].num)\n        )\n        const [mdx, mdy] = matrice\n          .multiply([x[i][k].valeurDecimale, y[i][k].valeurDecimale])\n          .toArray()\n        this.X[i][k] = mdx\n        this.Y[i][k] = mdy\n\n        figureCorrection.create('Point', {\n          x: mdx,\n          y: mdy,\n          label: listeNoms[3 + k],\n          labelDxInPixels: x[i][k].valeurDecimale < 0 ? -20 : 20,\n          labelDyInPixels: y[i][k].valeurDecimale < 0 ? -20 : 20,\n        })\n      }\n\n      let question: string = ''\n      if (context.isHtml) {\n        if (this.interactif) {\n          question = `Placer les points $${this.labelsPoints[i].map((el, k) => `${el}(${x[i][k].texFractionSimplifiee};${y[i][k].texFractionSimplifiee})`).join('$, $')}$ dans le rep√®re $(${labelO},${labelI},${labelK})$.<br>`\n          question += figureApigeom({\n            exercice: this,\n            figure: this.figuresApiGeom[i],\n            i,\n            isDynamic: true,\n            defaultAction: 'NAME_POINT',\n          })\n        } else {\n          question = `Placer les points $${this.labelsPoints[i].map((el, k) => `${el}(${x[i][k].texFractionSimplifiee};${y[i][k].texFractionSimplifiee})`).join('$, $')}$ dans le rep√®re $(${labelO},${labelI},${labelK})$.<br>`\n          question += wrapperApigeomToMathalea(this.figuresApiGeom[i])\n        }\n      } else {\n        question = `Placer les points $${this.labelsPoints[i].map((el, k) => `${el}(${x[i][k].texFractionSimplifiee};${y[i][k].texFractionSimplifiee})`).join('$, $')}$ dans le rep√®re $(${labelO},${labelI},${labelK})$.\\\\\\\\`\n        question += this.figuresApiGeom[i].tikz()\n      }\n      let reponse = `Les points $${this.labelsPoints[i].map((el, k) => `${el}(${x[i][k].texFractionSimplifiee};${y[i][k].texFractionSimplifiee})`).join('$, $')}$ dans le rep√®re $(${labelO},${labelI},${labelK})$ :<br>`\n\n      reponse += context.isHtml\n        ? figureApigeom({\n            exercice: this,\n            figure: figureCorrection,\n            i,\n            idAddendum: 'correction',\n            isDynamic: false,\n          })\n        : figureCorrection.tikz()\n      if (\n        this.questionJamaisPosee(i, ...x[i], ...y[i], ...coordsI, ...coordsK)\n      ) {\n        this.listeQuestions[i] = question\n        this.listeCorrections[i] = reponse\n        i++\n      }\n    }\n  }\n\n  correctionInteractive = (i?: number) => {\n    if (i === undefined) return ['KO']\n    const result: ('OK' | 'KO')[] = []\n    const figure = this.figuresApiGeom[i]\n    // Sauvegarde de la r√©ponse pour Capytale\n    if (this.answers === undefined) this.answers = {}\n    this.answers[figure.id] = figure.json\n    figure.isDynamic = false\n    figure.divButtons.style.display = 'none'\n    figure.divUserMessage.style.display = 'none'\n    const divFeedback = document.querySelector(\n      `#feedback${`Ex${this.numeroExercice}Q${i}`}`,\n    )\n    for (let j = 0; j < this.labelsPoints[i].length; j++) {\n      const label = this.labelsPoints[i][j]\n      const { isValid, message, points } = figure.checkCoords({\n        checkOnlyAbscissa: false,\n        label,\n        x: this.X[i][j],\n        y: this.Y[i][j],\n      })\n      const point = points[0]\n      if (isValid) {\n        result.push('OK')\n        point.color = 'green'\n        point.colorLabel = 'green'\n        point.thickness = 3\n      } else {\n        result.push('KO')\n        if (point !== undefined) {\n          point.color = 'red'\n          point.colorLabel = 'red'\n          point.color = 'red'\n          point.thickness = 3\n        }\n      }\n      if (divFeedback != null && message.length > 0) {\n        const p = document.createElement('p')\n        p.innerText = message\n        divFeedback.appendChild(p)\n      }\n    }\n    if (divFeedback != null) {\n      if (divFeedback?.innerHTML === '') {\n        divFeedback.innerHTML = 'üòé'\n      } else {\n        const p = document.createElement('p')\n        p.innerText = '‚òπÔ∏è'\n        divFeedback.insertBefore(p, divFeedback.firstChild)\n      }\n    }\n    return result\n  }\n}\n"],"names":["interactifReady","interactifType","uuid","titre","refs","BetaReperage2e","Exercice","__publicField","i","result","figure","divFeedback","j","label","isValid","message","points","point","p","listeTypeDeReperes","gestionnaireFormulaireTexte","x","y","options","Figure","fig","coordsI","coordsK","matrice","matriceInverse","listeNoms","choisitLettresDifferentes","labelI","labelK","labelO","pointO","choice","o","I","similitude","randint","K","Matrice","pointI","pointK","IPrime","KPrime","INeg","KNeg","denX","denY","xx","coordL","coordH","pointL","pointH","yy","coordsL","coordsR","pointR","figureCorrection","k","fraction","el","mdx","mdy","question","context","figureApigeom","wrapperApigeomToMathalea","reponse"],"mappings":"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"}
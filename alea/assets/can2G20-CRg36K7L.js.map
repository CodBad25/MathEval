{"version":3,"file":"can2G20-CRg36K7L.js","sources":["../../src/exercices/can/2e/can2G20.ts"],"sourcesContent":["import { droite } from '../../../lib/2d/droites'\nimport { milieu, point, tracePoint } from '../../../lib/2d/points'\nimport { repere } from '../../../lib/2d/reperes'\nimport { segment } from '../../../lib/2d/segmentsVecteurs'\nimport { latex2d } from '../../../lib/2d/textes'\nimport { ecritureAlgebrique, rienSi1 } from '../../../lib/outils/ecritures'\nimport { miseEnEvidence } from '../../../lib/outils/embellissements'\nimport ExerciceSimple from '../../ExerciceSimple'\nimport { mathalea2d } from '../../../modules/2dGeneralites'\nimport { randint } from '../../../modules/outils'\nimport FractionEtendue from '../../../modules/FractionEtendue'\nimport { KeyboardType } from '../../../lib/interactif/claviers/keyboard'\nexport const titre = 'Déterminer une équation de droite (graphique)'\nexport const interactifReady = true\nexport const interactifType = 'mathLive'\nexport const dateDePublication = '15/11/2022'\nexport const dateDeModifImportante = '08/07/2025'\n/**\n * Modèle d'exercice très simple pour la course aux nombres\n * @author Gilles Mora\n\n *\n*/\n\nexport const uuid = '1f967'\n\nexport const refs = {\n  'fr-fr': ['can2G20'],\n  'fr-ch': ['11QCM-8', '1mQCM-11'],\n}\nexport default class EquationDroite extends ExerciceSimple {\n  constructor() {\n    super()\n    this.typeExercice = 'simple'\n    this.nbQuestions = 1\n    this.versionQcmDisponible = true\n    this.formatChampTexte = KeyboardType.clavierDeBaseAvecFraction\n  }\n\n  nouvelleVersion() {\n    const xA = 0\n    const yA = randint(1, 4)\n    const xB = randint(-5, 5, 0)\n    const yB = randint(0, 4)\n\n    const o = latex2d('\\\\text{O}', -0.3, -0.3, { letterSize: 'scriptsize' })\n    const A = point(xA, yA)\n    const B = point(xB, yB)\n\n    // Pour l'affichage du coefficient directeur, on utilise toujours le point le plus à gauche\n    let pointRef, pointCible\n    if (xA < xB) {\n      // A est à gauche, B est à droite\n      pointRef = A\n      pointCible = B\n    } else {\n      // B est à gauche, A est à droite\n      pointRef = B\n      pointCible = A\n    }\n\n    const pointHorizontal = point(pointCible.x, pointRef.y)\n    const sHorizontal = segment(pointRef, pointHorizontal)\n    const sVertical = segment(pointCible, pointHorizontal)\n\n    // On utilise toujours xB - xA et yB - yA pour la fraction (cohérent avec l'équation finale)\n    const maFraction = new FractionEtendue(yB - yA, xB - xA)\n\n    sVertical.epaisseur = 2\n    sVertical.pointilles = 5\n    sHorizontal.epaisseur = 2\n    sHorizontal.pointilles = 5\n\n    const lA = latex2d('A', xA, yA + 0.5, { letterSize: 'scriptsize' })\n    const traceA = tracePoint(A, 'black')\n    const lB = latex2d('B', xB, yB + 0.5, { letterSize: 'scriptsize' })\n\n    // Labels pour les déplacements (on affiche la valeur absolue si nécessaire)\n    const deltaX = pointCible.x - pointRef.x\n    const deltaY = pointCible.y - pointRef.y\n    const lHorizontal = latex2d(\n      `${deltaX}`,\n      milieu(pointRef, pointHorizontal).x,\n      pointRef.y + 0.3,\n      { color: 'red', letterSize: 'scriptsize' },\n    )\n    const lVertical = latex2d(\n      `${deltaY}`,\n      pointCible.x + 0.5,\n      milieu(pointCible, pointHorizontal).y,\n      { color: 'blue', letterSize: 'scriptsize' },\n    )\n\n    const traceB = tracePoint(B, 'black')\n    const d = droite(A, B, '', 'blue')\n    d.epaisseur = 2\n    traceA.taille = 3\n    traceA.epaisseur = 2\n    traceB.taille = 3\n    traceB.epaisseur = 2\n\n    const xmin = -6\n    const ymin = -1\n    const xmax = 6\n    const ymax = 5\n    const r1 = repere({\n      xMin: xmin,\n      xMax: xmax,\n      xUnite: 1,\n      yMin: ymin,\n      yMax: ymax,\n      yUnite: 1,\n      thickHauteur: 0.1,\n      xLabelMin: xmin + 1,\n      xLabelMax: xmax - 1,\n      yLabelMax: ymax - 1,\n      yLabelMin: ymin + 1,\n      axeXStyle: '->',\n      axeYStyle: '->',\n      yLabelDistance: 1,\n      yLabelEcart: 0.3,\n      grilleSecondaire: true,\n      grilleSecondaireYDistance: 1,\n      grilleSecondaireXDistance: 1,\n      grilleSecondaireYMin: ymin - 0.1,\n      grilleSecondaireYMax: ymax + 0.1,\n      grilleSecondaireXMin: xmin - 0.1,\n      grilleSecondaireXMax: xmax + 0.1,\n    })\n\n    const objet = mathalea2d(\n      {\n        xmin,\n        xmax,\n        ymin: ymin - 0.25,\n        ymax: ymax + 0.25,\n        pixelsParCm: 30,\n        scale: 0.75,\n        style: 'margin: auto',\n      },\n      d,\n      r1,\n      traceA,\n      traceB,\n      o,\n    )\n    const objetC = mathalea2d(\n      {\n        xmin,\n        xmax,\n        ymin,\n        ymax: ymax + 0.25,\n        pixelsParCm: 30,\n        scale: 0.75,\n        style: 'margin: auto',\n      },\n      d,\n      r1,\n      traceA,\n      lA,\n      lB,\n      traceB,\n      o,\n      sHorizontal,\n      sVertical,\n      lHorizontal,\n      lVertical,\n    )\n\n    this.question = this.versionQcm\n      ? ''\n      : \"Donner l'équation réduite de la droite.<br>\"\n    this.question += `${objet}`\n    this.question += this.versionQcm\n      ? \"<br>L'équation réduite de cette droite est : \"\n      : ''\n\n    if (yB === yA) {\n      this.reponse = this.versionQcm\n        ? `$y= ${yA}$`\n        : [`y=${yA}`, `y=0x + ${yA}`, `y=0 \\\\cdot x + ${yA}`]\n      this.correction = `La droite est horizontale. On en déduit que son coefficient directeur est $m=0$.<br>\n        Son ordonnée à l'origine est $${yA}$, ainsi l'équation réduite de la droite est $${miseEnEvidence(`y=${yA}`)}$.`\n      this.distracteurs = [`$y=x + ${yA}$`, `$x=${yA}$`, `$y=${rienSi1(yA)}x$`]\n    } else {\n      // On utilise toujours le déplacement affiché graphiquement pour la correction\n      this.correction = `Le coefficient directeur $m$ de la droite $(AB)$ est donné par : <br>\n$m=\\\\dfrac{${miseEnEvidence(deltaY, 'blue')}}{${miseEnEvidence(deltaX, 'red')}}${maFraction.texSimplificationAvecEtapes()}$.<br>`\n\n      if ((yB - yA) / (xB - xA) === 1) {\n        this.correction += `Son ordonnée à l'origine est $${yA}$, ainsi l'équation réduite de la droite est $${miseEnEvidence(`y=x${yA === 0 ? '' : `${ecritureAlgebrique(yA)}`}`)}$.`\n      } else if ((yB - yA) / (xB - xA) === -1) {\n        this.correction += `Son ordonnée à l'origine est $${yA}$, ainsi l'équation réduite de la droite est $${miseEnEvidence(`y=-x${yA === 0 ? '' : `${ecritureAlgebrique(yA)}`}`)}$.`\n      } else {\n        this.correction += `Son ordonnée à l'origine est $${yA}$, ainsi l'équation réduite de la droite est $${miseEnEvidence(`y=${maFraction.texFractionSimplifiee}x${yA === 0 ? '' : `${ecritureAlgebrique(yA)}`}`)}$.`\n      }\n      this.correction += `<br>${objetC}<br>`\n\n      // Les réponses sont toujours basées sur la vraie équation y = mx + p où m = (yB-yA)/(xB-xA) et p = yA\n      this.reponse = this.versionQcm\n        ? `$y= ${maFraction.texFractionSimplifiee}x${yA === 0 ? '' : ` ${ecritureAlgebrique(yA)}`}$`\n        : [\n            `y=${maFraction.texFraction}x${ecritureAlgebrique(yA)}`,\n            `y=\\\\frac{${yB - yA}}{${xB - xA}}x${ecritureAlgebrique(yA)}`,\n            `y=\\\\frac{${yA - yB}}{${xA - xB}}x${ecritureAlgebrique(yA)}`,\n          ]\n\n      // Distracteurs basés sur des erreurs classiques\n      this.distracteurs = [\n        `$y= ${maFraction.multiplieEntier(-1).texFractionSimplifiee}x${ecritureAlgebrique(yA)}$`, // Coefficient opposé\n        `$y=${yA}$`, // Droite horizontale (erreur)\n        `$y= ${new FractionEtendue(xB - xA, yB - yA).texFractionSimplifiee}x${ecritureAlgebrique(yA)}$`, // Fraction inversée\n      ]\n    }\n\n    this.canEnonce = this.question\n    this.canReponseACompleter = ''\n  }\n}\n"],"names":["titre","interactifReady","interactifType","dateDePublication","dateDeModifImportante","uuid","refs","EquationDroite","ExerciceSimple","KeyboardType","yA","randint","xB","yB","o","latex2d","A","point","B","pointRef","pointCible","pointHorizontal","sHorizontal","segment","sVertical","maFraction","FractionEtendue","lA","traceA","tracePoint","lB","deltaX","deltaY","lHorizontal","milieu","lVertical","traceB","d","droite","xmin","ymin","xmax","ymax","r1","repere","objet","mathalea2d","objetC","miseEnEvidence","rienSi1","ecritureAlgebrique"],"mappings":"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"}
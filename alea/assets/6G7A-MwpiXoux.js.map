{"version":3,"file":"6G7A-MwpiXoux.js","sources":["../../src/exercices/6e/6G7A.ts"],"sourcesContent":["import Figure from 'apigeom'\nimport { reflectOverLineCoord } from 'apigeom/src/elements/calculus/Coords'\nimport type Line from 'apigeom/src/elements/lines/Line'\nimport type PointApigeom from 'apigeom/src/elements/points/Point'\nimport { codageAngleDroit } from '../../lib/2d/angles'\nimport { cercleCentrePoint } from '../../lib/2d/cercle'\nimport { codageMilieu } from '../../lib/2d/codages'\nimport {\n  Droite,\n  droiteHorizontaleParPoint,\n  droiteParPointEtPente,\n  droiteParPointEtPerpendiculaire,\n  droiteVerticaleParPoint,\n} from '../../lib/2d/droites'\nimport { point, Point, pointSurDroite, TracePoint } from '../../lib/2d/points'\nimport { grille } from '../../lib/2d/reperes'\nimport {\n  labelPoint,\n  latexParCoordonnees,\n  LatexParCoordonnees,\n} from '../../lib/2d/textes'\nimport { projectionOrtho, symetrieAxiale } from '../../lib/2d/transformations'\nimport figureApigeom from '../../lib/figureApigeom'\nimport {\n  choice,\n  combinaisonListes,\n  shuffle,\n} from '../../lib/outils/arrayOutils'\nimport { creerNomDePolygone } from '../../lib/outils/outilString'\nimport {\n  colorToLatexOrHTML,\n  mathalea2d,\n  Vide2d,\n  type NestedObjetMathalea2dArray,\n} from '../../modules/2dGeneralites'\nimport { context } from '../../modules/context'\nimport { egal, randint } from '../../modules/outils'\nimport Exercice from '../Exercice'\n\nexport const titre = 'Construire des symétriques de points'\nexport const dateDePublication = '07/01/2024'\nexport const dateDeModifImportante = '15/04/2025'\nexport const interactifReady = true\nexport const interactifType = 'custom'\n\nexport const uuid = '26ea4'\n\nexport const refs = {\n  'fr-fr': ['6G7A'],\n  'fr-2016': ['6G24-0'],\n  'fr-ch': ['9ES6-11'],\n}\n\n/**\n * Fonction pour positionner le label\n * @param pointA\n * @param pointB\n */\nfunction positionneLabel(pointA: Point, pointB: Point) {\n  if (pointA.x < pointB.x) return 'above left'\n  else if (pointA.x > pointB.x) return 'below right'\n  else {\n    if (pointA.y > pointB.y) return 'above left'\n    else return 'below right'\n  }\n}\n\n/**\n * supprime les points hors cadre\n * @param points\n */\nfunction deletePoints(points: { x: number; y: number }[], type: number) {\n  const newPoints: { x: number; y: number }[] = []\n  const typeV = [\n    { x: 1, y: 0 },\n    { x: 0, y: 1 },\n    { x: 1, y: 1 },\n    { x: 1, y: -1 },\n  ]\n  for (const point of points) {\n    if (\n      point.x >= -7.5 &&\n      point.x <= 7.5 &&\n      point.y >= -7.5 &&\n      point.y <= 7.5 &&\n      point.x !== point.y &&\n      point.x !== -point.y\n    ) {\n      if (\n        !newPoints.some(\n          (e) =>\n            (e.x === point.x && e.y === point.y) ||\n            typeV[type].x * point.x + typeV[type].y * point.y ===\n              typeV[type].x * e.x + typeV[type].y * e.y,\n        )\n      ) {\n        newPoints.push(point)\n      }\n    }\n  }\n  return newPoints\n}\n\n/**\n * Construction interactive de symétriques de points\n * @author Jean-Claude Lhote\n */\nclass ConstrctionsSymetriquesPoints extends Exercice {\n  figuresApiGeom!: Figure[]\n  nbPoints!: number\n  antecedents!: object[][]\n  labels!: string[][]\n  d!: Line[]\n  exoCustomResultat: boolean\n  constructor() {\n    super()\n    this.exoCustomResultat = true\n    this.nbQuestions = 1\n    this.besoinFormulaireNumerique = [\n      \"Type d'axes\",\n      5,\n      '1 : Axe horizontal\\n2 : Axe vertical\\n3 : Axe oblique /\\n4 : Axe oblique \\\\\\n5 : Mélange',\n    ]\n    this.besoinFormulaire2Numerique = [\n      \"Type d'aide\",\n      4,\n      'Quadrillages\\nPerpendiculaires en pointillés\\nMarques de compas\\nAucune',\n    ]\n    this.besoinFormulaire3Numerique = [\n      'Nombre de points à construire (5 maxi)',\n      5,\n    ]\n    this.sup = 1\n    this.sup2 = 1\n    this.sup3 = 3\n    this.nbPoints = 3\n  }\n\n  nouvelleVersion() {\n    const marks: string[] = ['//', '///', 'x', 'O', '|||']\n    const colors: string[] = context.isHtml\n      ? ['red', 'green', 'purple', 'blue', 'gray']\n      : ['gray', 'gray', 'gray', 'gray', 'gray']\n    this.answers = {}\n\n    let choixDeLaxe: number[] = []\n    this.figuresApiGeom = []\n    if (this.sup === 5) {\n      choixDeLaxe = combinaisonListes([1, 2, 3, 4], this.nbQuestions)\n    } else {\n      choixDeLaxe = combinaisonListes([this.sup], this.nbQuestions)\n    }\n    this.nbPoints = Math.max(Math.min(this.sup3, 5), 1) // on veut entre 1 et 5 points à construire\n    this.antecedents = []\n    this.labels = []\n    this.d = []\n    for (let i = 0; i < this.nbQuestions; i++) {\n      let enonce = ''\n      let antecedents: Array<Point> = []\n      const middle: Point[] = []\n      const symetriques: Point[] = []\n      const objets: NestedObjetMathalea2dArray = []\n      let objetsCorrection: NestedObjetMathalea2dArray = []\n      const d: Droite[] = []\n      let labelD!: LatexParCoordonnees | Vide2d\n\n      objets.length = 0\n      objetsCorrection.length = 0\n      middle.length = 0\n      symetriques.length = 0\n      antecedents.length = 0\n      let nuage: { x: number; y: number }[] = []\n      let nuageSaved: { x: number; y: number }[] = []\n      // On construit les points\n      do {\n        nuage = []\n        for (let x = -4; x < 4; x += 1) {\n          nuage.push({ y: (randint(1, 3) * 2 + 1) * choice([-0.5, 0.5]), x })\n        }\n        // On transforme les points en fonction du choix de l'axe\n        if (choixDeLaxe[i] === 1) {\n          for (let n = 0; n < nuage.length; n++) {\n            nuage[n] = { x: nuage[n].x * 2, y: nuage[n].y * 2 }\n          }\n        } else if (choixDeLaxe[i] === 2) {\n          for (let n = 0; n < nuage.length; n++) {\n            nuage[n] = { x: nuage[n].y * 2, y: nuage[n].x * 2 }\n          }\n        } else if (choixDeLaxe[i] === 3) {\n          for (let n = 0; n < nuage.length; n++) {\n            nuage[n] = {\n              x: Math.round(Math.sqrt(2) * (nuage[n].x - nuage[n].y)),\n              y: Math.round(Math.sqrt(2) * (nuage[n].x + nuage[n].y)),\n            }\n          }\n        } else {\n          for (let n = 0; n < nuage.length; n++) {\n            nuage[n] = {\n              x: Math.round(Math.sqrt(2) * (nuage[n].x + nuage[n].y)),\n              y: Math.round(Math.sqrt(2) * (nuage[n].y - nuage[n].x)),\n            }\n          }\n        }\n        nuageSaved.push(...nuage)\n        nuageSaved = deletePoints(nuageSaved, choixDeLaxe[i] - 1)\n      } while (nuageSaved.length < this.nbPoints)\n      nuageSaved = shuffle(nuageSaved)\n      nuage = nuageSaved.slice(0, this.nbPoints)\n      this.labels[i] = creerNomDePolygone(nuage.length).split('')\n      // Rémi : avant, les lettres étaient au hasard avec Array.from(choisitLettresDifferentes(nuage.length, 'Q', true))\n      // Maintenant, je les mets dans l'ordre alphabétique pour faciliter l'interactivité\n\n      // Les antécédents sont des points nommés\n      antecedents = shuffle(nuage).map((el, k) =>\n        point(el.x, el.y, this.labels[i][k]),\n      ) // on mélange et on ne prendra que les nbPoints premiers\n      const O = point(0, 0, '', 'above')\n\n      if (choixDeLaxe[i] === 1) {\n        d[i] = droiteHorizontaleParPoint(O) as Droite\n        labelD = latexParCoordonnees('(d)', -7.5, -0.8, 'black', 0, 0, '', 8)\n      } else if (choixDeLaxe[i] === 2) {\n        d[i] = droiteVerticaleParPoint(O) as Droite\n        labelD = latexParCoordonnees('(d)', -0.8, -7.5, 'black', 0, 0, '', 8)\n      } else if (choixDeLaxe[i] === 3) {\n        d[i] = droiteParPointEtPente(O, 1) as Droite\n        labelD = latexParCoordonnees('(d)', -7.5, -6.2, 'black', 0, 0, '', 8)\n      } else {\n        d[i] = droiteParPointEtPente(O, -1) as Droite\n        labelD = latexParCoordonnees('(d)', -7.5, 6.2, 'black', 0, 0, '', 8)\n      }\n      const guideDroites = []\n      for (let k = 0; k < this.nbPoints; k++) {\n        const guide = droiteParPointEtPerpendiculaire(\n          antecedents[k],\n          d[i],\n        ) as Droite\n        guide.pointilles = 2\n        guide.color = colorToLatexOrHTML(colors[k])\n        guide.opacite = 0.8\n        guideDroites.push(guide)\n      }\n      enonce =\n        `${this.sup2 === 1 ? 'Placer' : 'Construire'} le${this.nbPoints > 1 ? 's' : ''} symétrique${this.nbPoints > 1 ? 's' : ''} $${this.nbPoints > 1 ? this.labels[i].slice(0, this.nbPoints - 1).join(\"',\") + \"'\" : this.labels[i][0] + \"' \"}$` +\n        (this.nbPoints > 1\n          ? ` et $${this.labels[i][this.nbPoints - 1] + \"'\"}$`\n          : '') +\n        (this.nbPoints > 1 ? ' respectifs ' : '')\n      enonce +=\n        `${this.nbPoints > 1 ? ' des' : ' du'} point${this.nbPoints > 1 ? 's' : ''} $${this.nbPoints > 1 ? this.labels[i].slice(0, this.nbPoints - 1).join(',') : this.labels[i][0] + '$ par rapport à la droite $(d).'}$` +\n        (this.nbPoints > 1\n          ? ` et $${this.labels[i][this.nbPoints - 1]}$ par rapport à la droite $(d)$.<br>`\n          : '<br>')\n      const guidesArc = []\n      for (let k = 0; k < this.nbPoints; k++) {\n        symetriques[k] = symetrieAxiale(antecedents[k] as Point, d[i]) as Point\n        middle[k] = projectionOrtho(antecedents[k], d[i]) as Point\n        /*  const angleOffset = choice([-12, -10, -8, 8, 10, 12])\n          const ext1 = rotation(symetriques[k], middle[k], 3 * angleOffset)\n          const ext2 = rotation(symetriques[k], middle[k], -angleOffset)\n         */\n        const guide = cercleCentrePoint(middle[k], antecedents[k], colors[k])\n        guide.pointilles = 2\n        guide.opacite = 0.8\n        guidesArc.push(guide)\n      }\n      if (this.sup2 === 1) {\n        objets.push(grille(-8, -8, 8, 8, 'gray', 0.5, 1, 0))\n      } else if (this.sup2 === 2) {\n        enonce +=\n          'Les droites tracées en pointillés sont perpendiculaires à $(d)$.<br>'\n        objets.push(...guideDroites)\n      } else if (this.sup2 === 3) {\n        enonce += 'Les cercles tracés en pointillés sont centrés sur $(d)$.<br>'\n        objets.push(...guidesArc)\n      }\n      objets.push(d[i], labelD)\n      for (let k = 0; k < this.nbPoints; k++) {\n        objets.push(new TracePoint(antecedents[k]))\n        const sym = symetrieAxiale(\n          antecedents[k] as Point,\n          d[i],\n          (antecedents[k] as Point).nom + \"'\",\n        ) as Point\n        sym.positionLabel = positionneLabel(sym, antecedents[k])\n        antecedents[k].positionLabel = positionneLabel(antecedents[k], sym)\n        const egalite = codageMilieu(antecedents[k], sym, colors[k], marks[k])\n        const trace: TracePoint = new TracePoint(sym)\n        trace.color = colorToLatexOrHTML('red')\n        const labelSym = labelPoint(sym)\n        const label = labelPoint(antecedents[k])\n        objets.push(label)\n        objetsCorrection.push(trace, labelSym, egalite)\n      }\n      objetsCorrection = [...objets, ...objetsCorrection, ...guideDroites]\n      if (this.sup2 === 2) {\n        guideDroites.forEach((guide) => {\n          guide.epaisseur = 1\n          guide.opacite = 0.8\n        })\n        objetsCorrection.push(...guideDroites)\n      }\n      if (this.sup2 === 3) {\n        guidesArc.forEach((guide) => {\n          guide.epaisseur = 1\n          guide.opacite = 0.8\n        })\n        objetsCorrection.push(...guidesArc)\n      }\n      const pointSurD = pointSurDroite(d[i], 50, '', 'above')\n      for (let k = 0; k < this.nbPoints; k++) {\n        const carre = codageAngleDroit(\n          antecedents[k],\n          middle[k],\n          pointSurD,\n          'blue',\n          0.3,\n          0.5,\n        )\n\n        objetsCorrection.push(carre)\n      }\n      const options = {}\n      if (this.sup2 === 1)\n        Object.assign(options, { snapGrid: true, dx: 1, dy: 1 })\n      if (context.isHtml && this.interactif) {\n        this.figuresApiGeom[i] = new Figure(\n          Object.assign(options, {\n            xMin: -10,\n            yMin: -10,\n            width: 300,\n            height: 300,\n          }),\n        )\n        this.figuresApiGeom[i].options.labelAutomaticBeginsWith =\n          this.labels[i][0] + \"'\"\n        this.figuresApiGeom[i].scale = 0.5\n        this.figuresApiGeom[i].setToolbar({\n          tools: [\n            'POINT',\n            'POINT_ON',\n            'POINT_INTERSECTION',\n            'LINE_PERPENDICULAR',\n            'CIRCLE_CENTER_POINT',\n            'DRAG',\n            'NAME_POINT',\n            'SHAKE',\n            'UNDO',\n            'REDO',\n            'REMOVE',\n          ],\n          nbCols: 6,\n          position: 'top',\n        })\n        const O = this.figuresApiGeom[i].create('Point', {\n          x: 0,\n          y: 0,\n          isVisible: false,\n          isSelectable: false,\n        })\n        let pointB\n        if (choixDeLaxe[i] === 1) {\n          pointB = this.figuresApiGeom[i].create('Point', { x: 7, y: 0 })\n        } else if (choixDeLaxe[i] === 2) {\n          pointB = this.figuresApiGeom[i].create('Point', { x: 0, y: 7 })\n        } else if (choixDeLaxe[i] === 3) {\n          pointB = this.figuresApiGeom[i].create('Point', { x: 7, y: 7 })\n        } else {\n          pointB = this.figuresApiGeom[i].create('Point', { x: 7, y: -7 })\n        }\n        pointB.isVisible = false\n        // L'axe de symétrie est fixe\n        pointB.isFree = false\n        O.isFree = false\n        this.d[i] = this.figuresApiGeom[i].create('Line', {\n          point1: O,\n          point2: pointB,\n        }) as Line\n        this.d[i].color = 'blue'\n        this.d[i].thickness = 2\n        const labelX = labelD.x\n        const labelY = labelD.y\n        this.figuresApiGeom[i].create('TextByPosition', {\n          text: '$(d)$',\n          x: labelX,\n          y: labelY,\n        })\n        this.antecedents[i] = []\n        for (let k = 0; k < this.nbPoints; k++) {\n          ;(this.antecedents[i][k] as PointApigeom) = this.figuresApiGeom[\n            i\n          ].create('Point', {\n            x: antecedents[k].x,\n            y: antecedents[k].y,\n            isSelectable: true,\n            isFree: false,\n            label: antecedents[k].nom,\n          })\n        }\n        if (this.sup2 === 1) {\n          this.figuresApiGeom[i].create('Grid', {\n            xMin: -10,\n            yMin: -10,\n            xMax: 10,\n            yMax: 10,\n            stepX: 1,\n            stepY: 1,\n            color: 'gray',\n            axeX: false,\n            axeY: false,\n            labelX: false,\n            labelY: false,\n          })\n        }\n        if (this.sup2 === 2) {\n          for (let k = 0; k < this.nbPoints; k++) {\n            this.figuresApiGeom[i].create('LinePerpendicular', {\n              point: this.antecedents[i][k] as PointApigeom,\n              line: this.d[i],\n              isDashed: true,\n              color: 'gray',\n            })\n          }\n        }\n        if (this.sup2 === 3) {\n          for (let k = 0; k < this.nbPoints; k++) {\n            this.figuresApiGeom[i].create('CircleCenterPoint', {\n              center: this.figuresApiGeom[i].create('Point', {\n                isVisible: false,\n                x: middle[k].x,\n                y: middle[k].y,\n              }),\n              point: this.antecedents[i][k] as PointApigeom,\n              isDashed: true,\n              color: 'gray',\n            })\n          }\n        }\n        // this.figuresApiGeom[i].options.limitNumberOfElement.set('Point', 1)\n        const emplacementPourFigure = figureApigeom({\n          exercice: this,\n          i,\n          figure: this.figuresApiGeom[i],\n          defaultAction: 'POINT',\n        })\n        this.listeQuestions[i] = enonce + '<br><br>' + emplacementPourFigure\n      } else {\n        this.listeQuestions[i] =\n          enonce +\n          '<br><br>' +\n          mathalea2d(\n            {\n              xmin: -10,\n              xmax: 10,\n              ymin: -10,\n              ymax: 10,\n              scale: 0.5,\n              pixelsParCm: 15,\n            },\n            objets,\n          )\n      }\n      this.listeCorrections[i] = mathalea2d(\n        {\n          xmin: -10,\n          xmax: 10,\n          ymin: -10,\n          ymax: 10,\n          scale: 0.5,\n          pixelsParCm: 15,\n        },\n        objetsCorrection,\n      )\n    }\n  }\n\n  correctionInteractive = (i: number) => {\n    if (this.answers === undefined) this.answers = {}\n    // Sauvegarde de la réponse pour Capytale\n    this.answers[this.figuresApiGeom[i].id] = this.figuresApiGeom[i].json\n    const resultat = []\n    const divFeedback = document.querySelector(\n      `#feedbackEx${this.numeroExercice}Q${i}`,\n    ) as HTMLDivElement\n    let feedback = ''\n\n    // on crée les bons symétriques :\n    for (let k = 0; k < this.nbPoints; k++) {\n      const { x, y } = reflectOverLineCoord(\n        this.antecedents[i][k] as PointApigeom,\n        this.d[i],\n      )\n      const elts = Array.from(this.figuresApiGeom[i].elements.values())\n      const points = elts.filter(\n        (e) =>\n          e.type !== 'pointer' &&\n          (e.type === 'Point' ||\n            e.type === 'PointOnLine' ||\n            e.type === 'PointOnCircle' ||\n            e.type === 'PointIntersectionLL' ||\n            e.type === 'PointIntersectionLC' ||\n            e.type === 'PointIntersectionCC'),\n      ) as PointApigeom[]\n      const matchPoint = points.find(\n        (p) => p.label === `${this.labels[i][k]}'`,\n      ) as PointApigeom\n      const sym = points.find(\n        (p) => egal(x, p.x, 0.001) && egal(y, p.y, 0.001),\n      ) as PointApigeom\n      if (matchPoint != null) {\n        if (egal(x, matchPoint.x, 0.001) && egal(y, matchPoint.y, 0.001)) {\n          matchPoint.color = 'green'\n          matchPoint.thickness = 2\n          matchPoint.colorLabel = 'green'\n          resultat.push('OK')\n        } else {\n          matchPoint.color = 'green'\n          matchPoint.thickness = 2\n          matchPoint.colorLabel = 'green'\n          feedback += `Il y a  bien un point nommé $${(this.antecedents[i][k] as PointApigeom).label}'$ mais ce n'est pas le symétrique de $${(this.antecedents[i][k] as PointApigeom).label}$ !<br>`\n          resultat.push('KO')\n        }\n      } else {\n        if (sym != null) {\n          sym.color = 'green'\n          sym.thickness = 2\n          sym.colorLabel = 'red'\n          feedback += `Le symétrique de $${(this.antecedents[i][k] as PointApigeom).label}$ est bien construit mais il n'est pas nommé $${(this.antecedents[i][k] as PointApigeom).label}'$ !<br>`\n        } else {\n          feedback += `Il n'y a pas de point symétrique de $${(this.antecedents[i][k] as PointApigeom).label}$ et il n'y a pas de point nommé $${(this.antecedents[i][k] as PointApigeom).label}'$ !<br>`\n        }\n        resultat.push('KO')\n      }\n    }\n    if (this.sup2 !== 1) {\n      this.figuresApiGeom[i].shake()\n      feedback =\n        'On « secoue » la figure pour voir si les points sont bien définis.<br>' +\n        feedback\n    }\n    if (divFeedback) divFeedback.innerHTML = feedback\n    this.figuresApiGeom[i].isDynamic = false\n    this.figuresApiGeom[i].divButtons.style.display = 'none'\n    this.figuresApiGeom[i].divUserMessage.style.display = 'none'\n    return resultat\n  }\n}\n\nexport default ConstrctionsSymetriquesPoints\n"],"names":["titre","dateDePublication","dateDeModifImportante","interactifReady","interactifType","uuid","refs","positionneLabel","pointA","pointB","deletePoints","points","type","newPoints","typeV","point","e","ConstrctionsSymetriquesPoints","Exercice","__publicField","i","resultat","divFeedback","feedback","k","x","y","reflectOverLineCoord","matchPoint","p","sym","egal","marks","colors","context","choixDeLaxe","combinaisonListes","enonce","antecedents","middle","symetriques","objets","objetsCorrection","d","labelD","nuage","nuageSaved","randint","choice","n","shuffle","creerNomDePolygone","el","O","droiteHorizontaleParPoint","latexParCoordonnees","droiteVerticaleParPoint","droiteParPointEtPente","guideDroites","guide","droiteParPointEtPerpendiculaire","colorToLatexOrHTML","guidesArc","symetrieAxiale","projectionOrtho","cercleCentrePoint","grille","TracePoint","egalite","codageMilieu","trace","labelSym","labelPoint","label","pointSurD","pointSurDroite","carre","codageAngleDroit","options","Figure","labelX","labelY","emplacementPourFigure","figureApigeom","mathalea2d"],"mappings":"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"}
{"version":3,"file":"1AL23-50-vg3-lLwX.js","sources":["../../src/exercices/1e/1AL23-50.ts"],"sourcesContent":["import { courbe } from '../../lib/2d/courbes'\nimport { repere } from '../../lib/2d/reperes'\nimport { combinaisonListes } from '../../lib/outils/arrayOutils'\nimport { lettreMinusculeDepuisChiffre } from '../../lib/outils/outilString'\nimport {\n  premierMultipleInferieur,\n  premierMultipleSuperieur,\n} from '../../lib/outils/primalite'\nimport Exercice from '../Exercice'\nimport { mathalea2d } from '../../modules/2dGeneralites'\nimport { listeQuestionsToContenu, randint } from '../../modules/outils'\n\nexport const titre = \"Représentation graphique d'un polynôme du second degré\"\n\n/**\n * @author Jean-Léon Henry (modifié par EE pour corriger exo et remplacer Repere et Courbe par Repere2 et Courbe2 (juillet 2022))\n * Faire lire sur un graphique :\n * - le signe du coefficient dominant\n * - les racines\n * - les coordonnées du sommet et/ou la valeur de l'extremum\n * - les 3 trucs précédents\n\n */\nexport const uuid = 'a896e'\n\nexport const refs = {\n  'fr-fr': ['1AL23-50'],\n  'fr-ch': ['1mF3-1'],\n}\nexport default class LireElementsCarac extends Exercice {\n  constructor() {\n    super()\n    this.besoinFormulaireNumerique = [\n      'Type de questions ',\n      4,\n      '1 : Signe du coefficient dominant\\n2 : Racines\\n3 : Coordonnées du sommet\\n4 : Mélange des trois type de questions',\n    ]\n\n    this.nbQuestions = 5 // Nombre de questions par défaut\n    this.sup = 4\n  }\n\n  nouvelleVersion() {\n    this.consigne = 'Répondre à '\n    this.consigne += this.nbQuestions > 1 ? 'ces questions' : 'cette question'\n    this.consigne += ' par lecture graphique.'\n    const pixelsParCm = 20\n    let typesDeQuestionsDisponibles\n    if (this.sup < 4) typesDeQuestionsDisponibles = [parseInt(this.sup)]\n    else typesDeQuestionsDisponibles = [1, 2, 3]\n    const fName = []\n    const listeTypeDeQuestions = combinaisonListes(\n      typesDeQuestionsDisponibles,\n      this.nbQuestions,\n    )\n    let Ymin\n    let Yscale\n    let Ymax\n    let Xmin\n    let Xmax\n    for (let i = 0, cpt = 0; i < this.nbQuestions && cpt < 50; ) {\n      fName.push(lettreMinusculeDepuisChiffre(i + 6))\n      let texteCorr = ''\n      let texte = ''\n      const a = randint(-2, 2, 0) // On prend a au hasard quoi qu'il arrive\n      let b: number, c: number\n      let x1: number = 0\n      let x2: number = 0\n      let alpha: number = 0\n      let beta: number = 0\n\n      // Générons les coefficients du trinôme, la consigne, la correction\n      switch (listeTypeDeQuestions[i]) {\n        case 1: // Signe du coefficient dominant\n          texte = 'Quel est le signe du coefficient dominant'\n          // On choisit 2 racines entières distinctes dans [-10;10]\n          do {\n            x1 = randint(-10, 10)\n            x2 = randint(-10, 10, x1)\n          } while (x1 * x2 > 0) // Flemme de coder la gestion d'une racine double\n          // On fabrique les coeffs à partir des racines\n          b = -a * (x1 + x2)\n          c = x1 * x2 * a\n\n          texteCorr = `La parabole est orientée vers le ${a < 0 ? 'bas' : 'haut'}, on en déduit que le coefficient dominant de $\\\\mathscr{${fName[i]}}$ est ${a < 0 ? 'négatif' : 'positif'}.`\n          break\n        case 2: // Racines\n          texte = 'Quelles sont les racines'\n          // On choisit 2 racines entières distinctes dans [-10;10]\n          do {\n            x1 = randint(-10, 10)\n            x2 = randint(-10, 10, x1)\n          } while (x1 * x2 > 0) // Flemme de coder la gestion d'une racine double\n          // On fabrique les coeffs à partir des racines\n          b = -a * (x1 + x2)\n          c = x1 * x2 * a\n\n          texteCorr = `La courbe de $\\\\mathscr{${fName[i]}}$ coupe l'axe horizontal aux points $(${Math.min(x1, x2)};0)$ et $(${Math.max(x1, x2)};0)$. Les deux racines sont donc $${Math.min(x1, x2)}$ et $${Math.max(x1, x2)}$.`\n          break\n        case 3: // Coordonnées du sommet\n        default:\n          texte = 'Quelles sont les coordonnées du sommet'\n          // On choisit le sommet au hasard\n          alpha = randint(-5, 5)\n          beta = randint(-5, 5)\n          // On fabrique les coefficients\n          b = -2 * a * alpha\n          c = a * alpha ** 2 + beta\n\n          texteCorr = `Le sommet, c'est-à-dire le point le plus ${a > 0 ? 'bas' : 'haut'} de la parabole, a pour coordonnées $(${alpha};${beta})$.`\n          break\n      }\n      // Les coeffs sont générés, on peut donc créer la fonction\n      const f = function (x: number) {\n        return a * x ** 2 + b * x + c\n      }\n      texte += ` de la fonction polynomiale $\\\\mathscr{${fName[i]}}$ du second degré représentée ci-dessous ?<br>`\n      /** Génération du graphique\n       * a = randint(-2,2,0)\n       * Q1,Q2 :\n       *    deux racines dans [-9;9]\n       * Q3 :\n       *    le sommet dans le carré [-9;9]²\n       */\n\n      if (listeTypeDeQuestions[i] === 3) {\n        Xmin = alpha - 5\n        Xmax = alpha + 5\n        Ymin = beta - 5\n        Ymax = beta + 5\n      } else {\n        Xmin = Math.min(x1, x2) - 2\n        Xmax = Math.max(x1, x2) + 2\n        if (a < 0) {\n          Ymax = Math.ceil(f(-b / (2 * a)) + 2)\n          Ymin = f(Xmin)\n        } else {\n          Ymin = Math.floor(f(-b / (2 * a)) - 2)\n          Ymax = f(Xmax)\n        }\n      }\n\n      if (Ymax - Ymin < 10) Yscale = 2\n      else\n        Yscale =\n          Math.max(1, Math.round(Math.ceil((Ymax - Ymin) / 10) / 5) * 5) * 2\n      if (listeTypeDeQuestions[i] === 3) {\n        // Nécessaire pour permettre la lecture graphique\n        Yscale = 1\n      }\n      const r = repere({\n        xMin: Xmin,\n        yMin: premierMultipleInferieur(Yscale, Ymin),\n        yMax: premierMultipleSuperieur(Yscale, Ymax),\n        xMax: Xmax,\n        yUnite: 1 / Yscale,\n        yThickDistance: Yscale,\n        grilleYDistance: Yscale,\n        yLabelEcart: 0.8,\n      })\n\n      const svgYmin = Math.min(Ymin / Yscale, -1)\n      const svgYmax = Math.max(Ymax / Yscale, 1)\n\n      const F = (x: number) => a * x ** 2 + b * x + c\n      const objets = [\n        r,\n        courbe(F, {\n          repere: r,\n          xMin: Xmin,\n          xMax: Xmax,\n          color: 'blue',\n          epaisseur: 1.5,\n        }),\n      ]\n      texte += mathalea2d(\n        {\n          xmin: Xmin - 1,\n          xmax: Xmax + 1,\n          ymin: svgYmin,\n          ymax: svgYmax + 2,\n          pixelsParCm,\n          scale: 0.6,\n        },\n        objets,\n      )\n\n      if (this.questionJamaisPosee(i, a, b, c)) {\n        this.listeQuestions[i] = texte\n        this.listeCorrections[i] = texteCorr\n        i++\n      }\n      cpt++\n    }\n    listeQuestionsToContenu(this)\n  }\n}\n"],"names":["titre","uuid","refs","LireElementsCarac","Exercice","pixelsParCm","typesDeQuestionsDisponibles","fName","listeTypeDeQuestions","combinaisonListes","Ymin","Yscale","Ymax","Xmin","Xmax","i","cpt","lettreMinusculeDepuisChiffre","texteCorr","texte","a","randint","b","c","x1","x2","alpha","beta","f","x","r","repere","premierMultipleInferieur","premierMultipleSuperieur","svgYmin","svgYmax","objets","courbe","mathalea2d","listeQuestionsToContenu"],"mappings":"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"}